{
  "version": 3,
  "sources": ["../../src/index.ts", "../../src/games.ts", "../../node_modules/d3-dispatch/src/dispatch.js", "../../node_modules/d3-selection/src/namespaces.js", "../../node_modules/d3-selection/src/namespace.js", "../../node_modules/d3-selection/src/creator.js", "../../node_modules/d3-selection/src/selector.js", "../../node_modules/d3-selection/src/selection/select.js", "../../node_modules/d3-selection/src/array.js", "../../node_modules/d3-selection/src/selectorAll.js", "../../node_modules/d3-selection/src/selection/selectAll.js", "../../node_modules/d3-selection/src/matcher.js", "../../node_modules/d3-selection/src/selection/selectChild.js", "../../node_modules/d3-selection/src/selection/selectChildren.js", "../../node_modules/d3-selection/src/selection/filter.js", "../../node_modules/d3-selection/src/selection/sparse.js", "../../node_modules/d3-selection/src/selection/enter.js", "../../node_modules/d3-selection/src/constant.js", "../../node_modules/d3-selection/src/selection/data.js", "../../node_modules/d3-selection/src/selection/exit.js", "../../node_modules/d3-selection/src/selection/join.js", "../../node_modules/d3-selection/src/selection/merge.js", "../../node_modules/d3-selection/src/selection/order.js", "../../node_modules/d3-selection/src/selection/sort.js", "../../node_modules/d3-selection/src/selection/call.js", "../../node_modules/d3-selection/src/selection/nodes.js", "../../node_modules/d3-selection/src/selection/node.js", "../../node_modules/d3-selection/src/selection/size.js", "../../node_modules/d3-selection/src/selection/empty.js", "../../node_modules/d3-selection/src/selection/each.js", "../../node_modules/d3-selection/src/selection/attr.js", "../../node_modules/d3-selection/src/window.js", "../../node_modules/d3-selection/src/selection/style.js", "../../node_modules/d3-selection/src/selection/property.js", "../../node_modules/d3-selection/src/selection/classed.js", "../../node_modules/d3-selection/src/selection/text.js", "../../node_modules/d3-selection/src/selection/html.js", "../../node_modules/d3-selection/src/selection/raise.js", "../../node_modules/d3-selection/src/selection/lower.js", "../../node_modules/d3-selection/src/selection/append.js", "../../node_modules/d3-selection/src/selection/insert.js", "../../node_modules/d3-selection/src/selection/remove.js", "../../node_modules/d3-selection/src/selection/clone.js", "../../node_modules/d3-selection/src/selection/datum.js", "../../node_modules/d3-selection/src/selection/on.js", "../../node_modules/d3-selection/src/selection/dispatch.js", "../../node_modules/d3-selection/src/selection/iterator.js", "../../node_modules/d3-selection/src/selection/index.js", "../../node_modules/d3-selection/src/select.js", "../../node_modules/d3-color/src/define.js", "../../node_modules/d3-color/src/color.js", "../../node_modules/d3-interpolate/src/basis.js", "../../node_modules/d3-interpolate/src/basisClosed.js", "../../node_modules/d3-interpolate/src/constant.js", "../../node_modules/d3-interpolate/src/color.js", "../../node_modules/d3-interpolate/src/rgb.js", "../../node_modules/d3-interpolate/src/number.js", "../../node_modules/d3-interpolate/src/string.js", "../../node_modules/d3-interpolate/src/transform/decompose.js", "../../node_modules/d3-interpolate/src/transform/parse.js", "../../node_modules/d3-interpolate/src/transform/index.js", "../../node_modules/d3-timer/src/timer.js", "../../node_modules/d3-timer/src/timeout.js", "../../node_modules/d3-transition/src/transition/schedule.js", "../../node_modules/d3-transition/src/interrupt.js", "../../node_modules/d3-transition/src/selection/interrupt.js", "../../node_modules/d3-transition/src/transition/tween.js", "../../node_modules/d3-transition/src/transition/interpolate.js", "../../node_modules/d3-transition/src/transition/attr.js", "../../node_modules/d3-transition/src/transition/attrTween.js", "../../node_modules/d3-transition/src/transition/delay.js", "../../node_modules/d3-transition/src/transition/duration.js", "../../node_modules/d3-transition/src/transition/ease.js", "../../node_modules/d3-transition/src/transition/easeVarying.js", "../../node_modules/d3-transition/src/transition/filter.js", "../../node_modules/d3-transition/src/transition/merge.js", "../../node_modules/d3-transition/src/transition/on.js", "../../node_modules/d3-transition/src/transition/remove.js", "../../node_modules/d3-transition/src/transition/select.js", "../../node_modules/d3-transition/src/transition/selectAll.js", "../../node_modules/d3-transition/src/transition/selection.js", "../../node_modules/d3-transition/src/transition/style.js", "../../node_modules/d3-transition/src/transition/styleTween.js", "../../node_modules/d3-transition/src/transition/text.js", "../../node_modules/d3-transition/src/transition/textTween.js", "../../node_modules/d3-transition/src/transition/transition.js", "../../node_modules/d3-transition/src/transition/end.js", "../../node_modules/d3-transition/src/transition/index.js", "../../node_modules/d3-ease/src/cubic.js", "../../node_modules/d3-transition/src/selection/transition.js", "../../node_modules/d3-transition/src/selection/index.js", "../../node_modules/d3-brush/src/brush.js", "../../node_modules/d3-path/src/path.js", "../../node_modules/d3-hierarchy/src/hierarchy/count.js", "../../node_modules/d3-hierarchy/src/hierarchy/each.js", "../../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js", "../../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js", "../../node_modules/d3-hierarchy/src/hierarchy/find.js", "../../node_modules/d3-hierarchy/src/hierarchy/sum.js", "../../node_modules/d3-hierarchy/src/hierarchy/sort.js", "../../node_modules/d3-hierarchy/src/hierarchy/path.js", "../../node_modules/d3-hierarchy/src/hierarchy/ancestors.js", "../../node_modules/d3-hierarchy/src/hierarchy/descendants.js", "../../node_modules/d3-hierarchy/src/hierarchy/leaves.js", "../../node_modules/d3-hierarchy/src/hierarchy/links.js", "../../node_modules/d3-hierarchy/src/hierarchy/iterator.js", "../../node_modules/d3-hierarchy/src/hierarchy/index.js", "../../node_modules/d3-hierarchy/src/tree.js", "../../node_modules/d3-shape/src/constant.js", "../../node_modules/d3-shape/src/path.js", "../../node_modules/d3-shape/src/array.js", "../../node_modules/d3-shape/src/point.js", "../../node_modules/d3-shape/src/curve/bump.js", "../../node_modules/d3-shape/src/link.js", "../../node_modules/d3-zoom/src/transform.js", "../src/tree-viz.ts", "../src/fourinarow.ts"],
  "sourcesContent": ["/**\n * Modern TypeScript implementation of Monte Carlo Tree Search (MCTS)\n * Clone game once per simulation, then apply moves forward.\n */\n\nexport class RandomSelection<T> {\n  constructor(public readonly array: readonly T[]) {}\n}\n\nexport interface Game<TMove = unknown, TPlayer = unknown> {\n  getPossibleMoves(): readonly TMove[] | RandomSelection<TMove>;\n  performMove(move: TMove): void;\n  getCurrentPlayer(): TPlayer;\n  getWinner(): TPlayer | null;\n  clone(): Game<TMove, TPlayer>;\n}\n\nexport type PlayerScore = Record<string, number>;\n\n// Tree node info for visualization\nexport interface TreeNodeInfo<TMove> {\n  move: TMove | null;\n  visits: number;\n  wins: PlayerScore;\n  winRate: number;\n  children: TreeNodeInfo<TMove>[];\n}\n\nclass Node<TMove, TPlayer> {\n  public wins: PlayerScore = {};\n  public visits = 0;\n  public children: Node<TMove, TPlayer>[] | null = null;\n  public randomNode = false;\n\n  constructor(\n    public readonly parent: Node<TMove, TPlayer> | null,\n    public readonly move: TMove | null,\n    private readonly mcts: MCTS<TMove, TPlayer>\n  ) {}\n\n  public getUCB1(player: TPlayer): number {\n    // Always visit unvisited nodes first\n    if (this.visits === 0) {\n      return Number.POSITIVE_INFINITY;\n    }\n    if (this.parent === null) {\n      return 0;\n    }\n\n    const wins = this.wins[String(player)] ?? 0;\n    const scorePerVisit = wins / this.visits;\n\n    // UCB1 formula: exploitation + exploration\n    // See https://en.wikipedia.org/wiki/Monte_Carlo_tree_search#Exploration_and_exploitation\n    return scorePerVisit + Math.sqrt((2 * Math.log(this.parent.visits)) / this.visits);\n  }\n\n  public getChildren(game: Game<TMove, TPlayer>): Node<TMove, TPlayer>[] {\n    if (this.children === null) {\n      const movesResult = game.getPossibleMoves();\n      let moves: readonly TMove[];\n\n      if (movesResult instanceof RandomSelection) {\n        moves = movesResult.array;\n        this.randomNode = true;\n      } else {\n        moves = movesResult;\n      }\n\n      this.children = moves.map((move) => new Node<TMove, TPlayer>(this, move, this.mcts));\n    }\n    return this.children;\n  }\n\n  public nextMove(game: Game<TMove, TPlayer>): Node<TMove, TPlayer> {\n    const children = this.getChildren(game);\n\n    if (children.length === 0) {\n      throw new Error('Cannot get next move from a node with no children');\n    }\n\n    // Shuffle to randomize equal nodes\n    const shuffled = this.shuffle([...children]);\n\n    if (this.randomNode) {\n      const last = shuffled[shuffled.length - 1];\n      if (last === undefined) {\n        throw new Error('No children available for random selection');\n      }\n      return last;\n    }\n\n    // Sort by UCB1 score and pick the best\n    shuffled.sort((a, b) => this.mcts.compareNodes(a, b, game));\n    const best = shuffled[shuffled.length - 1];\n    if (best === undefined) {\n      throw new Error('No children available after sorting');\n    }\n    return best;\n  }\n\n  private shuffle<T>(array: T[]): T[] {\n    // Fisher-Yates shuffle\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      const temp = array[i];\n      const other = array[j];\n      if (temp !== undefined && other !== undefined) {\n        array[i] = other;\n        array[j] = temp;\n      }\n    }\n    return array;\n  }\n\n  // Export tree structure for visualization\n  public toTreeInfo(player: TPlayer, maxDepth: number): TreeNodeInfo<TMove> {\n    const playerWins = this.wins[String(player)] ?? 0;\n    const winRate = this.visits > 0 ? playerWins / this.visits : 0;\n\n    let childrenInfo: TreeNodeInfo<TMove>[] = [];\n    if (maxDepth > 0 && this.children) {\n      childrenInfo = this.children\n        .filter((c) => c.visits > 0)\n        .sort((a, b) => b.visits - a.visits)\n        .slice(0, 10) // Limit to top 10 children for performance\n        .map((c) => c.toTreeInfo(player, maxDepth - 1));\n    }\n\n    return {\n      move: this.move,\n      visits: this.visits,\n      wins: { ...this.wins },\n      winRate,\n      children: childrenInfo,\n    };\n  }\n}\n\nexport class MCTS<TMove = unknown, TPlayer = unknown> {\n  private readonly rootNode: Node<TMove, TPlayer>;\n  private readonly rounds: number;\n\n  constructor(\n    private readonly game: Game<TMove, TPlayer>,\n    rounds?: number\n  ) {\n    this.rounds = rounds ?? 1000;\n    this.rootNode = new Node<TMove, TPlayer>(null, null, this);\n  }\n\n  public selectMove(): TMove {\n    for (let round = 0; round < this.rounds; round++) {\n      this.runSimulation();\n    }\n\n    const children = this.rootNode.getChildren(this.game);\n    if (children.length === 0) {\n      throw new Error('No possible moves available');\n    }\n\n    // Select the child with the most visits\n    let bestChild = children[0];\n    if (bestChild === undefined) {\n      throw new Error('No children available');\n    }\n\n    for (const child of children) {\n      if (child.visits > bestChild.visits) {\n        bestChild = child;\n      }\n    }\n\n    if (bestChild.move === null) {\n      throw new Error('Best child has null move');\n    }\n\n    return bestChild.move;\n  }\n\n  public getStats(): { move: TMove; visits: number; wins: PlayerScore }[] {\n    const children = this.rootNode.getChildren(this.game);\n    return children.map((child) => {\n      if (child.move === null) {\n        throw new Error('Child node has null move');\n      }\n      return {\n        move: child.move,\n        visits: child.visits,\n        wins: { ...child.wins },\n      };\n    });\n  }\n\n  // Run a batch of simulations (for incremental visualization)\n  public runSimulations(count: number): void {\n    for (let i = 0; i < count; i++) {\n      this.runSimulation();\n    }\n  }\n\n  // Get current total simulation count\n  public getSimulationCount(): number {\n    return this.rootNode.visits;\n  }\n\n  // Get tree structure for visualization\n  public getTreeInfo(maxDepth: number = 3): TreeNodeInfo<TMove> {\n    const player = this.game.getCurrentPlayer();\n    return this.rootNode.toTreeInfo(player, maxDepth);\n  }\n\n  // Get the best move without running more simulations\n  public getBestMove(): TMove | null {\n    const children = this.rootNode.children;\n    if (!children || children.length === 0) {\n      return null;\n    }\n\n    let bestChild = children[0];\n    if (!bestChild) {\n      return null;\n    }\n\n    for (const child of children) {\n      if (child.visits > bestChild.visits) {\n        bestChild = child;\n      }\n    }\n\n    return bestChild.move;\n  }\n\n  // Get move statistics for board highlighting\n  public getMoveStats(): { move: TMove; visits: number; wins: PlayerScore; winRate: number }[] {\n    const children = this.rootNode.children;\n    if (!children) {\n      return [];\n    }\n\n    const player = this.game.getCurrentPlayer();\n    return children\n      .filter((child) => child.move !== null && child.visits > 0)\n      .map((child) => {\n        const playerWins = child.wins[String(player)] ?? 0;\n        return {\n          move: child.move as TMove,\n          visits: child.visits,\n          wins: { ...child.wins },\n          winRate: child.visits > 0 ? playerWins / child.visits : 0,\n        };\n      })\n      .sort((a, b) => b.visits - a.visits);\n  }\n\n  public compareNodes(\n    a: Node<TMove, TPlayer>,\n    b: Node<TMove, TPlayer>,\n    game: Game<TMove, TPlayer>\n  ): number {\n    if (a.parent === null) {\n      return 0;\n    }\n    const currentPlayer = game.getCurrentPlayer();\n    return a.getUCB1(currentPlayer) - b.getUCB1(currentPlayer);\n  }\n\n  private runSimulation(): void {\n    // Clone the game once for this simulation\n    const simGame = this.game.clone();\n\n    const path: Node<TMove, TPlayer>[] = [this.rootNode];\n    let currentNode = this.rootNode;\n    currentNode.visits++;\n\n    // Selection: traverse down the tree using UCB1\n    while (currentNode.getChildren(simGame).length > 0) {\n      currentNode = currentNode.nextMove(simGame);\n      currentNode.visits++;\n      path.push(currentNode);\n\n      // Apply the move to our simulation game\n      if (currentNode.move !== null) {\n        simGame.performMove(currentNode.move);\n      }\n    }\n\n    // Get the winner at this leaf node\n    const winner = simGame.getWinner();\n\n    // Backpropagation: update wins up the tree\n    for (const node of path) {\n      if (winner !== null) {\n        const winnerKey = String(winner);\n        node.wins[winnerKey] = (node.wins[winnerKey] ?? 0) + 1;\n      }\n    }\n\n    // No need to undo - just discard the cloned game\n  }\n}\n", "/**\n * Example game implementations for MCTS testing\n */\n\nimport { type Game, RandomSelection } from './index';\n\nexport class SingleCellGame implements Game<number, number> {\n  private board: (number | null)[] = [null];\n  private readonly currentPlayer = 0;\n\n  public getPossibleMoves(): number[] {\n    if (this.board[0] === null) {\n      return [0];\n    }\n    return [];\n  }\n\n  public performMove(move: number): void {\n    this.board[move] = 0;\n  }\n\n  public getCurrentPlayer(): number {\n    return this.currentPlayer;\n  }\n\n  public getWinner(): number | null {\n    return this.board[0] ?? null;\n  }\n\n  public clone(): SingleCellGame {\n    const cloned = new SingleCellGame();\n    cloned.board = [...this.board];\n    return cloned;\n  }\n}\n\nexport class TwoCellGame implements Game<number, number> {\n  private board: (number | null)[] = [null, null];\n  private currentPlayer = 0;\n\n  public getPossibleMoves(): number[] {\n    const available: number[] = [];\n    for (let i = 0; i < 2; i++) {\n      if (this.board[i] === null) {\n        available.push(i);\n      }\n    }\n    return available;\n  }\n\n  public performMove(move: number): void {\n    this.board[move] = this.currentPlayer;\n    this.currentPlayer = (this.currentPlayer + 1) % 2;\n  }\n\n  public getCurrentPlayer(): number {\n    return this.currentPlayer;\n  }\n\n  public getWinner(): number | null {\n    return this.board[1] ?? null;\n  }\n\n  public clone(): TwoCellGame {\n    const cloned = new TwoCellGame();\n    cloned.board = [...this.board];\n    cloned.currentPlayer = this.currentPlayer;\n    return cloned;\n  }\n}\n\ntype TicTacToePlayer = 'X' | 'O';\ntype TicTacToeMove = readonly [number, number];\n\nexport class TicTacToeGame implements Game<TicTacToeMove, TicTacToePlayer> {\n  public board: (TicTacToePlayer | null)[][] = [\n    [null, null, null],\n    [null, null, null],\n    [null, null, null],\n  ];\n\n  private readonly boardScore: readonly (readonly number[])[] = [\n    [1, 2, 4],\n    [8, 16, 32],\n    [64, 128, 256],\n  ];\n\n  private readonly winningScores = [7, 56, 448, 73, 146, 292, 273, 84];\n  private currentPlayer: TicTacToePlayer = 'X';\n\n  public getPossibleMoves(): TicTacToeMove[] {\n    if (this.getWinner() !== null) {\n      return [];\n    }\n\n    const available: TicTacToeMove[] = [];\n    for (let y = 0; y < 3; y++) {\n      for (let x = 0; x < 3; x++) {\n        if (this.board[y]?.[x] === null) {\n          available.push([y, x]);\n        }\n      }\n    }\n    return available;\n  }\n\n  public performMove(move: TicTacToeMove): void {\n    const [y, x] = move;\n    const row = this.board[y];\n    if (row === undefined) {\n      throw new Error(`Invalid row: ${y}`);\n    }\n    row[x] = this.currentPlayer;\n    this.currentPlayer = this.currentPlayer === 'X' ? 'O' : 'X';\n  }\n\n  public getCurrentPlayer(): TicTacToePlayer {\n    return this.currentPlayer;\n  }\n\n  public getWinner(): TicTacToePlayer | null {\n    const playerScores: Record<TicTacToePlayer, number> = { X: 0, O: 0 };\n\n    for (let y = 0; y < 3; y++) {\n      for (let x = 0; x < 3; x++) {\n        const cell = this.board[y]?.[x];\n        if (cell !== null && cell !== undefined) {\n          const score = this.boardScore[y]?.[x];\n          if (score !== undefined) {\n            playerScores[cell] += score;\n          }\n        }\n      }\n    }\n\n    for (const player of ['X', 'O'] as const) {\n      for (const winningScore of this.winningScores) {\n        if ((winningScore & playerScores[player]) === winningScore) {\n          return player;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  public clone(): TicTacToeGame {\n    const cloned = new TicTacToeGame();\n    cloned.board = this.board.map((row) => [...row]);\n    cloned.currentPlayer = this.currentPlayer;\n    return cloned;\n  }\n}\n\ntype DiceMove = number;\n\nexport class SummingDiceGame implements Game<DiceMove, number> {\n  private readonly currentPlayer = 1;\n  private round = 0;\n  private score = 0;\n  private diceToRoll = 0;\n\n  public getPossibleMoves(): DiceMove[] | RandomSelection<DiceMove> {\n    switch (this.round) {\n      case 0:\n        return [0, 1, 2];\n      case 1:\n        if (this.diceToRoll === 0) {\n          return new RandomSelection([]);\n        }\n        if (this.diceToRoll === 1) {\n          return new RandomSelection([1, 2, 3, 4, 5, 6]);\n        }\n        return new RandomSelection([\n          2, 3, 3, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9, 9,\n          10, 10, 10, 11, 11, 12,\n        ]);\n    }\n    return [];\n  }\n\n  public getCurrentPlayer(): number {\n    return this.currentPlayer;\n  }\n\n  public performMove(move: DiceMove): void {\n    switch (this.round) {\n      case 0:\n        this.diceToRoll = move;\n        break;\n      case 1:\n        this.score += move;\n        break;\n    }\n    this.round++;\n  }\n\n  public getWinner(): number | null {\n    if (this.score > 5) {\n      return 1;\n    }\n    return null;\n  }\n\n  public clone(): SummingDiceGame {\n    const cloned = new SummingDiceGame();\n    cloned.round = this.round;\n    cloned.score = this.score;\n    cloned.diceToRoll = this.diceToRoll;\n    return cloned;\n  }\n}\n\n// Connect 4 / 4 in a Row game implementation\nexport type Connect4Player = 'Red' | 'Yellow';\nexport type Connect4Move = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\nexport class Connect4Game implements Game<Connect4Move, Connect4Player> {\n  public static readonly ROWS = 6;\n  public static readonly COLS = 7;\n  public static readonly WIN_LENGTH = 4;\n\n  // Board stored as rows from bottom to top, columns left to right\n  public board: (Connect4Player | null)[][] = [];\n  private currentPlayer: Connect4Player = 'Red';\n  private lastMove: { row: number; col: number } | null = null;\n\n  constructor() {\n    this.initBoard();\n  }\n\n  private initBoard(): void {\n    this.board = [];\n    for (let row = 0; row < Connect4Game.ROWS; row++) {\n      this.board.push(new Array(Connect4Game.COLS).fill(null));\n    }\n  }\n\n  public getPossibleMoves(): Connect4Move[] {\n    if (this.getWinner() !== null) {\n      return [];\n    }\n\n    const moves: Connect4Move[] = [];\n    for (let col = 0; col < Connect4Game.COLS; col++) {\n      // Check if the top row of this column is empty\n      const topRow = this.board[Connect4Game.ROWS - 1];\n      if (topRow && topRow[col] === null) {\n        moves.push(col as Connect4Move);\n      }\n    }\n    return moves;\n  }\n\n  public performMove(move: Connect4Move): void {\n    // Find the lowest empty row in this column\n    for (let row = 0; row < Connect4Game.ROWS; row++) {\n      const boardRow = this.board[row];\n      if (boardRow && boardRow[move] === null) {\n        boardRow[move] = this.currentPlayer;\n        this.lastMove = { row, col: move };\n        this.currentPlayer = this.currentPlayer === 'Red' ? 'Yellow' : 'Red';\n        return;\n      }\n    }\n    throw new Error(`Column ${move} is full`);\n  }\n\n  public getCurrentPlayer(): Connect4Player {\n    return this.currentPlayer;\n  }\n\n  public getLastMove(): { row: number; col: number } | null {\n    return this.lastMove;\n  }\n\n  public getWinner(): Connect4Player | null {\n    // Check all directions from each cell\n    const directions: [number, number][] = [\n      [0, 1], // horizontal\n      [1, 0], // vertical\n      [1, 1], // diagonal down-right\n      [1, -1], // diagonal down-left\n    ];\n\n    for (let row = 0; row < Connect4Game.ROWS; row++) {\n      for (let col = 0; col < Connect4Game.COLS; col++) {\n        const cell = this.board[row]?.[col];\n        if (cell === null || cell === undefined) {\n          continue;\n        }\n\n        for (const [dr, dc] of directions) {\n          if (this.checkWinFrom(row, col, dr, dc, cell)) {\n            return cell;\n          }\n        }\n      }\n    }\n    return null;\n  }\n\n  private checkWinFrom(\n    startRow: number,\n    startCol: number,\n    dr: number,\n    dc: number,\n    player: Connect4Player\n  ): boolean {\n    for (let i = 0; i < Connect4Game.WIN_LENGTH; i++) {\n      const row = startRow + i * dr;\n      const col = startCol + i * dc;\n      if (\n        row < 0 ||\n        row >= Connect4Game.ROWS ||\n        col < 0 ||\n        col >= Connect4Game.COLS ||\n        this.board[row]?.[col] !== player\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Get the winning line cells (if any)\n  public getWinningCells(): { row: number; col: number }[] | null {\n    const directions: [number, number][] = [\n      [0, 1],\n      [1, 0],\n      [1, 1],\n      [1, -1],\n    ];\n\n    for (let row = 0; row < Connect4Game.ROWS; row++) {\n      for (let col = 0; col < Connect4Game.COLS; col++) {\n        const cell = this.board[row]?.[col];\n        if (cell === null || cell === undefined) {\n          continue;\n        }\n\n        for (const [dr, dc] of directions) {\n          if (this.checkWinFrom(row, col, dr, dc, cell)) {\n            const cells: { row: number; col: number }[] = [];\n            for (let i = 0; i < Connect4Game.WIN_LENGTH; i++) {\n              cells.push({ row: row + i * dr, col: col + i * dc });\n            }\n            return cells;\n          }\n        }\n      }\n    }\n    return null;\n  }\n\n  public isBoardFull(): boolean {\n    const topRow = this.board[Connect4Game.ROWS - 1];\n    if (!topRow) {\n      return false;\n    }\n    return topRow.every((cell) => cell !== null);\n  }\n\n  public clone(): Connect4Game {\n    const cloned = new Connect4Game();\n    cloned.board = this.board.map((row) => [...row]);\n    cloned.currentPlayer = this.currentPlayer;\n    cloned.lastMove = this.lastMove ? { ...this.lastMove } : null;\n    return cloned;\n  }\n}\n", "var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don\u2019t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn\u2019t worried about \u201Clive\u201D collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don\u2019t; we\u2019d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n", "import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n", "import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n", "import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n", "import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n", "import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n", "import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n", "import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n", "import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n", "import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n", "import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n", "function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n", "import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n", "import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n", "import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n", "function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n", "import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n", "function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n", "import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n", "import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we\u2019re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n", "import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name \u201C__brush\u201D rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We\u2019re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don\u2019t include the root\u2019s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-\u2019s ancestor is a sibling of v, returns vi-\u2019s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.\u2019s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n", "import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n", "export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n", "import * as d3 from 'd3';\nimport type { TreeNodeInfo } from '../../src/index';\n\ninterface D3TreeNode {\n  name: string;\n  visits: number;\n  winRate: number;\n  children?: D3TreeNode[];\n}\n\n// Convert MCTS tree to D3 hierarchy format\nexport function convertToD3Tree<TMove>(\n  node: TreeNodeInfo<TMove>,\n  formatMove: (move: TMove | null) => string,\n  maxDepth: number = 3\n): D3TreeNode {\n  const d3Node: D3TreeNode = {\n    name: node.move === null ? 'Root' : formatMove(node.move),\n    visits: node.visits,\n    winRate: node.winRate,\n  };\n\n  if (maxDepth > 0 && node.children.length > 0) {\n    // Sort by visits and take top children\n    const sortedChildren = [...node.children]\n      .sort((a, b) => b.visits - a.visits)\n      .slice(0, 7);\n\n    d3Node.children = sortedChildren.map((child) =>\n      convertToD3Tree(child, formatMove, maxDepth - 1)\n    );\n  }\n\n  return d3Node;\n}\n\n// Color scale based on visits (relative to max in tree)\nfunction getColorByVisits(visits: number, maxVisits: number): string {\n  if (maxVisits === 0) return '#64748b';\n  const ratio = visits / maxVisits;\n\n  // Color gradient from red (low) -> yellow (medium) -> green (high)\n  if (ratio > 0.6) {\n    // Green range\n    const intensity = (ratio - 0.6) / 0.4;\n    return d3.interpolateRgb('#22c55e', '#14b8a6')(intensity);\n  } else if (ratio > 0.2) {\n    // Yellow range\n    const intensity = (ratio - 0.2) / 0.4;\n    return d3.interpolateRgb('#f59e0b', '#22c55e')(intensity);\n  } else {\n    // Red range\n    const intensity = ratio / 0.2;\n    return d3.interpolateRgb('#ef4444', '#f59e0b')(intensity);\n  }\n}\n\n// Find max visits in tree\nfunction findMaxVisits(node: D3TreeNode): number {\n  let max = node.visits;\n  if (node.children) {\n    for (const child of node.children) {\n      max = Math.max(max, findMaxVisits(child));\n    }\n  }\n  return max;\n}\n\n// Render D3 tree visualization\nexport function renderD3Tree(\n  container: HTMLElement,\n  treeData: D3TreeNode\n): void {\n  // Clear previous content\n  container.innerHTML = '';\n\n  if (treeData.visits === 0) {\n    container.innerHTML =\n      '<p style=\"color: var(--text-muted); text-align: center; padding: 20px;\">No simulations yet...</p>';\n    return;\n  }\n\n  const maxVisits = findMaxVisits(treeData);\n\n  // Set dimensions\n  const containerRect = container.getBoundingClientRect();\n  const width = Math.max(containerRect.width - 20, 400);\n  const height = Math.max(350, Math.min(500, width * 0.6));\n  const margin = { top: 30, right: 120, bottom: 30, left: 60 };\n\n  // Create SVG\n  const svg = d3\n    .select(container)\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', `0 0 ${width} ${height}`)\n    .attr('style', 'max-width: 100%; height: auto;');\n\n  const g = svg\n    .append('g')\n    .attr('transform', `translate(${margin.left},${margin.top})`);\n\n  // Create tree layout\n  const treeLayout = d3\n    .tree<D3TreeNode>()\n    .size([height - margin.top - margin.bottom, width - margin.left - margin.right]);\n\n  // Create hierarchy\n  const root = d3.hierarchy(treeData);\n  const treeNodes = treeLayout(root);\n\n  // Draw links\n  g.selectAll('.link')\n    .data(treeNodes.links())\n    .enter()\n    .append('path')\n    .attr('class', 'link')\n    .attr('fill', 'none')\n    .attr('stroke', '#475569')\n    .attr('stroke-width', (d) => {\n      const targetVisits = (d.target.data as D3TreeNode).visits;\n      return Math.max(1, Math.min(4, (targetVisits / maxVisits) * 4));\n    })\n    .attr('stroke-opacity', 0.6)\n    .attr(\n      'd',\n      d3\n        .linkHorizontal<d3.HierarchyPointLink<D3TreeNode>, d3.HierarchyPointNode<D3TreeNode>>()\n        .x((d) => d.y)\n        .y((d) => d.x)\n    );\n\n  // Draw nodes\n  const node = g\n    .selectAll('.node')\n    .data(treeNodes.descendants())\n    .enter()\n    .append('g')\n    .attr('class', 'node')\n    .attr('transform', (d) => `translate(${d.y},${d.x})`);\n\n  // Node circles\n  node\n    .append('circle')\n    .attr('r', (d) => {\n      const visits = (d.data as D3TreeNode).visits;\n      return Math.max(6, Math.min(20, 6 + (visits / maxVisits) * 14));\n    })\n    .attr('fill', (d) => getColorByVisits((d.data as D3TreeNode).visits, maxVisits))\n    .attr('stroke', '#1e293b')\n    .attr('stroke-width', 2)\n    .style('filter', 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))');\n\n  // Node labels (move name)\n  node\n    .append('text')\n    .attr('dy', -15)\n    .attr('text-anchor', 'middle')\n    .attr('fill', '#f8fafc')\n    .attr('font-size', '11px')\n    .attr('font-weight', '600')\n    .text((d) => (d.data as D3TreeNode).name);\n\n  // Visit count labels\n  node\n    .append('text')\n    .attr('dy', 4)\n    .attr('text-anchor', 'middle')\n    .attr('fill', '#1e293b')\n    .attr('font-size', '9px')\n    .attr('font-weight', 'bold')\n    .text((d) => {\n      const visits = (d.data as D3TreeNode).visits;\n      if (visits >= 1000) {\n        return `${(visits / 1000).toFixed(1)}k`;\n      }\n      return String(visits);\n    });\n\n  // Add legend\n  const legend = svg\n    .append('g')\n    .attr('transform', `translate(${width - 110}, 10)`);\n\n  legend\n    .append('text')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('fill', '#94a3b8')\n    .attr('font-size', '10px')\n    .text('Visits:');\n\n  const legendColors = [\n    { label: 'High', color: '#14b8a6' },\n    { label: 'Med', color: '#f59e0b' },\n    { label: 'Low', color: '#ef4444' },\n  ];\n\n  legendColors.forEach((item, i) => {\n    legend\n      .append('circle')\n      .attr('cx', 5 + i * 30)\n      .attr('cy', 15)\n      .attr('r', 5)\n      .attr('fill', item.color);\n\n    legend\n      .append('text')\n      .attr('x', 12 + i * 30)\n      .attr('y', 18)\n      .attr('fill', '#94a3b8')\n      .attr('font-size', '8px')\n      .text(item.label);\n  });\n}\n", "import { MCTS, type TreeNodeInfo } from '../../src/index';\nimport { Connect4Game, type Connect4Move } from '../../src/games';\nimport { convertToD3Tree, renderD3Tree } from './tree-viz';\n\n// DOM elements\nlet boardEl: HTMLElement;\nlet columnIndicatorsEl: HTMLElement;\nlet statusEl: HTMLElement;\nlet simCounterEl: HTMLElement;\nlet treeContainerEl: HTMLElement;\nlet newGameBtn: HTMLElement;\nlet simulationsSelect: HTMLSelectElement;\nlet showThinkingSelect: HTMLSelectElement;\n\n// Game state\nlet game: Connect4Game;\nlet isPlayerTurn = true;\nlet gameOver = false;\n\n// Initialize DOM references\nfunction initDOM(): void {\n  boardEl = document.getElementById('board')!;\n  columnIndicatorsEl = document.getElementById('column-indicators')!;\n  statusEl = document.getElementById('status')!;\n  simCounterEl = document.getElementById('sim-counter')!;\n  treeContainerEl = document.getElementById('tree-container')!;\n  newGameBtn = document.getElementById('new-game')!;\n  simulationsSelect = document.getElementById('simulations') as HTMLSelectElement;\n  showThinkingSelect = document.getElementById('show-thinking') as HTMLSelectElement;\n\n  newGameBtn.addEventListener('click', startNewGame);\n}\n\n// Create the board cells\nfunction renderBoard(): void {\n  // Create column indicators\n  columnIndicatorsEl.innerHTML = '';\n  for (let col = 0; col < Connect4Game.COLS; col++) {\n    const indicator = document.createElement('div');\n    indicator.className = 'column-indicator';\n    indicator.dataset.col = String(col);\n    columnIndicatorsEl.appendChild(indicator);\n  }\n\n  // Create board cells (from top to bottom visually, but stored bottom to top)\n  boardEl.innerHTML = '';\n  for (let row = Connect4Game.ROWS - 1; row >= 0; row--) {\n    for (let col = 0; col < Connect4Game.COLS; col++) {\n      const cell = document.createElement('div');\n      cell.className = 'connect4-cell';\n      cell.dataset.row = String(row);\n      cell.dataset.col = String(col);\n      cell.addEventListener('click', () => handleCellClick(col));\n      boardEl.appendChild(cell);\n    }\n  }\n  updateBoardDisplay();\n}\n\n// Update the visual display of the board\nfunction updateBoardDisplay(): void {\n  const cells = boardEl.querySelectorAll('.connect4-cell');\n  cells.forEach((cell) => {\n    const cellEl = cell as HTMLElement;\n    const row = parseInt(cellEl.dataset.row!, 10);\n    const col = parseInt(cellEl.dataset.col!, 10);\n    const value = game.board[row]?.[col];\n\n    // Clear previous classes (keep base class)\n    cellEl.classList.remove('Red', 'Yellow', 'occupied', 'disabled', 'winner', 'dropping');\n\n    if (value) {\n      cellEl.classList.add(value, 'occupied');\n    }\n\n    if (gameOver || !isPlayerTurn) {\n      cellEl.classList.add('disabled');\n    }\n  });\n\n  // Highlight winning cells if game is over\n  if (gameOver) {\n    const winningCells = game.getWinningCells();\n    if (winningCells) {\n      for (const { row, col } of winningCells) {\n        const cell = boardEl.querySelector(`[data-row=\"${row}\"][data-col=\"${col}\"]`);\n        if (cell) {\n          cell.classList.add('winner');\n        }\n      }\n    }\n  }\n}\n\n// Handle clicking a column\nfunction handleCellClick(col: number): void {\n  if (!isPlayerTurn || gameOver) {\n    return;\n  }\n\n  const possibleMoves = game.getPossibleMoves();\n  if (!possibleMoves.includes(col as Connect4Move)) {\n    return;\n  }\n\n  // Make the move with drop animation\n  const targetRow = findDropRow(col);\n  game.performMove(col as Connect4Move);\n\n  // Add dropping animation to the new piece\n  if (targetRow !== null) {\n    const cell = boardEl.querySelector(`[data-row=\"${targetRow}\"][data-col=\"${col}\"]`);\n    if (cell) {\n      cell.classList.add('dropping');\n      setTimeout(() => cell.classList.remove('dropping'), 400);\n    }\n  }\n\n  updateBoardDisplay();\n\n  // Check for game over\n  const winner = game.getWinner();\n  if (winner) {\n    gameOver = true;\n    setStatus(`<span class=\"player-${winner.toLowerCase()}\">${winner}</span> wins!`);\n    updateBoardDisplay();\n    return;\n  }\n\n  if (game.isBoardFull()) {\n    gameOver = true;\n    setStatus(\"It's a draw!\");\n    return;\n  }\n\n  // AI's turn\n  isPlayerTurn = false;\n  setStatus('AI is thinking...', true);\n\n  // Use setTimeout to allow UI to update before heavy computation\n  setTimeout(doAIMove, 50);\n}\n\n// Find the row where a piece would drop in a column\nfunction findDropRow(col: number): number | null {\n  for (let row = 0; row < Connect4Game.ROWS; row++) {\n    if (game.board[row]?.[col] === null) {\n      return row;\n    }\n  }\n  return null;\n}\n\n// Format move for display in tree\nfunction formatMove(move: Connect4Move | null): string {\n  if (move === null) {\n    return 'Root';\n  }\n  return `Col ${move + 1}`;\n}\n\n// AI makes a move with visualization\nasync function doAIMove(): Promise<void> {\n  const simulations = parseInt(simulationsSelect.value, 10);\n  const showThinking = showThinkingSelect.value === 'true';\n\n  const mcts = new MCTS(game, simulations);\n\n  if (showThinking) {\n    // Run simulations in batches for visualization\n    const batchSize = Math.min(100, Math.ceil(simulations / 15));\n    let completed = 0;\n\n    while (completed < simulations) {\n      const remaining = simulations - completed;\n      const toRun = Math.min(batchSize, remaining);\n      mcts.runSimulations(toRun);\n      completed += toRun;\n\n      // Update visualization\n      updateSimCounter(completed, simulations);\n      highlightColumns(mcts.getMoveStats());\n      updateTreeVisualization(mcts.getTreeInfo(3));\n\n      // Yield to allow UI updates\n      await new Promise((resolve) => setTimeout(resolve, 10));\n    }\n  } else {\n    // Run all simulations at once\n    mcts.runSimulations(simulations);\n    updateSimCounter(simulations, simulations);\n  }\n\n  // Get the best move\n  const bestMove = mcts.getBestMove() as Connect4Move | null;\n  if (bestMove === null) {\n    gameOver = true;\n    setStatus(\"It's a draw!\");\n    return;\n  }\n\n  // Clear highlights and make the move\n  clearHighlights();\n\n  // Find target row for animation\n  const targetRow = findDropRow(bestMove);\n  game.performMove(bestMove);\n\n  // Add dropping animation\n  if (targetRow !== null) {\n    const cell = boardEl.querySelector(`[data-row=\"${targetRow}\"][data-col=\"${bestMove}\"]`);\n    if (cell) {\n      cell.classList.add('dropping');\n      setTimeout(() => cell.classList.remove('dropping'), 400);\n    }\n  }\n\n  updateBoardDisplay();\n\n  // Check for game over\n  const winner = game.getWinner();\n  if (winner) {\n    gameOver = true;\n    setStatus(`<span class=\"player-${winner.toLowerCase()}\">${winner}</span> wins!`);\n    updateBoardDisplay();\n    return;\n  }\n\n  if (game.isBoardFull()) {\n    gameOver = true;\n    setStatus(\"It's a draw!\");\n    return;\n  }\n\n  // Player's turn\n  isPlayerTurn = true;\n  setStatus('Your turn! Click a column to drop a piece.');\n  simCounterEl.textContent = '';\n}\n\n// Highlight column indicators based on AI evaluation (by visits)\nfunction highlightColumns(stats: { move: Connect4Move; visits: number; winRate: number }[]): void {\n  if (stats.length === 0) {\n    return;\n  }\n\n  const maxVisits = Math.max(...stats.map((s) => s.visits));\n\n  // Clear existing highlights\n  const indicators = columnIndicatorsEl.querySelectorAll('.column-indicator');\n  indicators.forEach((ind) => {\n    ind.classList.remove('highlight-strong', 'highlight-medium', 'highlight-weak');\n  });\n\n  for (const stat of stats) {\n    const indicator = columnIndicatorsEl.querySelector(`[data-col=\"${stat.move}\"]`);\n    if (!indicator) {\n      continue;\n    }\n\n    const ratio = stat.visits / maxVisits;\n    if (ratio > 0.6) {\n      indicator.classList.add('highlight-strong');\n    } else if (ratio > 0.2) {\n      indicator.classList.add('highlight-medium');\n    } else {\n      indicator.classList.add('highlight-weak');\n    }\n  }\n}\n\n// Clear all highlights\nfunction clearHighlights(): void {\n  const indicators = columnIndicatorsEl.querySelectorAll('.column-indicator');\n  indicators.forEach((ind) => {\n    ind.classList.remove('highlight-strong', 'highlight-medium', 'highlight-weak');\n  });\n}\n\n// Update the tree visualization using D3\nfunction updateTreeVisualization(tree: TreeNodeInfo<Connect4Move>): void {\n  const d3Tree = convertToD3Tree(tree, formatMove, 3);\n  renderD3Tree(treeContainerEl, d3Tree);\n}\n\n// Update simulation counter\nfunction updateSimCounter(current: number, total: number): void {\n  simCounterEl.textContent = `Simulations: ${current} / ${total}`;\n}\n\n// Set status message\nfunction setStatus(message: string, thinking = false): void {\n  statusEl.innerHTML = message;\n  statusEl.classList.toggle('thinking', thinking);\n}\n\n// Start a new game\nfunction startNewGame(): void {\n  game = new Connect4Game();\n  isPlayerTurn = true;\n  gameOver = false;\n  setStatus('Your turn! Click a column to drop a piece.');\n  simCounterEl.textContent = '';\n  treeContainerEl.innerHTML =\n    '<p style=\"color: var(--text-muted);\">The AI\\'s search tree will appear here when it\\'s thinking...</p>';\n  renderBoard();\n}\n\n// Initialize on load\ndocument.addEventListener('DOMContentLoaded', () => {\n  initDOM();\n  startNewGame();\n});\n"],
  "mappings": ";;;;;;;;;;AAKO,MAAM,kBAAN,MAAyB;AAAA,IAC9B,YAA4BA,QAAqB;AAArB,mBAAAA;AAAA,IAAsB;AAAA,EACpD;AAqBA,MAAM,OAAN,MAAM,MAAqB;AAAA,IAMzB,YACkB,QACA,MACC,MACjB;AAHgB;AACA;AACC;AARnB,0BAAO,QAAoB,CAAC;AAC5B,0BAAO,UAAS;AAChB,0BAAO,YAA0C;AACjD,0BAAO,cAAa;AAAA,IAMjB;AAAA,IAEI,QAAQ,QAAyB;AAEtC,UAAI,KAAK,WAAW,GAAG;AACrB,eAAO,OAAO;AAAA,MAChB;AACA,UAAI,KAAK,WAAW,MAAM;AACxB,eAAO;AAAA,MACT;AAEA,YAAM,OAAO,KAAK,KAAK,OAAO,MAAM,CAAC,KAAK;AAC1C,YAAM,gBAAgB,OAAO,KAAK;AAIlC,aAAO,gBAAgB,KAAK,KAAM,IAAI,KAAK,IAAI,KAAK,OAAO,MAAM,IAAK,KAAK,MAAM;AAAA,IACnF;AAAA,IAEO,YAAYC,OAAoD;AACrE,UAAI,KAAK,aAAa,MAAM;AAC1B,cAAM,cAAcA,MAAK,iBAAiB;AAC1C,YAAI;AAEJ,YAAI,uBAAuB,iBAAiB;AAC1C,kBAAQ,YAAY;AACpB,eAAK,aAAa;AAAA,QACpB,OAAO;AACL,kBAAQ;AAAA,QACV;AAEA,aAAK,WAAW,MAAM,IAAI,CAAC,SAAS,IAAI,MAAqB,MAAM,MAAM,KAAK,IAAI,CAAC;AAAA,MACrF;AACA,aAAO,KAAK;AAAA,IACd;AAAA,IAEO,SAASA,OAAkD;AAChE,YAAMC,YAAW,KAAK,YAAYD,KAAI;AAEtC,UAAIC,UAAS,WAAW,GAAG;AACzB,cAAM,IAAI,MAAM,mDAAmD;AAAA,MACrE;AAGA,YAAM,WAAW,KAAK,QAAQ,CAAC,GAAGA,SAAQ,CAAC;AAE3C,UAAI,KAAK,YAAY;AACnB,cAAM,OAAO,SAAS,SAAS,SAAS,CAAC;AACzC,YAAI,SAAS,QAAW;AACtB,gBAAM,IAAI,MAAM,4CAA4C;AAAA,QAC9D;AACA,eAAO;AAAA,MACT;AAGA,eAAS,KAAK,CAAC,GAAG,MAAM,KAAK,KAAK,aAAa,GAAG,GAAGD,KAAI,CAAC;AAC1D,YAAM,OAAO,SAAS,SAAS,SAAS,CAAC;AACzC,UAAI,SAAS,QAAW;AACtB,cAAM,IAAI,MAAM,qCAAqC;AAAA,MACvD;AACA,aAAO;AAAA,IACT;AAAA,IAEQ,QAAWD,QAAiB;AAElC,eAAS,IAAIA,OAAM,SAAS,GAAG,IAAI,GAAG,KAAK;AACzC,cAAM,IAAI,KAAK,MAAM,KAAK,OAAO,KAAK,IAAI,EAAE;AAC5C,cAAM,OAAOA,OAAM,CAAC;AACpB,cAAM,QAAQA,OAAM,CAAC;AACrB,YAAI,SAAS,UAAa,UAAU,QAAW;AAC7C,UAAAA,OAAM,CAAC,IAAI;AACX,UAAAA,OAAM,CAAC,IAAI;AAAA,QACb;AAAA,MACF;AACA,aAAOA;AAAA,IACT;AAAA;AAAA,IAGO,WAAW,QAAiB,UAAuC;AACxE,YAAM,aAAa,KAAK,KAAK,OAAO,MAAM,CAAC,KAAK;AAChD,YAAM,UAAU,KAAK,SAAS,IAAI,aAAa,KAAK,SAAS;AAE7D,UAAI,eAAsC,CAAC;AAC3C,UAAI,WAAW,KAAK,KAAK,UAAU;AACjC,uBAAe,KAAK,SACjB,OAAO,CAAC,MAAM,EAAE,SAAS,CAAC,EAC1B,KAAK,CAAC,GAAG,MAAM,EAAE,SAAS,EAAE,MAAM,EAClC,MAAM,GAAG,EAAE,EACX,IAAI,CAAC,MAAM,EAAE,WAAW,QAAQ,WAAW,CAAC,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,QACL,MAAM,KAAK;AAAA,QACX,QAAQ,KAAK;AAAA,QACb,MAAM,EAAE,GAAG,KAAK,KAAK;AAAA,QACrB;AAAA,QACA,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAEO,MAAM,OAAN,MAA+C;AAAA,IAIpD,YACmBC,OACjB,QACA;AAFiB,kBAAAA;AAJnB,0BAAiB;AACjB,0BAAiB;AAMf,WAAK,SAAS,UAAU;AACxB,WAAK,WAAW,IAAI,KAAqB,MAAM,MAAM,IAAI;AAAA,IAC3D;AAAA,IAEO,aAAoB;AACzB,eAAS,QAAQ,GAAG,QAAQ,KAAK,QAAQ,SAAS;AAChD,aAAK,cAAc;AAAA,MACrB;AAEA,YAAMC,YAAW,KAAK,SAAS,YAAY,KAAK,IAAI;AACpD,UAAIA,UAAS,WAAW,GAAG;AACzB,cAAM,IAAI,MAAM,6BAA6B;AAAA,MAC/C;AAGA,UAAI,YAAYA,UAAS,CAAC;AAC1B,UAAI,cAAc,QAAW;AAC3B,cAAM,IAAI,MAAM,uBAAuB;AAAA,MACzC;AAEA,iBAAW,SAASA,WAAU;AAC5B,YAAI,MAAM,SAAS,UAAU,QAAQ;AACnC,sBAAY;AAAA,QACd;AAAA,MACF;AAEA,UAAI,UAAU,SAAS,MAAM;AAC3B,cAAM,IAAI,MAAM,0BAA0B;AAAA,MAC5C;AAEA,aAAO,UAAU;AAAA,IACnB;AAAA,IAEO,WAAiE;AACtE,YAAMA,YAAW,KAAK,SAAS,YAAY,KAAK,IAAI;AACpD,aAAOA,UAAS,IAAI,CAAC,UAAU;AAC7B,YAAI,MAAM,SAAS,MAAM;AACvB,gBAAM,IAAI,MAAM,0BAA0B;AAAA,QAC5C;AACA,eAAO;AAAA,UACL,MAAM,MAAM;AAAA,UACZ,QAAQ,MAAM;AAAA,UACd,MAAM,EAAE,GAAG,MAAM,KAAK;AAAA,QACxB;AAAA,MACF,CAAC;AAAA,IACH;AAAA;AAAA,IAGO,eAAeC,QAAqB;AACzC,eAAS,IAAI,GAAG,IAAIA,QAAO,KAAK;AAC9B,aAAK,cAAc;AAAA,MACrB;AAAA,IACF;AAAA;AAAA,IAGO,qBAA6B;AAClC,aAAO,KAAK,SAAS;AAAA,IACvB;AAAA;AAAA,IAGO,YAAY,WAAmB,GAAwB;AAC5D,YAAM,SAAS,KAAK,KAAK,iBAAiB;AAC1C,aAAO,KAAK,SAAS,WAAW,QAAQ,QAAQ;AAAA,IAClD;AAAA;AAAA,IAGO,cAA4B;AACjC,YAAMD,YAAW,KAAK,SAAS;AAC/B,UAAI,CAACA,aAAYA,UAAS,WAAW,GAAG;AACtC,eAAO;AAAA,MACT;AAEA,UAAI,YAAYA,UAAS,CAAC;AAC1B,UAAI,CAAC,WAAW;AACd,eAAO;AAAA,MACT;AAEA,iBAAW,SAASA,WAAU;AAC5B,YAAI,MAAM,SAAS,UAAU,QAAQ;AACnC,sBAAY;AAAA,QACd;AAAA,MACF;AAEA,aAAO,UAAU;AAAA,IACnB;AAAA;AAAA,IAGO,eAAsF;AAC3F,YAAMA,YAAW,KAAK,SAAS;AAC/B,UAAI,CAACA,WAAU;AACb,eAAO,CAAC;AAAA,MACV;AAEA,YAAM,SAAS,KAAK,KAAK,iBAAiB;AAC1C,aAAOA,UACJ,OAAO,CAAC,UAAU,MAAM,SAAS,QAAQ,MAAM,SAAS,CAAC,EACzD,IAAI,CAAC,UAAU;AACd,cAAM,aAAa,MAAM,KAAK,OAAO,MAAM,CAAC,KAAK;AACjD,eAAO;AAAA,UACL,MAAM,MAAM;AAAA,UACZ,QAAQ,MAAM;AAAA,UACd,MAAM,EAAE,GAAG,MAAM,KAAK;AAAA,UACtB,SAAS,MAAM,SAAS,IAAI,aAAa,MAAM,SAAS;AAAA,QAC1D;AAAA,MACF,CAAC,EACA,KAAK,CAAC,GAAG,MAAM,EAAE,SAAS,EAAE,MAAM;AAAA,IACvC;AAAA,IAEO,aACL,GACA,GACAD,OACQ;AACR,UAAI,EAAE,WAAW,MAAM;AACrB,eAAO;AAAA,MACT;AACA,YAAM,gBAAgBA,MAAK,iBAAiB;AAC5C,aAAO,EAAE,QAAQ,aAAa,IAAI,EAAE,QAAQ,aAAa;AAAA,IAC3D;AAAA,IAEQ,gBAAsB;AAE5B,YAAM,UAAU,KAAK,KAAK,MAAM;AAEhC,YAAMG,QAA+B,CAAC,KAAK,QAAQ;AACnD,UAAI,cAAc,KAAK;AACvB,kBAAY;AAGZ,aAAO,YAAY,YAAY,OAAO,EAAE,SAAS,GAAG;AAClD,sBAAc,YAAY,SAAS,OAAO;AAC1C,oBAAY;AACZ,QAAAA,MAAK,KAAK,WAAW;AAGrB,YAAI,YAAY,SAAS,MAAM;AAC7B,kBAAQ,YAAY,YAAY,IAAI;AAAA,QACtC;AAAA,MACF;AAGA,YAAM,SAAS,QAAQ,UAAU;AAGjC,iBAAW,QAAQA,OAAM;AACvB,YAAI,WAAW,MAAM;AACnB,gBAAM,YAAY,OAAO,MAAM;AAC/B,eAAK,KAAK,SAAS,KAAK,KAAK,KAAK,SAAS,KAAK,KAAK;AAAA,QACvD;AAAA,MACF;AAAA,IAGF;AAAA,EACF;;;ACnFO,MAAM,gBAAN,MAAM,cAA2D;AAAA,IAUtE,cAAc;AAJd;AAAA,0BAAO,SAAqC,CAAC;AAC7C,0BAAQ,iBAAgC;AACxC,0BAAQ,YAAgD;AAGtD,WAAK,UAAU;AAAA,IACjB;AAAA,IAEQ,YAAkB;AACxB,WAAK,QAAQ,CAAC;AACd,eAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,aAAK,MAAM,KAAK,IAAI,MAAM,cAAa,IAAI,EAAE,KAAK,IAAI,CAAC;AAAA,MACzD;AAAA,IACF;AAAA,IAEO,mBAAmC;AACxC,UAAI,KAAK,UAAU,MAAM,MAAM;AAC7B,eAAO,CAAC;AAAA,MACV;AAEA,YAAM,QAAwB,CAAC;AAC/B,eAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAEhD,cAAM,SAAS,KAAK,MAAM,cAAa,OAAO,CAAC;AAC/C,YAAI,UAAU,OAAO,GAAG,MAAM,MAAM;AAClC,gBAAM,KAAK,GAAmB;AAAA,QAChC;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,IAEO,YAAY,MAA0B;AAE3C,eAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,cAAM,WAAW,KAAK,MAAM,GAAG;AAC/B,YAAI,YAAY,SAAS,IAAI,MAAM,MAAM;AACvC,mBAAS,IAAI,IAAI,KAAK;AACtB,eAAK,WAAW,EAAE,KAAK,KAAK,KAAK;AACjC,eAAK,gBAAgB,KAAK,kBAAkB,QAAQ,WAAW;AAC/D;AAAA,QACF;AAAA,MACF;AACA,YAAM,IAAI,MAAM,UAAU,IAAI,UAAU;AAAA,IAC1C;AAAA,IAEO,mBAAmC;AACxC,aAAO,KAAK;AAAA,IACd;AAAA,IAEO,cAAmD;AACxD,aAAO,KAAK;AAAA,IACd;AAAA,IAEO,YAAmC;AAExC,YAAM,aAAiC;AAAA,QACrC,CAAC,GAAG,CAAC;AAAA;AAAA,QACL,CAAC,GAAG,CAAC;AAAA;AAAA,QACL,CAAC,GAAG,CAAC;AAAA;AAAA,QACL,CAAC,GAAG,EAAE;AAAA;AAAA,MACR;AAEA,eAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,iBAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,gBAAM,OAAO,KAAK,MAAM,GAAG,IAAI,GAAG;AAClC,cAAI,SAAS,QAAQ,SAAS,QAAW;AACvC;AAAA,UACF;AAEA,qBAAW,CAAC,IAAI,EAAE,KAAK,YAAY;AACjC,gBAAI,KAAK,aAAa,KAAK,KAAK,IAAI,IAAI,IAAI,GAAG;AAC7C,qBAAO;AAAA,YACT;AAAA,UACF;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,IAEQ,aACN,UACA,UACA,IACA,IACA,QACS;AACT,eAAS,IAAI,GAAG,IAAI,cAAa,YAAY,KAAK;AAChD,cAAM,MAAM,WAAW,IAAI;AAC3B,cAAM,MAAM,WAAW,IAAI;AAC3B,YACE,MAAM,KACN,OAAO,cAAa,QACpB,MAAM,KACN,OAAO,cAAa,QACpB,KAAK,MAAM,GAAG,IAAI,GAAG,MAAM,QAC3B;AACA,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA;AAAA,IAGO,kBAAyD;AAC9D,YAAM,aAAiC;AAAA,QACrC,CAAC,GAAG,CAAC;AAAA,QACL,CAAC,GAAG,CAAC;AAAA,QACL,CAAC,GAAG,CAAC;AAAA,QACL,CAAC,GAAG,EAAE;AAAA,MACR;AAEA,eAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,iBAAS,MAAM,GAAG,MAAM,cAAa,MAAM,OAAO;AAChD,gBAAM,OAAO,KAAK,MAAM,GAAG,IAAI,GAAG;AAClC,cAAI,SAAS,QAAQ,SAAS,QAAW;AACvC;AAAA,UACF;AAEA,qBAAW,CAAC,IAAI,EAAE,KAAK,YAAY;AACjC,gBAAI,KAAK,aAAa,KAAK,KAAK,IAAI,IAAI,IAAI,GAAG;AAC7C,oBAAM,QAAwC,CAAC;AAC/C,uBAAS,IAAI,GAAG,IAAI,cAAa,YAAY,KAAK;AAChD,sBAAM,KAAK,EAAE,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,IAAI,GAAG,CAAC;AAAA,cACrD;AACA,qBAAO;AAAA,YACT;AAAA,UACF;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAAA,IAEO,cAAuB;AAC5B,YAAM,SAAS,KAAK,MAAM,cAAa,OAAO,CAAC;AAC/C,UAAI,CAAC,QAAQ;AACX,eAAO;AAAA,MACT;AACA,aAAO,OAAO,MAAM,CAAC,SAAS,SAAS,IAAI;AAAA,IAC7C;AAAA,IAEO,QAAsB;AAC3B,YAAM,SAAS,IAAI,cAAa;AAChC,aAAO,QAAQ,KAAK,MAAM,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;AAC/C,aAAO,gBAAgB,KAAK;AAC5B,aAAO,WAAW,KAAK,WAAW,EAAE,GAAG,KAAK,SAAS,IAAI;AACzD,aAAO;AAAA,IACT;AAAA,EACF;AAxJE,gBADW,eACY,QAAO;AAC9B,gBAFW,eAEY,QAAO;AAC9B,gBAHW,eAGY,cAAa;AAH/B,MAAM,eAAN;;;ACzNP,MAAI,OAAO,EAAC,OAAO,MAAM;AAAA,EAAC,EAAC;AAE3B,WAAS,WAAW;AAClB,aAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,GAAG;AAC3D,UAAI,EAAE,IAAI,UAAU,CAAC,IAAI,OAAQ,KAAK,KAAM,QAAQ,KAAK,CAAC;AAAG,cAAM,IAAI,MAAM,mBAAmB,CAAC;AACjG,QAAE,CAAC,IAAI,CAAC;AAAA,IACV;AACA,WAAO,IAAI,SAAS,CAAC;AAAA,EACvB;AAEA,WAAS,SAAS,GAAG;AACnB,SAAK,IAAI;AAAA,EACX;AAEA,WAAS,eAAe,WAAW,OAAO;AACxC,WAAO,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,IAAI,SAAS,GAAG;AACrD,UAAI,OAAO,IAAI,IAAI,EAAE,QAAQ,GAAG;AAChC,UAAI,KAAK;AAAG,eAAO,EAAE,MAAM,IAAI,CAAC,GAAG,IAAI,EAAE,MAAM,GAAG,CAAC;AACnD,UAAI,KAAK,CAAC,MAAM,eAAe,CAAC;AAAG,cAAM,IAAI,MAAM,mBAAmB,CAAC;AACvE,aAAO,EAAC,MAAM,GAAG,KAAU;AAAA,IAC7B,CAAC;AAAA,EACH;AAEA,WAAS,YAAY,SAAS,YAAY;AAAA,IACxC,aAAa;AAAA,IACb,IAAI,SAAS,UAAU,UAAU;AAC/B,UAAI,IAAI,KAAK,GACT,IAAI,eAAe,WAAW,IAAI,CAAC,GACnC,GACA,IAAI,IACJ,IAAI,EAAE;AAGV,UAAI,UAAU,SAAS,GAAG;AACxB,eAAO,EAAE,IAAI;AAAG,eAAK,KAAK,WAAW,EAAE,CAAC,GAAG,UAAU,IAAI,IAAI,EAAE,CAAC,GAAG,SAAS,IAAI;AAAI,mBAAO;AAC3F;AAAA,MACF;AAIA,UAAI,YAAY,QAAQ,OAAO,aAAa;AAAY,cAAM,IAAI,MAAM,uBAAuB,QAAQ;AACvG,aAAO,EAAE,IAAI,GAAG;AACd,YAAI,KAAK,WAAW,EAAE,CAAC,GAAG;AAAM,YAAE,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,SAAS,MAAM,QAAQ;AAAA,iBAC/D,YAAY;AAAM,eAAK,KAAK;AAAG,cAAE,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,SAAS,MAAM,IAAI;AAAA,MAC9E;AAEA,aAAO;AAAA,IACT;AAAA,IACA,MAAM,WAAW;AACf,UAAI,OAAO,CAAC,GAAG,IAAI,KAAK;AACxB,eAAS,KAAK;AAAG,aAAK,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM;AACtC,aAAO,IAAI,SAAS,IAAI;AAAA,IAC1B;AAAA,IACA,MAAM,SAASC,OAAM,MAAM;AACzB,WAAK,IAAI,UAAU,SAAS,KAAK;AAAG,iBAAS,OAAO,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,EAAE;AAAG,eAAK,CAAC,IAAI,UAAU,IAAI,CAAC;AACpH,UAAI,CAAC,KAAK,EAAE,eAAeA,KAAI;AAAG,cAAM,IAAI,MAAM,mBAAmBA,KAAI;AACzE,WAAK,IAAI,KAAK,EAAEA,KAAI,GAAG,IAAI,GAAG,IAAI,EAAE,QAAQ,IAAI,GAAG,EAAE;AAAG,UAAE,CAAC,EAAE,MAAM,MAAM,MAAM,IAAI;AAAA,IACrF;AAAA,IACA,OAAO,SAASA,OAAM,MAAM,MAAM;AAChC,UAAI,CAAC,KAAK,EAAE,eAAeA,KAAI;AAAG,cAAM,IAAI,MAAM,mBAAmBA,KAAI;AACzE,eAAS,IAAI,KAAK,EAAEA,KAAI,GAAG,IAAI,GAAG,IAAI,EAAE,QAAQ,IAAI,GAAG,EAAE;AAAG,UAAE,CAAC,EAAE,MAAM,MAAM,MAAM,IAAI;AAAA,IACzF;AAAA,EACF;AAEA,WAAS,IAAIA,OAAM,MAAM;AACvB,aAAS,IAAI,GAAG,IAAIA,MAAK,QAAQ,GAAG,IAAI,GAAG,EAAE,GAAG;AAC9C,WAAK,IAAIA,MAAK,CAAC,GAAG,SAAS,MAAM;AAC/B,eAAO,EAAE;AAAA,MACX;AAAA,IACF;AAAA,EACF;AAEA,WAAS,IAAIA,OAAM,MAAM,UAAU;AACjC,aAAS,IAAI,GAAG,IAAIA,MAAK,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC3C,UAAIA,MAAK,CAAC,EAAE,SAAS,MAAM;AACzB,QAAAA,MAAK,CAAC,IAAI,MAAMA,QAAOA,MAAK,MAAM,GAAG,CAAC,EAAE,OAAOA,MAAK,MAAM,IAAI,CAAC,CAAC;AAChE;AAAA,MACF;AAAA,IACF;AACA,QAAI,YAAY;AAAM,MAAAA,MAAK,KAAK,EAAC,MAAY,OAAO,SAAQ,CAAC;AAC7D,WAAOA;AAAA,EACT;AAEA,MAAO,mBAAQ;;;ACnFR,MAAI,QAAQ;AAEnB,MAAO,qBAAQ;AAAA,IACb,KAAK;AAAA,IACL;AAAA,IACA,OAAO;AAAA,IACP,KAAK;AAAA,IACL,OAAO;AAAA,EACT;;;ACNe,WAAR,kBAAiB,MAAM;AAC5B,QAAI,SAAS,QAAQ,IAAI,IAAI,OAAO,QAAQ,GAAG;AAC/C,QAAI,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG,CAAC,OAAO;AAAS,aAAO,KAAK,MAAM,IAAI,CAAC;AAC9E,WAAO,mBAAW,eAAe,MAAM,IAAI,EAAC,OAAO,mBAAW,MAAM,GAAG,OAAO,KAAI,IAAI;AAAA,EACxF;;;ACHA,WAAS,eAAe,MAAM;AAC5B,WAAO,WAAW;AAChB,UAAIC,YAAW,KAAK,eAChB,MAAM,KAAK;AACf,aAAO,QAAQ,SAASA,UAAS,gBAAgB,iBAAiB,QAC5DA,UAAS,cAAc,IAAI,IAC3BA,UAAS,gBAAgB,KAAK,IAAI;AAAA,IAC1C;AAAA,EACF;AAEA,WAAS,aAAa,UAAU;AAC9B,WAAO,WAAW;AAChB,aAAO,KAAK,cAAc,gBAAgB,SAAS,OAAO,SAAS,KAAK;AAAA,IAC1E;AAAA,EACF;AAEe,WAAR,gBAAiB,MAAM;AAC5B,QAAI,WAAW,kBAAU,IAAI;AAC7B,YAAQ,SAAS,QACX,eACA,gBAAgB,QAAQ;AAAA,EAChC;;;ACxBA,WAAS,OAAO;AAAA,EAAC;AAEF,WAAR,iBAAiB,UAAU;AAChC,WAAO,YAAY,OAAO,OAAO,WAAW;AAC1C,aAAO,KAAK,cAAc,QAAQ;AAAA,IACpC;AAAA,EACF;;;ACHe,WAAR,eAAiB,QAAQ;AAC9B,QAAI,OAAO,WAAW;AAAY,eAAS,iBAAS,MAAM;AAE1D,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC9F,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,WAAW,UAAU,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,MAAM,SAAS,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACtH,aAAK,OAAO,MAAM,CAAC,OAAO,UAAU,OAAO,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,IAAI;AAC/E,cAAI,cAAc;AAAM,oBAAQ,WAAW,KAAK;AAChD,mBAAS,CAAC,IAAI;AAAA,QAChB;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,UAAU,WAAW,KAAK,QAAQ;AAAA,EAC/C;;;ACVe,WAAR,MAAuBC,IAAG;AAC/B,WAAOA,MAAK,OAAO,CAAC,IAAI,MAAM,QAAQA,EAAC,IAAIA,KAAI,MAAM,KAAKA,EAAC;AAAA,EAC7D;;;ACRA,WAAS,QAAQ;AACf,WAAO,CAAC;AAAA,EACV;AAEe,WAAR,oBAAiB,UAAU;AAChC,WAAO,YAAY,OAAO,QAAQ,WAAW;AAC3C,aAAO,KAAK,iBAAiB,QAAQ;AAAA,IACvC;AAAA,EACF;;;ACJA,WAAS,SAAS,QAAQ;AACxB,WAAO,WAAW;AAChB,aAAO,MAAM,OAAO,MAAM,MAAM,SAAS,CAAC;AAAA,IAC5C;AAAA,EACF;AAEe,WAAR,kBAAiB,QAAQ;AAC9B,QAAI,OAAO,WAAW;AAAY,eAAS,SAAS,MAAM;AAAA;AACrD,eAAS,oBAAY,MAAM;AAEhC,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,CAAC,GAAG,UAAU,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAClG,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,oBAAU,KAAK,OAAO,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,CAAC;AACzD,kBAAQ,KAAK,IAAI;AAAA,QACnB;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,UAAU,WAAW,OAAO;AAAA,EACzC;;;ACxBe,WAAR,gBAAiB,UAAU;AAChC,WAAO,WAAW;AAChB,aAAO,KAAK,QAAQ,QAAQ;AAAA,IAC9B;AAAA,EACF;AAEO,WAAS,aAAa,UAAU;AACrC,WAAO,SAAS,MAAM;AACpB,aAAO,KAAK,QAAQ,QAAQ;AAAA,IAC9B;AAAA,EACF;;;ACRA,MAAI,OAAO,MAAM,UAAU;AAE3B,WAAS,UAAU,OAAO;AACxB,WAAO,WAAW;AAChB,aAAO,KAAK,KAAK,KAAK,UAAU,KAAK;AAAA,IACvC;AAAA,EACF;AAEA,WAAS,aAAa;AACpB,WAAO,KAAK;AAAA,EACd;AAEe,WAAR,oBAAiB,OAAO;AAC7B,WAAO,KAAK,OAAO,SAAS,OAAO,aAC7B,UAAU,OAAO,UAAU,aAAa,QAAQ,aAAa,KAAK,CAAC,CAAC;AAAA,EAC5E;;;ACfA,MAAI,SAAS,MAAM,UAAU;AAE7B,WAAS,WAAW;AAClB,WAAO,MAAM,KAAK,KAAK,QAAQ;AAAA,EACjC;AAEA,WAAS,eAAe,OAAO;AAC7B,WAAO,WAAW;AAChB,aAAO,OAAO,KAAK,KAAK,UAAU,KAAK;AAAA,IACzC;AAAA,EACF;AAEe,WAAR,uBAAiB,OAAO;AAC7B,WAAO,KAAK,UAAU,SAAS,OAAO,WAChC,eAAe,OAAO,UAAU,aAAa,QAAQ,aAAa,KAAK,CAAC,CAAC;AAAA,EACjF;;;ACde,WAAR,eAAiB,OAAO;AAC7B,QAAI,OAAO,UAAU;AAAY,cAAQ,gBAAQ,KAAK;AAEtD,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC9F,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,WAAW,UAAU,CAAC,IAAI,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACnG,aAAK,OAAO,MAAM,CAAC,MAAM,MAAM,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,GAAG;AAClE,mBAAS,KAAK,IAAI;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,UAAU,WAAW,KAAK,QAAQ;AAAA,EAC/C;;;ACfe,WAAR,eAAiB,QAAQ;AAC9B,WAAO,IAAI,MAAM,OAAO,MAAM;AAAA,EAChC;;;ACCe,WAAR,gBAAmB;AACxB,WAAO,IAAI,UAAU,KAAK,UAAU,KAAK,QAAQ,IAAI,cAAM,GAAG,KAAK,QAAQ;AAAA,EAC7E;AAEO,WAAS,UAAU,QAAQC,QAAO;AACvC,SAAK,gBAAgB,OAAO;AAC5B,SAAK,eAAe,OAAO;AAC3B,SAAK,QAAQ;AACb,SAAK,UAAU;AACf,SAAK,WAAWA;AAAA,EAClB;AAEA,YAAU,YAAY;AAAA,IACpB,aAAa;AAAA,IACb,aAAa,SAAS,OAAO;AAAE,aAAO,KAAK,QAAQ,aAAa,OAAO,KAAK,KAAK;AAAA,IAAG;AAAA,IACpF,cAAc,SAAS,OAAO,MAAM;AAAE,aAAO,KAAK,QAAQ,aAAa,OAAO,IAAI;AAAA,IAAG;AAAA,IACrF,eAAe,SAAS,UAAU;AAAE,aAAO,KAAK,QAAQ,cAAc,QAAQ;AAAA,IAAG;AAAA,IACjF,kBAAkB,SAAS,UAAU;AAAE,aAAO,KAAK,QAAQ,iBAAiB,QAAQ;AAAA,IAAG;AAAA,EACzF;;;ACrBe,WAAR,iBAAiBC,IAAG;AACzB,WAAO,WAAW;AAChB,aAAOA;AAAA,IACT;AAAA,EACF;;;ACAA,WAAS,UAAU,QAAQ,OAAO,OAAO,QAAQ,MAAM,MAAM;AAC3D,QAAI,IAAI,GACJ,MACA,cAAc,MAAM,QACpB,aAAa,KAAK;AAKtB,WAAO,IAAI,YAAY,EAAE,GAAG;AAC1B,UAAI,OAAO,MAAM,CAAC,GAAG;AACnB,aAAK,WAAW,KAAK,CAAC;AACtB,eAAO,CAAC,IAAI;AAAA,MACd,OAAO;AACL,cAAM,CAAC,IAAI,IAAI,UAAU,QAAQ,KAAK,CAAC,CAAC;AAAA,MAC1C;AAAA,IACF;AAGA,WAAO,IAAI,aAAa,EAAE,GAAG;AAC3B,UAAI,OAAO,MAAM,CAAC,GAAG;AACnB,aAAK,CAAC,IAAI;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAEA,WAAS,QAAQ,QAAQ,OAAO,OAAO,QAAQ,MAAM,MAAM,KAAK;AAC9D,QAAI,GACA,MACA,iBAAiB,oBAAI,OACrB,cAAc,MAAM,QACpB,aAAa,KAAK,QAClB,YAAY,IAAI,MAAM,WAAW,GACjC;AAIJ,SAAK,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AAChC,UAAI,OAAO,MAAM,CAAC,GAAG;AACnB,kBAAU,CAAC,IAAI,WAAW,IAAI,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,IAAI;AACpE,YAAI,eAAe,IAAI,QAAQ,GAAG;AAChC,eAAK,CAAC,IAAI;AAAA,QACZ,OAAO;AACL,yBAAe,IAAI,UAAU,IAAI;AAAA,QACnC;AAAA,MACF;AAAA,IACF;AAKA,SAAK,IAAI,GAAG,IAAI,YAAY,EAAE,GAAG;AAC/B,iBAAW,IAAI,KAAK,QAAQ,KAAK,CAAC,GAAG,GAAG,IAAI,IAAI;AAChD,UAAI,OAAO,eAAe,IAAI,QAAQ,GAAG;AACvC,eAAO,CAAC,IAAI;AACZ,aAAK,WAAW,KAAK,CAAC;AACtB,uBAAe,OAAO,QAAQ;AAAA,MAChC,OAAO;AACL,cAAM,CAAC,IAAI,IAAI,UAAU,QAAQ,KAAK,CAAC,CAAC;AAAA,MAC1C;AAAA,IACF;AAGA,SAAK,IAAI,GAAG,IAAI,aAAa,EAAE,GAAG;AAChC,WAAK,OAAO,MAAM,CAAC,MAAO,eAAe,IAAI,UAAU,CAAC,CAAC,MAAM,MAAO;AACpE,aAAK,CAAC,IAAI;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAEA,WAAS,MAAM,MAAM;AACnB,WAAO,KAAK;AAAA,EACd;AAEe,WAAR,aAAiB,OAAO,KAAK;AAClC,QAAI,CAAC,UAAU;AAAQ,aAAO,MAAM,KAAK,MAAM,KAAK;AAEpD,QAAI,OAAO,MAAM,UAAU,WACvB,UAAU,KAAK,UACf,SAAS,KAAK;AAElB,QAAI,OAAO,UAAU;AAAY,cAAQ,iBAAS,KAAK;AAEvD,aAAS,IAAI,OAAO,QAAQ,SAAS,IAAI,MAAM,CAAC,GAAG,QAAQ,IAAI,MAAM,CAAC,GAAG,OAAO,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/G,UAAI,SAAS,QAAQ,CAAC,GAClB,QAAQ,OAAO,CAAC,GAChB,cAAc,MAAM,QACpB,OAAO,UAAU,MAAM,KAAK,QAAQ,UAAU,OAAO,UAAU,GAAG,OAAO,CAAC,GAC1E,aAAa,KAAK,QAClB,aAAa,MAAM,CAAC,IAAI,IAAI,MAAM,UAAU,GAC5C,cAAc,OAAO,CAAC,IAAI,IAAI,MAAM,UAAU,GAC9C,YAAY,KAAK,CAAC,IAAI,IAAI,MAAM,WAAW;AAE/C,WAAK,QAAQ,OAAO,YAAY,aAAa,WAAW,MAAM,GAAG;AAKjE,eAAS,KAAK,GAAG,KAAK,GAAG,UAAU,MAAM,KAAK,YAAY,EAAE,IAAI;AAC9D,YAAI,WAAW,WAAW,EAAE,GAAG;AAC7B,cAAI,MAAM;AAAI,iBAAK,KAAK;AACxB,iBAAO,EAAE,OAAO,YAAY,EAAE,MAAM,EAAE,KAAK;AAAW;AACtD,mBAAS,QAAQ,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,IAAI,UAAU,QAAQ,OAAO;AACtC,WAAO,SAAS;AAChB,WAAO,QAAQ;AACf,WAAO;AAAA,EACT;AAQA,WAAS,UAAU,MAAM;AACvB,WAAO,OAAO,SAAS,YAAY,YAAY,OAC3C,OACA,MAAM,KAAK,IAAI;AAAA,EACrB;;;AC5He,WAAR,eAAmB;AACxB,WAAO,IAAI,UAAU,KAAK,SAAS,KAAK,QAAQ,IAAI,cAAM,GAAG,KAAK,QAAQ;AAAA,EAC5E;;;ACLe,WAAR,aAAiB,SAAS,UAAU,QAAQ;AACjD,QAAI,QAAQ,KAAK,MAAM,GAAG,SAAS,MAAM,OAAO,KAAK,KAAK;AAC1D,QAAI,OAAO,YAAY,YAAY;AACjC,cAAQ,QAAQ,KAAK;AACrB,UAAI;AAAO,gBAAQ,MAAM,UAAU;AAAA,IACrC,OAAO;AACL,cAAQ,MAAM,OAAO,UAAU,EAAE;AAAA,IACnC;AACA,QAAI,YAAY,MAAM;AACpB,eAAS,SAAS,MAAM;AACxB,UAAI;AAAQ,iBAAS,OAAO,UAAU;AAAA,IACxC;AACA,QAAI,UAAU;AAAM,WAAK,OAAO;AAAA;AAAQ,aAAO,IAAI;AACnD,WAAO,SAAS,SAAS,MAAM,MAAM,MAAM,EAAE,MAAM,IAAI;AAAA,EACzD;;;ACZe,WAAR,cAAiB,SAAS;AAC/B,QAAIC,aAAY,QAAQ,YAAY,QAAQ,UAAU,IAAI;AAE1D,aAAS,UAAU,KAAK,SAAS,UAAUA,WAAU,SAAS,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE,GAAG,SAAS,IAAI,MAAM,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACvK,eAAS,SAAS,QAAQ,CAAC,GAAG,SAAS,QAAQ,CAAC,GAAG,IAAI,OAAO,QAAQ,QAAQ,OAAO,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/H,YAAI,OAAO,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG;AACjC,gBAAM,CAAC,IAAI;AAAA,QACb;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,IAAI,EAAE,GAAG;AAClB,aAAO,CAAC,IAAI,QAAQ,CAAC;AAAA,IACvB;AAEA,WAAO,IAAI,UAAU,QAAQ,KAAK,QAAQ;AAAA,EAC5C;;;AClBe,WAAR,gBAAmB;AAExB,aAAS,SAAS,KAAK,SAAS,IAAI,IAAI,IAAI,OAAO,QAAQ,EAAE,IAAI,KAAI;AACnE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,SAAS,GAAG,OAAO,MAAM,CAAC,GAAG,MAAM,EAAE,KAAK,KAAI;AAClF,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,cAAI,QAAQ,KAAK,wBAAwB,IAAI,IAAI;AAAG,iBAAK,WAAW,aAAa,MAAM,IAAI;AAC3F,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT;;;ACVe,WAAR,aAAiB,SAAS;AAC/B,QAAI,CAAC;AAAS,gBAAU;AAExB,aAAS,YAAY,GAAG,GAAG;AACzB,aAAO,KAAK,IAAI,QAAQ,EAAE,UAAU,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC;AAAA,IAC1D;AAEA,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,aAAa,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/F,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,YAAY,WAAW,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/G,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,oBAAU,CAAC,IAAI;AAAA,QACjB;AAAA,MACF;AACA,gBAAU,KAAK,WAAW;AAAA,IAC5B;AAEA,WAAO,IAAI,UAAU,YAAY,KAAK,QAAQ,EAAE,MAAM;AAAA,EACxD;AAEA,WAAS,UAAU,GAAG,GAAG;AACvB,WAAO,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI;AAAA,EAC/C;;;ACvBe,WAAR,eAAmB;AACxB,QAAI,WAAW,UAAU,CAAC;AAC1B,cAAU,CAAC,IAAI;AACf,aAAS,MAAM,MAAM,SAAS;AAC9B,WAAO;AAAA,EACT;;;ACLe,WAAR,gBAAmB;AACxB,WAAO,MAAM,KAAK,IAAI;AAAA,EACxB;;;ACFe,WAAR,eAAmB;AAExB,aAAS,SAAS,KAAK,SAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,GAAG;AACpE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,GAAG,IAAI,MAAM,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC/D,YAAI,OAAO,MAAM,CAAC;AAClB,YAAI;AAAM,iBAAO;AAAA,MACnB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;;;ACVe,WAAR,eAAmB;AACxB,QAAI,OAAO;AACX,eAAW,QAAQ;AAAM,QAAE;AAC3B,WAAO;AAAA,EACT;;;ACJe,WAAR,gBAAmB;AACxB,WAAO,CAAC,KAAK,KAAK;AAAA,EACpB;;;ACFe,WAAR,aAAiB,UAAU;AAEhC,aAAS,SAAS,KAAK,SAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,GAAG;AACpE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC;AAAG,mBAAS,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK;AAAA,MAClE;AAAA,IACF;AAEA,WAAO;AAAA,EACT;;;ACPA,WAAS,WAAW,MAAM;AACxB,WAAO,WAAW;AAChB,WAAK,gBAAgB,IAAI;AAAA,IAC3B;AAAA,EACF;AAEA,WAAS,aAAa,UAAU;AAC9B,WAAO,WAAW;AAChB,WAAK,kBAAkB,SAAS,OAAO,SAAS,KAAK;AAAA,IACvD;AAAA,EACF;AAEA,WAAS,aAAa,MAAM,OAAO;AACjC,WAAO,WAAW;AAChB,WAAK,aAAa,MAAM,KAAK;AAAA,IAC/B;AAAA,EACF;AAEA,WAAS,eAAe,UAAU,OAAO;AACvC,WAAO,WAAW;AAChB,WAAK,eAAe,SAAS,OAAO,SAAS,OAAO,KAAK;AAAA,IAC3D;AAAA,EACF;AAEA,WAAS,aAAa,MAAM,OAAO;AACjC,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,KAAK;AAAM,aAAK,gBAAgB,IAAI;AAAA;AACnC,aAAK,aAAa,MAAM,CAAC;AAAA,IAChC;AAAA,EACF;AAEA,WAAS,eAAe,UAAU,OAAO;AACvC,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,KAAK;AAAM,aAAK,kBAAkB,SAAS,OAAO,SAAS,KAAK;AAAA;AAC/D,aAAK,eAAe,SAAS,OAAO,SAAS,OAAO,CAAC;AAAA,IAC5D;AAAA,EACF;AAEe,WAAR,aAAiB,MAAM,OAAO;AACnC,QAAI,WAAW,kBAAU,IAAI;AAE7B,QAAI,UAAU,SAAS,GAAG;AACxB,UAAI,OAAO,KAAK,KAAK;AACrB,aAAO,SAAS,QACV,KAAK,eAAe,SAAS,OAAO,SAAS,KAAK,IAClD,KAAK,aAAa,QAAQ;AAAA,IAClC;AAEA,WAAO,KAAK,MAAM,SAAS,OACpB,SAAS,QAAQ,eAAe,aAAe,OAAO,UAAU,aAChE,SAAS,QAAQ,iBAAiB,eAClC,SAAS,QAAQ,iBAAiB,cAAgB,UAAU,KAAK,CAAC;AAAA,EAC3E;;;ACxDe,WAAR,eAAiB,MAAM;AAC5B,WAAQ,KAAK,iBAAiB,KAAK,cAAc,eACzC,KAAK,YAAY,QAClB,KAAK;AAAA,EACd;;;ACFA,WAAS,YAAY,MAAM;AACzB,WAAO,WAAW;AAChB,WAAK,MAAM,eAAe,IAAI;AAAA,IAChC;AAAA,EACF;AAEA,WAAS,cAAc,MAAM,OAAO,UAAU;AAC5C,WAAO,WAAW;AAChB,WAAK,MAAM,YAAY,MAAM,OAAO,QAAQ;AAAA,IAC9C;AAAA,EACF;AAEA,WAAS,cAAc,MAAM,OAAO,UAAU;AAC5C,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,KAAK;AAAM,aAAK,MAAM,eAAe,IAAI;AAAA;AACxC,aAAK,MAAM,YAAY,MAAM,GAAG,QAAQ;AAAA,IAC/C;AAAA,EACF;AAEe,WAAR,cAAiB,MAAM,OAAO,UAAU;AAC7C,WAAO,UAAU,SAAS,IACpB,KAAK,MAAM,SAAS,OACd,cAAc,OAAO,UAAU,aAC/B,gBACA,eAAe,MAAM,OAAO,YAAY,OAAO,KAAK,QAAQ,CAAC,IACnE,WAAW,KAAK,KAAK,GAAG,IAAI;AAAA,EACpC;AAEO,WAAS,WAAW,MAAM,MAAM;AACrC,WAAO,KAAK,MAAM,iBAAiB,IAAI,KAChC,eAAY,IAAI,EAAE,iBAAiB,MAAM,IAAI,EAAE,iBAAiB,IAAI;AAAA,EAC7E;;;AClCA,WAAS,eAAe,MAAM;AAC5B,WAAO,WAAW;AAChB,aAAO,KAAK,IAAI;AAAA,IAClB;AAAA,EACF;AAEA,WAAS,iBAAiB,MAAM,OAAO;AACrC,WAAO,WAAW;AAChB,WAAK,IAAI,IAAI;AAAA,IACf;AAAA,EACF;AAEA,WAAS,iBAAiB,MAAM,OAAO;AACrC,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,KAAK;AAAM,eAAO,KAAK,IAAI;AAAA;AAC1B,aAAK,IAAI,IAAI;AAAA,IACpB;AAAA,EACF;AAEe,WAAR,iBAAiB,MAAM,OAAO;AACnC,WAAO,UAAU,SAAS,IACpB,KAAK,MAAM,SAAS,OAChB,iBAAiB,OAAO,UAAU,aAClC,mBACA,kBAAkB,MAAM,KAAK,CAAC,IAClC,KAAK,KAAK,EAAE,IAAI;AAAA,EACxB;;;AC3BA,WAAS,WAAW,QAAQ;AAC1B,WAAO,OAAO,KAAK,EAAE,MAAM,OAAO;AAAA,EACpC;AAEA,WAAS,UAAU,MAAM;AACvB,WAAO,KAAK,aAAa,IAAI,UAAU,IAAI;AAAA,EAC7C;AAEA,WAAS,UAAU,MAAM;AACvB,SAAK,QAAQ;AACb,SAAK,SAAS,WAAW,KAAK,aAAa,OAAO,KAAK,EAAE;AAAA,EAC3D;AAEA,YAAU,YAAY;AAAA,IACpB,KAAK,SAAS,MAAM;AAClB,UAAI,IAAI,KAAK,OAAO,QAAQ,IAAI;AAChC,UAAI,IAAI,GAAG;AACT,aAAK,OAAO,KAAK,IAAI;AACrB,aAAK,MAAM,aAAa,SAAS,KAAK,OAAO,KAAK,GAAG,CAAC;AAAA,MACxD;AAAA,IACF;AAAA,IACA,QAAQ,SAAS,MAAM;AACrB,UAAI,IAAI,KAAK,OAAO,QAAQ,IAAI;AAChC,UAAI,KAAK,GAAG;AACV,aAAK,OAAO,OAAO,GAAG,CAAC;AACvB,aAAK,MAAM,aAAa,SAAS,KAAK,OAAO,KAAK,GAAG,CAAC;AAAA,MACxD;AAAA,IACF;AAAA,IACA,UAAU,SAAS,MAAM;AACvB,aAAO,KAAK,OAAO,QAAQ,IAAI,KAAK;AAAA,IACtC;AAAA,EACF;AAEA,WAAS,WAAW,MAAM,OAAO;AAC/B,QAAI,OAAO,UAAU,IAAI,GAAG,IAAI,IAAI,IAAI,MAAM;AAC9C,WAAO,EAAE,IAAI;AAAG,WAAK,IAAI,MAAM,CAAC,CAAC;AAAA,EACnC;AAEA,WAAS,cAAc,MAAM,OAAO;AAClC,QAAI,OAAO,UAAU,IAAI,GAAG,IAAI,IAAI,IAAI,MAAM;AAC9C,WAAO,EAAE,IAAI;AAAG,WAAK,OAAO,MAAM,CAAC,CAAC;AAAA,EACtC;AAEA,WAAS,YAAY,OAAO;AAC1B,WAAO,WAAW;AAChB,iBAAW,MAAM,KAAK;AAAA,IACxB;AAAA,EACF;AAEA,WAAS,aAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,oBAAc,MAAM,KAAK;AAAA,IAC3B;AAAA,EACF;AAEA,WAAS,gBAAgB,OAAO,OAAO;AACrC,WAAO,WAAW;AAChB,OAAC,MAAM,MAAM,MAAM,SAAS,IAAI,aAAa,eAAe,MAAM,KAAK;AAAA,IACzE;AAAA,EACF;AAEe,WAAR,gBAAiB,MAAM,OAAO;AACnC,QAAI,QAAQ,WAAW,OAAO,EAAE;AAEhC,QAAI,UAAU,SAAS,GAAG;AACxB,UAAI,OAAO,UAAU,KAAK,KAAK,CAAC,GAAG,IAAI,IAAI,IAAI,MAAM;AACrD,aAAO,EAAE,IAAI;AAAG,YAAI,CAAC,KAAK,SAAS,MAAM,CAAC,CAAC;AAAG,iBAAO;AACrD,aAAO;AAAA,IACT;AAEA,WAAO,KAAK,MAAM,OAAO,UAAU,aAC7B,kBAAkB,QAClB,cACA,cAAc,OAAO,KAAK,CAAC;AAAA,EACnC;;;AC1EA,WAAS,aAAa;AACpB,SAAK,cAAc;AAAA,EACrB;AAEA,WAAS,aAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AAEA,WAAS,aAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,WAAK,cAAc,KAAK,OAAO,KAAK;AAAA,IACtC;AAAA,EACF;AAEe,WAAR,aAAiB,OAAO;AAC7B,WAAO,UAAU,SACX,KAAK,KAAK,SAAS,OACf,cAAc,OAAO,UAAU,aAC/B,eACA,cAAc,KAAK,CAAC,IACxB,KAAK,KAAK,EAAE;AAAA,EACpB;;;ACxBA,WAAS,aAAa;AACpB,SAAK,YAAY;AAAA,EACnB;AAEA,WAAS,aAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,WAAK,YAAY;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,aAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,WAAK,YAAY,KAAK,OAAO,KAAK;AAAA,IACpC;AAAA,EACF;AAEe,WAAR,aAAiB,OAAO;AAC7B,WAAO,UAAU,SACX,KAAK,KAAK,SAAS,OACf,cAAc,OAAO,UAAU,aAC/B,eACA,cAAc,KAAK,CAAC,IACxB,KAAK,KAAK,EAAE;AAAA,EACpB;;;ACxBA,WAAS,QAAQ;AACf,QAAI,KAAK;AAAa,WAAK,WAAW,YAAY,IAAI;AAAA,EACxD;AAEe,WAAR,gBAAmB;AACxB,WAAO,KAAK,KAAK,KAAK;AAAA,EACxB;;;ACNA,WAAS,QAAQ;AACf,QAAI,KAAK;AAAiB,WAAK,WAAW,aAAa,MAAM,KAAK,WAAW,UAAU;AAAA,EACzF;AAEe,WAAR,gBAAmB;AACxB,WAAO,KAAK,KAAK,KAAK;AAAA,EACxB;;;ACJe,WAAR,eAAiB,MAAM;AAC5B,QAAIC,UAAS,OAAO,SAAS,aAAa,OAAO,gBAAQ,IAAI;AAC7D,WAAO,KAAK,OAAO,WAAW;AAC5B,aAAO,KAAK,YAAYA,QAAO,MAAM,MAAM,SAAS,CAAC;AAAA,IACvD,CAAC;AAAA,EACH;;;ACJA,WAAS,eAAe;AACtB,WAAO;AAAA,EACT;AAEe,WAAR,eAAiB,MAAM,QAAQ;AACpC,QAAIC,UAAS,OAAO,SAAS,aAAa,OAAO,gBAAQ,IAAI,GACzD,SAAS,UAAU,OAAO,eAAe,OAAO,WAAW,aAAa,SAAS,iBAAS,MAAM;AACpG,WAAO,KAAK,OAAO,WAAW;AAC5B,aAAO,KAAK,aAAaA,QAAO,MAAM,MAAM,SAAS,GAAG,OAAO,MAAM,MAAM,SAAS,KAAK,IAAI;AAAA,IAC/F,CAAC;AAAA,EACH;;;ACbA,WAAS,SAAS;AAChB,QAAI,SAAS,KAAK;AAClB,QAAI;AAAQ,aAAO,YAAY,IAAI;AAAA,EACrC;AAEe,WAAR,iBAAmB;AACxB,WAAO,KAAK,KAAK,MAAM;AAAA,EACzB;;;ACPA,WAAS,yBAAyB;AAChC,QAAI,QAAQ,KAAK,UAAU,KAAK,GAAG,SAAS,KAAK;AACjD,WAAO,SAAS,OAAO,aAAa,OAAO,KAAK,WAAW,IAAI;AAAA,EACjE;AAEA,WAAS,sBAAsB;AAC7B,QAAI,QAAQ,KAAK,UAAU,IAAI,GAAG,SAAS,KAAK;AAChD,WAAO,SAAS,OAAO,aAAa,OAAO,KAAK,WAAW,IAAI;AAAA,EACjE;AAEe,WAAR,cAAiB,MAAM;AAC5B,WAAO,KAAK,OAAO,OAAO,sBAAsB,sBAAsB;AAAA,EACxE;;;ACZe,WAAR,cAAiB,OAAO;AAC7B,WAAO,UAAU,SACX,KAAK,SAAS,YAAY,KAAK,IAC/B,KAAK,KAAK,EAAE;AAAA,EACpB;;;ACJA,WAAS,gBAAgB,UAAU;AACjC,WAAO,SAAS,OAAO;AACrB,eAAS,KAAK,MAAM,OAAO,KAAK,QAAQ;AAAA,IAC1C;AAAA,EACF;AAEA,WAASC,gBAAe,WAAW;AACjC,WAAO,UAAU,KAAK,EAAE,MAAM,OAAO,EAAE,IAAI,SAAS,GAAG;AACrD,UAAI,OAAO,IAAI,IAAI,EAAE,QAAQ,GAAG;AAChC,UAAI,KAAK;AAAG,eAAO,EAAE,MAAM,IAAI,CAAC,GAAG,IAAI,EAAE,MAAM,GAAG,CAAC;AACnD,aAAO,EAAC,MAAM,GAAG,KAAU;AAAA,IAC7B,CAAC;AAAA,EACH;AAEA,WAAS,SAAS,UAAU;AAC1B,WAAO,WAAW;AAChB,UAAI,KAAK,KAAK;AACd,UAAI,CAAC;AAAI;AACT,eAAS,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,QAAQ,GAAG,IAAI,GAAG,EAAE,GAAG;AACpD,YAAI,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS,QAAQ,EAAE,SAAS,SAAS,SAAS,EAAE,SAAS,SAAS,MAAM;AACvF,eAAK,oBAAoB,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO;AAAA,QACxD,OAAO;AACL,aAAG,EAAE,CAAC,IAAI;AAAA,QACZ;AAAA,MACF;AACA,UAAI,EAAE;AAAG,WAAG,SAAS;AAAA;AAChB,eAAO,KAAK;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,MAAM,UAAU,OAAO,SAAS;AACvC,WAAO,WAAW;AAChB,UAAI,KAAK,KAAK,MAAM,GAAG,WAAW,gBAAgB,KAAK;AACvD,UAAI;AAAI,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,IAAI,GAAG,EAAE,GAAG;AACjD,eAAK,IAAI,GAAG,CAAC,GAAG,SAAS,SAAS,QAAQ,EAAE,SAAS,SAAS,MAAM;AAClE,iBAAK,oBAAoB,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO;AACtD,iBAAK,iBAAiB,EAAE,MAAM,EAAE,WAAW,UAAU,EAAE,UAAU,OAAO;AACxE,cAAE,QAAQ;AACV;AAAA,UACF;AAAA,QACF;AACA,WAAK,iBAAiB,SAAS,MAAM,UAAU,OAAO;AACtD,UAAI,EAAC,MAAM,SAAS,MAAM,MAAM,SAAS,MAAM,OAAc,UAAoB,QAAgB;AACjG,UAAI,CAAC;AAAI,aAAK,OAAO,CAAC,CAAC;AAAA;AAClB,WAAG,KAAK,CAAC;AAAA,IAChB;AAAA,EACF;AAEe,WAAR,WAAiB,UAAU,OAAO,SAAS;AAChD,QAAI,YAAYA,gBAAe,WAAW,EAAE,GAAG,GAAG,IAAI,UAAU,QAAQ;AAExE,QAAI,UAAU,SAAS,GAAG;AACxB,UAAI,KAAK,KAAK,KAAK,EAAE;AACrB,UAAI;AAAI,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,GAAG,IAAI,GAAG,EAAE,GAAG;AACpD,eAAK,IAAI,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,EAAE,GAAG;AACjC,iBAAK,IAAI,UAAU,CAAC,GAAG,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM;AAC3D,qBAAO,EAAE;AAAA,YACX;AAAA,UACF;AAAA,QACF;AACA;AAAA,IACF;AAEA,SAAK,QAAQ,QAAQ;AACrB,SAAK,IAAI,GAAG,IAAI,GAAG,EAAE;AAAG,WAAK,KAAK,GAAG,UAAU,CAAC,GAAG,OAAO,OAAO,CAAC;AAClE,WAAO;AAAA,EACT;;;AChEA,WAAS,cAAc,MAAMC,OAAM,QAAQ;AACzC,QAAIC,UAAS,eAAY,IAAI,GACzB,QAAQA,QAAO;AAEnB,QAAI,OAAO,UAAU,YAAY;AAC/B,cAAQ,IAAI,MAAMD,OAAM,MAAM;AAAA,IAChC,OAAO;AACL,cAAQC,QAAO,SAAS,YAAY,OAAO;AAC3C,UAAI;AAAQ,cAAM,UAAUD,OAAM,OAAO,SAAS,OAAO,UAAU,GAAG,MAAM,SAAS,OAAO;AAAA;AACvF,cAAM,UAAUA,OAAM,OAAO,KAAK;AAAA,IACzC;AAEA,SAAK,cAAc,KAAK;AAAA,EAC1B;AAEA,WAAS,iBAAiBA,OAAM,QAAQ;AACtC,WAAO,WAAW;AAChB,aAAO,cAAc,MAAMA,OAAM,MAAM;AAAA,IACzC;AAAA,EACF;AAEA,WAAS,iBAAiBA,OAAM,QAAQ;AACtC,WAAO,WAAW;AAChB,aAAO,cAAc,MAAMA,OAAM,OAAO,MAAM,MAAM,SAAS,CAAC;AAAA,IAChE;AAAA,EACF;AAEe,WAARE,kBAAiBF,OAAM,QAAQ;AACpC,WAAO,KAAK,MAAM,OAAO,WAAW,aAC9B,mBACA,kBAAkBA,OAAM,MAAM,CAAC;AAAA,EACvC;;;ACjCe,YAAR,mBAAoB;AACzB,aAAS,SAAS,KAAK,SAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,GAAG;AACpE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC;AAAG,gBAAM;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;;;AC6BO,MAAI,OAAO,CAAC,IAAI;AAEhB,WAAS,UAAU,QAAQ,SAAS;AACzC,SAAK,UAAU;AACf,SAAK,WAAW;AAAA,EAClB;AAEA,WAAS,YAAY;AACnB,WAAO,IAAI,UAAU,CAAC,CAAC,SAAS,eAAe,CAAC,GAAG,IAAI;AAAA,EACzD;AAEA,WAAS,sBAAsB;AAC7B,WAAO;AAAA,EACT;AAEA,YAAU,YAAY,UAAU,YAAY;AAAA,IAC1C,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,aAAa;AAAA,IACb,gBAAgB;AAAA,IAChB,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,WAAW;AAAA,IACX,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,UAAU;AAAA,IACV,SAAS;AAAA,IACT,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,UAAUG;AAAA,IACV,CAAC,OAAO,QAAQ,GAAG;AAAA,EACrB;AAEA,MAAO,oBAAQ;;;ACvFA,WAARC,gBAAiB,UAAU;AAChC,WAAO,OAAO,aAAa,WACrB,IAAI,UAAU,CAAC,CAAC,SAAS,cAAc,QAAQ,CAAC,CAAC,GAAG,CAAC,SAAS,eAAe,CAAC,IAC9E,IAAI,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI;AAAA,EACxC;;;ACNe,WAAR,eAAiB,aAAa,SAAS,WAAW;AACvD,gBAAY,YAAY,QAAQ,YAAY;AAC5C,cAAU,cAAc;AAAA,EAC1B;AAEO,WAAS,OAAO,QAAQ,YAAY;AACzC,QAAI,YAAY,OAAO,OAAO,OAAO,SAAS;AAC9C,aAAS,OAAO;AAAY,gBAAU,GAAG,IAAI,WAAW,GAAG;AAC3D,WAAO;AAAA,EACT;;;ACPO,WAAS,QAAQ;AAAA,EAAC;AAElB,MAAI,SAAS;AACb,MAAI,WAAW,IAAI;AAE1B,MAAI,MAAM;AAAV,MACI,MAAM;AADV,MAEI,MAAM;AAFV,MAGI,QAAQ;AAHZ,MAII,eAAe,IAAI,OAAO,UAAU,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AAJ/D,MAKI,eAAe,IAAI,OAAO,UAAU,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AAL/D,MAMI,gBAAgB,IAAI,OAAO,WAAW,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AANxE,MAOI,gBAAgB,IAAI,OAAO,WAAW,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AAPxE,MAQI,eAAe,IAAI,OAAO,UAAU,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AAR/D,MASI,gBAAgB,IAAI,OAAO,WAAW,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAM;AAExE,MAAI,QAAQ;AAAA,IACV,WAAW;AAAA,IACX,cAAc;AAAA,IACd,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,WAAW;AAAA,IACX,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB,UAAU;AAAA,IACV,SAAS;AAAA,IACT,MAAM;AAAA,IACN,UAAU;AAAA,IACV,UAAU;AAAA,IACV,eAAe;AAAA,IACf,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,WAAW;AAAA,IACX,aAAa;AAAA,IACb,gBAAgB;AAAA,IAChB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,cAAc;AAAA,IACd,eAAe;AAAA,IACf,eAAe;AAAA,IACf,eAAe;AAAA,IACf,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,aAAa;AAAA,IACb,SAAS;AAAA,IACT,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,aAAa;AAAA,IACb,aAAa;AAAA,IACb,SAAS;AAAA,IACT,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,MAAM;AAAA,IACN,WAAW;AAAA,IACX,MAAM;AAAA,IACN,OAAO;AAAA,IACP,aAAa;AAAA,IACb,MAAM;AAAA,IACN,UAAU;AAAA,IACV,SAAS;AAAA,IACT,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,UAAU;AAAA,IACV,eAAe;AAAA,IACf,WAAW;AAAA,IACX,cAAc;AAAA,IACd,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,sBAAsB;AAAA,IACtB,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA,IACX,aAAa;AAAA,IACb,eAAe;AAAA,IACf,cAAc;AAAA,IACd,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,MAAM;AAAA,IACN,WAAW;AAAA,IACX,OAAO;AAAA,IACP,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,kBAAkB;AAAA,IAClB,YAAY;AAAA,IACZ,cAAc;AAAA,IACd,cAAc;AAAA,IACd,gBAAgB;AAAA,IAChB,iBAAiB;AAAA,IACjB,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,IACjB,iBAAiB;AAAA,IACjB,cAAc;AAAA,IACd,WAAW;AAAA,IACX,WAAW;AAAA,IACX,UAAU;AAAA,IACV,aAAa;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,eAAe;AAAA,IACf,WAAW;AAAA,IACX,eAAe;AAAA,IACf,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,eAAe;AAAA,IACf,KAAK;AAAA,IACL,WAAW;AAAA,IACX,WAAW;AAAA,IACX,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,UAAU;AAAA,IACV,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,MAAM;AAAA,IACN,aAAa;AAAA,IACb,WAAW;AAAA,IACX,KAAK;AAAA,IACL,MAAM;AAAA,IACN,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,aAAa;AAAA,EACf;AAEA,iBAAO,OAAO,OAAO;AAAA,IACnB,KAAK,UAAU;AACb,aAAO,OAAO,OAAO,IAAI,KAAK,eAAa,MAAM,QAAQ;AAAA,IAC3D;AAAA,IACA,cAAc;AACZ,aAAO,KAAK,IAAI,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,KAAK;AAAA;AAAA,IACL,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA,IACX,UAAU;AAAA,EACZ,CAAC;AAED,WAAS,kBAAkB;AACzB,WAAO,KAAK,IAAI,EAAE,UAAU;AAAA,EAC9B;AAEA,WAAS,mBAAmB;AAC1B,WAAO,KAAK,IAAI,EAAE,WAAW;AAAA,EAC/B;AAEA,WAAS,kBAAkB;AACzB,WAAO,WAAW,IAAI,EAAE,UAAU;AAAA,EACpC;AAEA,WAAS,kBAAkB;AACzB,WAAO,KAAK,IAAI,EAAE,UAAU;AAAA,EAC9B;AAEe,WAAR,MAAuB,QAAQ;AACpC,QAAI,GAAG;AACP,cAAU,SAAS,IAAI,KAAK,EAAE,YAAY;AAC1C,YAAQ,IAAI,MAAM,KAAK,MAAM,MAAM,IAAI,EAAE,CAAC,EAAE,QAAQ,IAAI,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,MAAM,IAAI,KAAK,CAAC,IACtF,MAAM,IAAI,IAAI,IAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,KAAQ,KAAK,IAAI,KAAQ,IAAI,MAAS,IAAI,OAAQ,IAAM,IAAI,IAAM,CAAC,IAChH,MAAM,IAAI,KAAK,KAAK,KAAK,KAAM,KAAK,KAAK,KAAM,KAAK,IAAI,MAAO,IAAI,OAAQ,GAAI,IAC/E,MAAM,IAAI,KAAM,KAAK,KAAK,KAAQ,KAAK,IAAI,KAAQ,KAAK,IAAI,KAAQ,KAAK,IAAI,KAAQ,KAAK,IAAI,KAAQ,IAAI,OAAU,IAAI,OAAQ,IAAM,IAAI,MAAQ,GAAI,IACtJ,SACC,IAAI,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,KAC5D,IAAI,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,EAAE,CAAC,IAAI,MAAM,KAAK,EAAE,CAAC,IAAI,MAAM,KAAK,EAAE,CAAC,IAAI,MAAM,KAAK,CAAC,KAChG,IAAI,cAAc,KAAK,MAAM,KAAK,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,KAC7D,IAAI,cAAc,KAAK,MAAM,KAAK,KAAK,EAAE,CAAC,IAAI,MAAM,KAAK,EAAE,CAAC,IAAI,MAAM,KAAK,EAAE,CAAC,IAAI,MAAM,KAAK,EAAE,CAAC,CAAC,KACjG,IAAI,aAAa,KAAK,MAAM,KAAK,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,KAAK,CAAC,KACrE,IAAI,cAAc,KAAK,MAAM,KAAK,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,IAC1E,MAAM,eAAe,MAAM,IAAI,KAAK,MAAM,MAAM,CAAC,IACjD,WAAW,gBAAgB,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,IACnD;AAAA,EACR;AAEA,WAAS,KAAK,GAAG;AACf,WAAO,IAAI,IAAI,KAAK,KAAK,KAAM,KAAK,IAAI,KAAM,IAAI,KAAM,CAAC;AAAA,EAC3D;AAEA,WAAS,KAAK,GAAG,GAAG,GAAG,GAAG;AACxB,QAAI,KAAK;AAAG,UAAI,IAAI,IAAI;AACxB,WAAO,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC;AAAA,EAC3B;AAEO,WAAS,WAAW,GAAG;AAC5B,QAAI,EAAE,aAAa;AAAQ,UAAI,MAAM,CAAC;AACtC,QAAI,CAAC;AAAG,aAAO,IAAI;AACnB,QAAI,EAAE,IAAI;AACV,WAAO,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO;AAAA,EACzC;AAEO,WAAS,IAAI,GAAG,GAAG,GAAG,SAAS;AACpC,WAAO,UAAU,WAAW,IAAI,WAAW,CAAC,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,WAAW,OAAO,IAAI,OAAO;AAAA,EAChG;AAEO,WAAS,IAAI,GAAG,GAAG,GAAG,SAAS;AACpC,SAAK,IAAI,CAAC;AACV,SAAK,IAAI,CAAC;AACV,SAAK,IAAI,CAAC;AACV,SAAK,UAAU,CAAC;AAAA,EAClB;AAEA,iBAAO,KAAK,KAAK,OAAO,OAAO;AAAA,IAC7B,SAAS,GAAG;AACV,UAAI,KAAK,OAAO,WAAW,KAAK,IAAI,UAAU,CAAC;AAC/C,aAAO,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,OAAO;AAAA,IACjE;AAAA,IACA,OAAO,GAAG;AACR,UAAI,KAAK,OAAO,SAAS,KAAK,IAAI,QAAQ,CAAC;AAC3C,aAAO,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,OAAO;AAAA,IACjE;AAAA,IACA,MAAM;AACJ,aAAO;AAAA,IACT;AAAA,IACA,QAAQ;AACN,aAAO,IAAI,IAAI,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,OAAO,CAAC;AAAA,IACrF;AAAA,IACA,cAAc;AACZ,aAAQ,QAAQ,KAAK,KAAK,KAAK,IAAI,UAC3B,QAAQ,KAAK,KAAK,KAAK,IAAI,WAC3B,QAAQ,KAAK,KAAK,KAAK,IAAI,WAC3B,KAAK,KAAK,WAAW,KAAK,WAAW;AAAA,IAC/C;AAAA,IACA,KAAK;AAAA;AAAA,IACL,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,UAAU;AAAA,EACZ,CAAC,CAAC;AAEF,WAAS,gBAAgB;AACvB,WAAO,IAAI,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC;AAAA,EACpD;AAEA,WAAS,iBAAiB;AACxB,WAAO,IAAI,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,KAAK,MAAM,KAAK,OAAO,IAAI,IAAI,KAAK,WAAW,GAAG,CAAC;AAAA,EAC1G;AAEA,WAAS,gBAAgB;AACvB,UAAM,IAAI,OAAO,KAAK,OAAO;AAC7B,WAAO,GAAG,MAAM,IAAI,SAAS,OAAO,GAAG,OAAO,KAAK,CAAC,CAAC,KAAK,OAAO,KAAK,CAAC,CAAC,KAAK,OAAO,KAAK,CAAC,CAAC,GAAG,MAAM,IAAI,MAAM,KAAK,CAAC,GAAG;AAAA,EACzH;AAEA,WAAS,OAAO,SAAS;AACvB,WAAO,MAAM,OAAO,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,OAAO,CAAC;AAAA,EAC9D;AAEA,WAAS,OAAO,OAAO;AACrB,WAAO,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,MAAM,KAAK,KAAK,CAAC,CAAC;AAAA,EAC1D;AAEA,WAAS,IAAI,OAAO;AAClB,YAAQ,OAAO,KAAK;AACpB,YAAQ,QAAQ,KAAK,MAAM,MAAM,MAAM,SAAS,EAAE;AAAA,EACpD;AAEA,WAAS,KAAK,GAAG,GAAG,GAAG,GAAG;AACxB,QAAI,KAAK;AAAG,UAAI,IAAI,IAAI;AAAA,aACf,KAAK,KAAK,KAAK;AAAG,UAAI,IAAI;AAAA,aAC1B,KAAK;AAAG,UAAI;AACrB,WAAO,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC;AAAA,EAC3B;AAEO,WAAS,WAAW,GAAG;AAC5B,QAAI,aAAa;AAAK,aAAO,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO;AAC7D,QAAI,EAAE,aAAa;AAAQ,UAAI,MAAM,CAAC;AACtC,QAAI,CAAC;AAAG,aAAO,IAAI;AACnB,QAAI,aAAa;AAAK,aAAO;AAC7B,QAAI,EAAE,IAAI;AACV,QAAI,IAAI,EAAE,IAAI,KACV,IAAI,EAAE,IAAI,KACV,IAAI,EAAE,IAAI,KACVC,OAAM,KAAK,IAAI,GAAG,GAAG,CAAC,GACtBC,OAAM,KAAK,IAAI,GAAG,GAAG,CAAC,GACtB,IAAI,KACJ,IAAIA,OAAMD,MACV,KAAKC,OAAMD,QAAO;AACtB,QAAI,GAAG;AACL,UAAI,MAAMC;AAAK,aAAK,IAAI,KAAK,KAAK,IAAI,KAAK;AAAA,eAClC,MAAMA;AAAK,aAAK,IAAI,KAAK,IAAI;AAAA;AACjC,aAAK,IAAI,KAAK,IAAI;AACvB,WAAK,IAAI,MAAMA,OAAMD,OAAM,IAAIC,OAAMD;AACrC,WAAK;AAAA,IACP,OAAO;AACL,UAAI,IAAI,KAAK,IAAI,IAAI,IAAI;AAAA,IAC3B;AACA,WAAO,IAAI,IAAI,GAAG,GAAG,GAAG,EAAE,OAAO;AAAA,EACnC;AAEO,WAAS,IAAI,GAAG,GAAG,GAAG,SAAS;AACpC,WAAO,UAAU,WAAW,IAAI,WAAW,CAAC,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,WAAW,OAAO,IAAI,OAAO;AAAA,EAChG;AAEA,WAAS,IAAI,GAAG,GAAG,GAAG,SAAS;AAC7B,SAAK,IAAI,CAAC;AACV,SAAK,IAAI,CAAC;AACV,SAAK,IAAI,CAAC;AACV,SAAK,UAAU,CAAC;AAAA,EAClB;AAEA,iBAAO,KAAK,KAAK,OAAO,OAAO;AAAA,IAC7B,SAAS,GAAG;AACV,UAAI,KAAK,OAAO,WAAW,KAAK,IAAI,UAAU,CAAC;AAC/C,aAAO,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,GAAG,KAAK,OAAO;AAAA,IACzD;AAAA,IACA,OAAO,GAAG;AACR,UAAI,KAAK,OAAO,SAAS,KAAK,IAAI,QAAQ,CAAC;AAC3C,aAAO,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,GAAG,KAAK,OAAO;AAAA,IACzD;AAAA,IACA,MAAM;AACJ,UAAI,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,KAClC,IAAI,MAAM,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,IAAI,KAAK,GACzC,IAAI,KAAK,GACT,KAAK,KAAK,IAAI,MAAM,IAAI,IAAI,KAAK,GACjC,KAAK,IAAI,IAAI;AACjB,aAAO,IAAI;AAAA,QACT,QAAQ,KAAK,MAAM,IAAI,MAAM,IAAI,KAAK,IAAI,EAAE;AAAA,QAC5C,QAAQ,GAAG,IAAI,EAAE;AAAA,QACjB,QAAQ,IAAI,MAAM,IAAI,MAAM,IAAI,KAAK,IAAI,EAAE;AAAA,QAC3C,KAAK;AAAA,MACP;AAAA,IACF;AAAA,IACA,QAAQ;AACN,aAAO,IAAI,IAAI,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,CAAC,GAAG,OAAO,KAAK,OAAO,CAAC;AAAA,IACrF;AAAA,IACA,cAAc;AACZ,cAAQ,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,KAAK,CAAC,OAC1C,KAAK,KAAK,KAAK,KAAK,KAAK,OACzB,KAAK,KAAK,WAAW,KAAK,WAAW;AAAA,IAC/C;AAAA,IACA,YAAY;AACV,YAAM,IAAI,OAAO,KAAK,OAAO;AAC7B,aAAO,GAAG,MAAM,IAAI,SAAS,OAAO,GAAG,OAAO,KAAK,CAAC,CAAC,KAAK,OAAO,KAAK,CAAC,IAAI,GAAG,MAAM,OAAO,KAAK,CAAC,IAAI,GAAG,IAAI,MAAM,IAAI,MAAM,KAAK,CAAC,GAAG;AAAA,IACvI;AAAA,EACF,CAAC,CAAC;AAEF,WAAS,OAAO,OAAO;AACrB,aAAS,SAAS,KAAK;AACvB,WAAO,QAAQ,IAAI,QAAQ,MAAM;AAAA,EACnC;AAEA,WAAS,OAAO,OAAO;AACrB,WAAO,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,SAAS,CAAC,CAAC;AAAA,EAC5C;AAGA,WAAS,QAAQ,GAAG,IAAI,IAAI;AAC1B,YAAQ,IAAI,KAAK,MAAM,KAAK,MAAM,IAAI,KAChC,IAAI,MAAM,KACV,IAAI,MAAM,MAAM,KAAK,OAAO,MAAM,KAAK,KACvC,MAAM;AAAA,EACd;;;AC3YO,WAAS,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI;AACxC,QAAI,KAAK,KAAK,IAAI,KAAK,KAAK;AAC5B,aAAS,IAAI,IAAI,KAAK,IAAI,KAAK,MAAM,MAC9B,IAAI,IAAI,KAAK,IAAI,MAAM,MACvB,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,MAAM,KACjC,KAAK,MAAM;AAAA,EACnB;AAEe,WAAR,cAAiB,QAAQ;AAC9B,QAAI,IAAI,OAAO,SAAS;AACxB,WAAO,SAAS,GAAG;AACjB,UAAI,IAAI,KAAK,IAAK,IAAI,IAAK,KAAK,KAAK,IAAI,GAAG,IAAI,KAAK,KAAK,MAAM,IAAI,CAAC,GACjE,KAAK,OAAO,CAAC,GACb,KAAK,OAAO,IAAI,CAAC,GACjB,KAAK,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,IAAI,KAAK,IACtC,KAAK,IAAI,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,IAAI,KAAK;AAC9C,aAAO,OAAO,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,IAAI,EAAE;AAAA,IAC9C;AAAA,EACF;;;AChBe,WAAR,oBAAiB,QAAQ;AAC9B,QAAI,IAAI,OAAO;AACf,WAAO,SAAS,GAAG;AACjB,UAAI,IAAI,KAAK,QAAQ,KAAK,KAAK,IAAI,EAAE,IAAI,KAAK,CAAC,GAC3C,KAAK,QAAQ,IAAI,IAAI,KAAK,CAAC,GAC3B,KAAK,OAAO,IAAI,CAAC,GACjB,KAAK,QAAQ,IAAI,KAAK,CAAC,GACvB,KAAK,QAAQ,IAAI,KAAK,CAAC;AAC3B,aAAO,OAAO,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,IAAI,EAAE;AAAA,IAC9C;AAAA,EACF;;;ACZA,MAAOE,oBAAQ,CAAAC,OAAK,MAAMA;;;ACE1B,WAAS,OAAO,GAAG,GAAG;AACpB,WAAO,SAAS,GAAG;AACjB,aAAO,IAAI,IAAI;AAAA,IACjB;AAAA,EACF;AAEA,WAAS,YAAY,GAAG,GAAGC,IAAG;AAC5B,WAAO,IAAI,KAAK,IAAI,GAAGA,EAAC,GAAG,IAAI,KAAK,IAAI,GAAGA,EAAC,IAAI,GAAGA,KAAI,IAAIA,IAAG,SAAS,GAAG;AACxE,aAAO,KAAK,IAAI,IAAI,IAAI,GAAGA,EAAC;AAAA,IAC9B;AAAA,EACF;AAOO,WAAS,MAAMC,IAAG;AACvB,YAAQA,KAAI,CAACA,QAAO,IAAI,UAAU,SAAS,GAAG,GAAG;AAC/C,aAAO,IAAI,IAAI,YAAY,GAAG,GAAGA,EAAC,IAAIC,kBAAS,MAAM,CAAC,IAAI,IAAI,CAAC;AAAA,IACjE;AAAA,EACF;AAEe,WAAR,QAAyB,GAAG,GAAG;AACpC,QAAI,IAAI,IAAI;AACZ,WAAO,IAAI,OAAO,GAAG,CAAC,IAAIA,kBAAS,MAAM,CAAC,IAAI,IAAI,CAAC;AAAA,EACrD;;;ACvBA,MAAO,cAAS,SAAS,SAASC,IAAG;AACnC,QAAIC,SAAQ,MAAMD,EAAC;AAEnB,aAASE,KAAIC,QAAO,KAAK;AACvB,UAAI,IAAIF,QAAOE,SAAQ,IAASA,MAAK,GAAG,IAAI,MAAM,IAAS,GAAG,GAAG,CAAC,GAC9D,IAAIF,OAAME,OAAM,GAAG,IAAI,CAAC,GACxB,IAAIF,OAAME,OAAM,GAAG,IAAI,CAAC,GACxB,UAAU,QAAQA,OAAM,SAAS,IAAI,OAAO;AAChD,aAAO,SAAS,GAAG;AACjB,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,QAAAA,OAAM,UAAU,QAAQ,CAAC;AACzB,eAAOA,SAAQ;AAAA,MACjB;AAAA,IACF;AAEA,IAAAD,KAAI,QAAQ;AAEZ,WAAOA;AAAA,EACT,EAAG,CAAC;AAEJ,WAAS,UAAU,QAAQ;AACzB,WAAO,SAAS,QAAQ;AACtB,UAAI,IAAI,OAAO,QACX,IAAI,IAAI,MAAM,CAAC,GACf,IAAI,IAAI,MAAM,CAAC,GACf,IAAI,IAAI,MAAM,CAAC,GACf,GAAGD;AACP,WAAK,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACtB,QAAAA,SAAQ,IAAS,OAAO,CAAC,CAAC;AAC1B,UAAE,CAAC,IAAIA,OAAM,KAAK;AAClB,UAAE,CAAC,IAAIA,OAAM,KAAK;AAClB,UAAE,CAAC,IAAIA,OAAM,KAAK;AAAA,MACpB;AACA,UAAI,OAAO,CAAC;AACZ,UAAI,OAAO,CAAC;AACZ,UAAI,OAAO,CAAC;AACZ,MAAAA,OAAM,UAAU;AAChB,aAAO,SAAS,GAAG;AACjB,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,QAAAA,OAAM,IAAI,EAAE,CAAC;AACb,eAAOA,SAAQ;AAAA,MACjB;AAAA,IACF;AAAA,EACF;AAEO,MAAI,WAAW,UAAU,aAAK;AAC9B,MAAI,iBAAiB,UAAU,mBAAW;;;ACtDlC,WAAR,eAAiB,GAAG,GAAG;AAC5B,WAAO,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,SAAS,GAAG;AACjC,aAAO,KAAK,IAAI,KAAK,IAAI;AAAA,IAC3B;AAAA,EACF;;;ACFA,MAAI,MAAM;AAAV,MACI,MAAM,IAAI,OAAO,IAAI,QAAQ,GAAG;AAEpC,WAAS,KAAK,GAAG;AACf,WAAO,WAAW;AAChB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,IAAI,GAAG;AACd,WAAO,SAAS,GAAG;AACjB,aAAO,EAAE,CAAC,IAAI;AAAA,IAChB;AAAA,EACF;AAEe,WAAR,eAAiB,GAAG,GAAG;AAC5B,QAAI,KAAK,IAAI,YAAY,IAAI,YAAY,GACrC,IACA,IACA,IACA,IAAI,IACJ,IAAI,CAAC,GACL,IAAI,CAAC;AAGT,QAAI,IAAI,IAAI,IAAI,IAAI;AAGpB,YAAQ,KAAK,IAAI,KAAK,CAAC,OACf,KAAK,IAAI,KAAK,CAAC,IAAI;AACzB,WAAK,KAAK,GAAG,SAAS,IAAI;AACxB,aAAK,EAAE,MAAM,IAAI,EAAE;AACnB,YAAI,EAAE,CAAC;AAAG,YAAE,CAAC,KAAK;AAAA;AACb,YAAE,EAAE,CAAC,IAAI;AAAA,MAChB;AACA,WAAK,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,IAAI;AACjC,YAAI,EAAE,CAAC;AAAG,YAAE,CAAC,KAAK;AAAA;AACb,YAAE,EAAE,CAAC,IAAI;AAAA,MAChB,OAAO;AACL,UAAE,EAAE,CAAC,IAAI;AACT,UAAE,KAAK,EAAC,GAAM,GAAG,eAAO,IAAI,EAAE,EAAC,CAAC;AAAA,MAClC;AACA,WAAK,IAAI;AAAA,IACX;AAGA,QAAI,KAAK,EAAE,QAAQ;AACjB,WAAK,EAAE,MAAM,EAAE;AACf,UAAI,EAAE,CAAC;AAAG,UAAE,CAAC,KAAK;AAAA;AACb,UAAE,EAAE,CAAC,IAAI;AAAA,IAChB;AAIA,WAAO,EAAE,SAAS,IAAK,EAAE,CAAC,IACpB,IAAI,EAAE,CAAC,EAAE,CAAC,IACV,KAAK,CAAC,KACL,IAAI,EAAE,QAAQ,SAAS,GAAG;AACzB,eAASG,KAAI,GAAG,GAAGA,KAAI,GAAG,EAAEA;AAAG,WAAG,IAAI,EAAEA,EAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;AACtD,aAAO,EAAE,KAAK,EAAE;AAAA,IAClB;AAAA,EACR;;;AC/DA,MAAI,UAAU,MAAM,KAAK;AAElB,MAAI,WAAW;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,EACV;AAEe,WAAR,kBAAiB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AACxC,QAAI,QAAQ,QAAQ;AACpB,QAAI,SAAS,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC;AAAG,WAAK,QAAQ,KAAK;AACzD,QAAI,QAAQ,IAAI,IAAI,IAAI;AAAG,WAAK,IAAI,OAAO,KAAK,IAAI;AACpD,QAAI,SAAS,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC;AAAG,WAAK,QAAQ,KAAK,QAAQ,SAAS;AAC1E,QAAI,IAAI,IAAI,IAAI;AAAG,UAAI,CAAC,GAAG,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,SAAS,CAAC;AAC7D,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,QAAQ,KAAK,MAAM,GAAG,CAAC,IAAI;AAAA,MAC3B,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,MAC1B;AAAA,MACA;AAAA,IACF;AAAA,EACF;;;ACvBA,MAAI;AAGG,WAAS,SAAS,OAAO;AAC9B,UAAM,IAAI,KAAK,OAAO,cAAc,aAAa,YAAY,iBAAiB,QAAQ,EAAE;AACxF,WAAO,EAAE,aAAa,WAAW,kBAAU,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAAA,EACzE;AAEO,WAAS,SAAS,OAAO;AAC9B,QAAI,SAAS;AAAM,aAAO;AAC1B,QAAI,CAAC;AAAS,gBAAU,SAAS,gBAAgB,8BAA8B,GAAG;AAClF,YAAQ,aAAa,aAAa,KAAK;AACvC,QAAI,EAAE,QAAQ,QAAQ,UAAU,QAAQ,YAAY;AAAI,aAAO;AAC/D,YAAQ,MAAM;AACd,WAAO,kBAAU,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;AAAA,EACvE;;;ACdA,WAAS,qBAAqB,OAAO,SAAS,SAAS,UAAU;AAE/D,aAAS,IAAI,GAAG;AACd,aAAO,EAAE,SAAS,EAAE,IAAI,IAAI,MAAM;AAAA,IACpC;AAEA,aAAS,UAAU,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG;AACvC,UAAI,OAAO,MAAM,OAAO,IAAI;AAC1B,YAAI,IAAI,EAAE,KAAK,cAAc,MAAM,SAAS,MAAM,OAAO;AACzD,UAAE,KAAK,EAAC,GAAG,IAAI,GAAG,GAAG,eAAO,IAAI,EAAE,EAAC,GAAG,EAAC,GAAG,IAAI,GAAG,GAAG,eAAO,IAAI,EAAE,EAAC,CAAC;AAAA,MACrE,WAAW,MAAM,IAAI;AACnB,UAAE,KAAK,eAAe,KAAK,UAAU,KAAK,OAAO;AAAA,MACnD;AAAA,IACF;AAEA,aAAS,OAAO,GAAG,GAAG,GAAG,GAAG;AAC1B,UAAI,MAAM,GAAG;AACX,YAAI,IAAI,IAAI;AAAK,eAAK;AAAA,iBAAc,IAAI,IAAI;AAAK,eAAK;AACtD,UAAE,KAAK,EAAC,GAAG,EAAE,KAAK,IAAI,CAAC,IAAI,WAAW,MAAM,QAAQ,IAAI,GAAG,GAAG,eAAO,GAAG,CAAC,EAAC,CAAC;AAAA,MAC7E,WAAW,GAAG;AACZ,UAAE,KAAK,IAAI,CAAC,IAAI,YAAY,IAAI,QAAQ;AAAA,MAC1C;AAAA,IACF;AAEA,aAAS,MAAM,GAAG,GAAG,GAAG,GAAG;AACzB,UAAI,MAAM,GAAG;AACX,UAAE,KAAK,EAAC,GAAG,EAAE,KAAK,IAAI,CAAC,IAAI,UAAU,MAAM,QAAQ,IAAI,GAAG,GAAG,eAAO,GAAG,CAAC,EAAC,CAAC;AAAA,MAC5E,WAAW,GAAG;AACZ,UAAE,KAAK,IAAI,CAAC,IAAI,WAAW,IAAI,QAAQ;AAAA,MACzC;AAAA,IACF;AAEA,aAAS,MAAM,IAAI,IAAI,IAAI,IAAI,GAAG,GAAG;AACnC,UAAI,OAAO,MAAM,OAAO,IAAI;AAC1B,YAAI,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,UAAU,MAAM,KAAK,MAAM,GAAG;AACtD,UAAE,KAAK,EAAC,GAAG,IAAI,GAAG,GAAG,eAAO,IAAI,EAAE,EAAC,GAAG,EAAC,GAAG,IAAI,GAAG,GAAG,eAAO,IAAI,EAAE,EAAC,CAAC;AAAA,MACrE,WAAW,OAAO,KAAK,OAAO,GAAG;AAC/B,UAAE,KAAK,IAAI,CAAC,IAAI,WAAW,KAAK,MAAM,KAAK,GAAG;AAAA,MAChD;AAAA,IACF;AAEA,WAAO,SAAS,GAAG,GAAG;AACpB,UAAI,IAAI,CAAC,GACL,IAAI,CAAC;AACT,UAAI,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC;AACzB,gBAAU,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,GAAG,CAAC;AACtE,aAAO,EAAE,QAAQ,EAAE,QAAQ,GAAG,CAAC;AAC/B,YAAM,EAAE,OAAO,EAAE,OAAO,GAAG,CAAC;AAC5B,YAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,GAAG,CAAC;AAClD,UAAI,IAAI;AACR,aAAO,SAAS,GAAG;AACjB,YAAI,IAAI,IAAI,IAAI,EAAE,QAAQ;AAC1B,eAAO,EAAE,IAAI;AAAG,aAAG,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;AACvC,eAAO,EAAE,KAAK,EAAE;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAEO,MAAI,0BAA0B,qBAAqB,UAAU,QAAQ,OAAO,MAAM;AAClF,MAAI,0BAA0B,qBAAqB,UAAU,MAAM,KAAK,GAAG;;;AC9DlF,MAAI,QAAQ;AAAZ,MACI,UAAU;AADd,MAEI,WAAW;AAFf,MAGI,YAAY;AAHhB,MAII;AAJJ,MAKI;AALJ,MAMI,YAAY;AANhB,MAOI,WAAW;AAPf,MAQI,YAAY;AARhB,MASI,QAAQ,OAAO,gBAAgB,YAAY,YAAY,MAAM,cAAc;AAT/E,MAUI,WAAW,OAAO,WAAW,YAAY,OAAO,wBAAwB,OAAO,sBAAsB,KAAK,MAAM,IAAI,SAAS,GAAG;AAAE,eAAW,GAAG,EAAE;AAAA,EAAG;AAElJ,WAAS,MAAM;AACpB,WAAO,aAAa,SAAS,QAAQ,GAAG,WAAW,MAAM,IAAI,IAAI;AAAA,EACnE;AAEA,WAAS,WAAW;AAClB,eAAW;AAAA,EACb;AAEO,WAAS,QAAQ;AACtB,SAAK,QACL,KAAK,QACL,KAAK,QAAQ;AAAA,EACf;AAEA,QAAM,YAAY,MAAM,YAAY;AAAA,IAClC,aAAa;AAAA,IACb,SAAS,SAAS,UAAU,OAAO,MAAM;AACvC,UAAI,OAAO,aAAa;AAAY,cAAM,IAAI,UAAU,4BAA4B;AACpF,cAAQ,QAAQ,OAAO,IAAI,IAAI,CAAC,SAAS,SAAS,OAAO,IAAI,CAAC;AAC9D,UAAI,CAAC,KAAK,SAAS,aAAa,MAAM;AACpC,YAAI;AAAU,mBAAS,QAAQ;AAAA;AAC1B,qBAAW;AAChB,mBAAW;AAAA,MACb;AACA,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,YAAM;AAAA,IACR;AAAA,IACA,MAAM,WAAW;AACf,UAAI,KAAK,OAAO;AACd,aAAK,QAAQ;AACb,aAAK,QAAQ;AACb,cAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAEO,WAAS,MAAM,UAAU,OAAO,MAAM;AAC3C,QAAI,IAAI,IAAI;AACZ,MAAE,QAAQ,UAAU,OAAO,IAAI;AAC/B,WAAO;AAAA,EACT;AAEO,WAAS,aAAa;AAC3B,QAAI;AACJ,MAAE;AACF,QAAI,IAAI,UAAU;AAClB,WAAO,GAAG;AACR,WAAK,IAAI,WAAW,EAAE,UAAU;AAAG,UAAE,MAAM,KAAK,QAAW,CAAC;AAC5D,UAAI,EAAE;AAAA,IACR;AACA,MAAE;AAAA,EACJ;AAEA,WAAS,OAAO;AACd,gBAAY,YAAY,MAAM,IAAI,KAAK;AACvC,YAAQ,UAAU;AAClB,QAAI;AACF,iBAAW;AAAA,IACb,UAAE;AACA,cAAQ;AACR,UAAI;AACJ,iBAAW;AAAA,IACb;AAAA,EACF;AAEA,WAAS,OAAO;AACd,QAAIC,OAAM,MAAM,IAAI,GAAG,QAAQA,OAAM;AACrC,QAAI,QAAQ;AAAW,mBAAa,OAAO,YAAYA;AAAA,EACzD;AAEA,WAAS,MAAM;AACb,QAAI,IAAI,KAAK,UAAU,IAAI,OAAO;AAClC,WAAO,IAAI;AACT,UAAI,GAAG,OAAO;AACZ,YAAI,OAAO,GAAG;AAAO,iBAAO,GAAG;AAC/B,aAAK,IAAI,KAAK,GAAG;AAAA,MACnB,OAAO;AACL,aAAK,GAAG,OAAO,GAAG,QAAQ;AAC1B,aAAK,KAAK,GAAG,QAAQ,KAAK,WAAW;AAAA,MACvC;AAAA,IACF;AACA,eAAW;AACX,UAAM,IAAI;AAAA,EACZ;AAEA,WAAS,MAAM,MAAM;AACnB,QAAI;AAAO;AACX,QAAI;AAAS,gBAAU,aAAa,OAAO;AAC3C,QAAI,QAAQ,OAAO;AACnB,QAAI,QAAQ,IAAI;AACd,UAAI,OAAO;AAAU,kBAAU,WAAW,MAAM,OAAO,MAAM,IAAI,IAAI,SAAS;AAC9E,UAAI;AAAU,mBAAW,cAAc,QAAQ;AAAA,IACjD,OAAO;AACL,UAAI,CAAC;AAAU,oBAAY,MAAM,IAAI,GAAG,WAAW,YAAY,MAAM,SAAS;AAC9E,cAAQ,GAAG,SAAS,IAAI;AAAA,IAC1B;AAAA,EACF;;;AC3Ge,WAAR,gBAAiB,UAAU,OAAO,MAAM;AAC7C,QAAI,IAAI,IAAI;AACZ,YAAQ,SAAS,OAAO,IAAI,CAAC;AAC7B,MAAE,QAAQ,aAAW;AACnB,QAAE,KAAK;AACP,eAAS,UAAU,KAAK;AAAA,IAC1B,GAAG,OAAO,IAAI;AACd,WAAO;AAAA,EACT;;;ACPA,MAAI,UAAU,iBAAS,SAAS,OAAO,UAAU,WAAW;AAC5D,MAAI,aAAa,CAAC;AAEX,MAAI,UAAU;AACd,MAAI,YAAY;AAChB,MAAI,WAAW;AACf,MAAI,UAAU;AACd,MAAI,UAAU;AACd,MAAI,SAAS;AACb,MAAI,QAAQ;AAEJ,WAAR,iBAAiB,MAAM,MAAMC,KAAI,OAAO,OAAO,QAAQ;AAC5D,QAAI,YAAY,KAAK;AACrB,QAAI,CAAC;AAAW,WAAK,eAAe,CAAC;AAAA,aAC5BA,OAAM;AAAW;AAC1B,WAAO,MAAMA,KAAI;AAAA,MACf;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM,OAAO;AAAA,MACb,OAAO,OAAO;AAAA,MACd,UAAU,OAAO;AAAA,MACjB,MAAM,OAAO;AAAA,MACb,OAAO;AAAA,MACP,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAEO,WAAS,KAAK,MAAMA,KAAI;AAC7B,QAAI,WAAWC,KAAI,MAAMD,GAAE;AAC3B,QAAI,SAAS,QAAQ;AAAS,YAAM,IAAI,MAAM,6BAA6B;AAC3E,WAAO;AAAA,EACT;AAEO,WAASE,KAAI,MAAMF,KAAI;AAC5B,QAAI,WAAWC,KAAI,MAAMD,GAAE;AAC3B,QAAI,SAAS,QAAQ;AAAS,YAAM,IAAI,MAAM,2BAA2B;AACzE,WAAO;AAAA,EACT;AAEO,WAASC,KAAI,MAAMD,KAAI;AAC5B,QAAI,WAAW,KAAK;AACpB,QAAI,CAAC,YAAY,EAAE,WAAW,SAASA,GAAE;AAAI,YAAM,IAAI,MAAM,sBAAsB;AACnF,WAAO;AAAA,EACT;AAEA,WAAS,OAAO,MAAMA,KAAI,MAAM;AAC9B,QAAI,YAAY,KAAK,cACjB;AAIJ,cAAUA,GAAE,IAAI;AAChB,SAAK,QAAQ,MAAM,UAAU,GAAG,KAAK,IAAI;AAEzC,aAAS,SAAS,SAAS;AACzB,WAAK,QAAQ;AACb,WAAK,MAAM,QAAQG,QAAO,KAAK,OAAO,KAAK,IAAI;AAG/C,UAAI,KAAK,SAAS;AAAS,QAAAA,OAAM,UAAU,KAAK,KAAK;AAAA,IACvD;AAEA,aAASA,OAAM,SAAS;AACtB,UAAI,GAAG,GAAG,GAAG;AAGb,UAAI,KAAK,UAAU;AAAW,eAAO,KAAK;AAE1C,WAAK,KAAK,WAAW;AACnB,YAAI,UAAU,CAAC;AACf,YAAI,EAAE,SAAS,KAAK;AAAM;AAK1B,YAAI,EAAE,UAAU;AAAS,iBAAO,gBAAQA,MAAK;AAG7C,YAAI,EAAE,UAAU,SAAS;AACvB,YAAE,QAAQ;AACV,YAAE,MAAM,KAAK;AACb,YAAE,GAAG,KAAK,aAAa,MAAM,KAAK,UAAU,EAAE,OAAO,EAAE,KAAK;AAC5D,iBAAO,UAAU,CAAC;AAAA,QACpB,WAGS,CAAC,IAAIH,KAAI;AAChB,YAAE,QAAQ;AACV,YAAE,MAAM,KAAK;AACb,YAAE,GAAG,KAAK,UAAU,MAAM,KAAK,UAAU,EAAE,OAAO,EAAE,KAAK;AACzD,iBAAO,UAAU,CAAC;AAAA,QACpB;AAAA,MACF;AAMA,sBAAQ,WAAW;AACjB,YAAI,KAAK,UAAU,SAAS;AAC1B,eAAK,QAAQ;AACb,eAAK,MAAM,QAAQ,MAAM,KAAK,OAAO,KAAK,IAAI;AAC9C,eAAK,OAAO;AAAA,QACd;AAAA,MACF,CAAC;AAID,WAAK,QAAQ;AACb,WAAK,GAAG,KAAK,SAAS,MAAM,KAAK,UAAU,KAAK,OAAO,KAAK,KAAK;AACjE,UAAI,KAAK,UAAU;AAAU;AAC7B,WAAK,QAAQ;AAGb,cAAQ,IAAI,MAAM,IAAI,KAAK,MAAM,MAAM;AACvC,WAAK,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,EAAE,GAAG;AAC9B,YAAI,IAAI,KAAK,MAAM,CAAC,EAAE,MAAM,KAAK,MAAM,KAAK,UAAU,KAAK,OAAO,KAAK,KAAK,GAAG;AAC7E,gBAAM,EAAE,CAAC,IAAI;AAAA,QACf;AAAA,MACF;AACA,YAAM,SAAS,IAAI;AAAA,IACrB;AAEA,aAAS,KAAK,SAAS;AACrB,UAAI,IAAI,UAAU,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU,KAAK,QAAQ,KAAK,KAAK,MAAM,QAAQ,IAAI,GAAG,KAAK,QAAQ,QAAQ,IAC9H,IAAI,IACJ,IAAI,MAAM;AAEd,aAAO,EAAE,IAAI,GAAG;AACd,cAAM,CAAC,EAAE,KAAK,MAAM,CAAC;AAAA,MACvB;AAGA,UAAI,KAAK,UAAU,QAAQ;AACzB,aAAK,GAAG,KAAK,OAAO,MAAM,KAAK,UAAU,KAAK,OAAO,KAAK,KAAK;AAC/D,aAAK;AAAA,MACP;AAAA,IACF;AAEA,aAAS,OAAO;AACd,WAAK,QAAQ;AACb,WAAK,MAAM,KAAK;AAChB,aAAO,UAAUA,GAAE;AACnB,eAAS,KAAK;AAAW;AACzB,aAAO,KAAK;AAAA,IACd;AAAA,EACF;;;ACtJe,WAAR,kBAAiB,MAAM,MAAM;AAClC,QAAI,YAAY,KAAK,cACjB,UACA,QACAI,SAAQ,MACR;AAEJ,QAAI,CAAC;AAAW;AAEhB,WAAO,QAAQ,OAAO,OAAO,OAAO;AAEpC,SAAK,KAAK,WAAW;AACnB,WAAK,WAAW,UAAU,CAAC,GAAG,SAAS,MAAM;AAAE,QAAAA,SAAQ;AAAO;AAAA,MAAU;AACxE,eAAS,SAAS,QAAQ,YAAY,SAAS,QAAQ;AACvD,eAAS,QAAQ;AACjB,eAAS,MAAM,KAAK;AACpB,eAAS,GAAG,KAAK,SAAS,cAAc,UAAU,MAAM,KAAK,UAAU,SAAS,OAAO,SAAS,KAAK;AACrG,aAAO,UAAU,CAAC;AAAA,IACpB;AAEA,QAAIA;AAAO,aAAO,KAAK;AAAA,EACzB;;;ACrBe,WAARC,mBAAiB,MAAM;AAC5B,WAAO,KAAK,KAAK,WAAW;AAC1B,wBAAU,MAAM,IAAI;AAAA,IACtB,CAAC;AAAA,EACH;;;ACJA,WAAS,YAAYC,KAAI,MAAM;AAC7B,QAAI,QAAQ;AACZ,WAAO,WAAW;AAChB,UAAI,WAAWC,KAAI,MAAMD,GAAE,GACvB,QAAQ,SAAS;AAKrB,UAAI,UAAU,QAAQ;AACpB,iBAAS,SAAS;AAClB,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC7C,cAAI,OAAO,CAAC,EAAE,SAAS,MAAM;AAC3B,qBAAS,OAAO,MAAM;AACtB,mBAAO,OAAO,GAAG,CAAC;AAClB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,eAAS,QAAQ;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,cAAcA,KAAI,MAAM,OAAO;AACtC,QAAI,QAAQ;AACZ,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,WAAO,WAAW;AAChB,UAAI,WAAWC,KAAI,MAAMD,GAAE,GACvB,QAAQ,SAAS;AAKrB,UAAI,UAAU,QAAQ;AACpB,kBAAU,SAAS,OAAO,MAAM;AAChC,iBAAS,IAAI,EAAC,MAAY,MAAY,GAAG,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC7E,cAAI,OAAO,CAAC,EAAE,SAAS,MAAM;AAC3B,mBAAO,CAAC,IAAI;AACZ;AAAA,UACF;AAAA,QACF;AACA,YAAI,MAAM;AAAG,iBAAO,KAAK,CAAC;AAAA,MAC5B;AAEA,eAAS,QAAQ;AAAA,IACnB;AAAA,EACF;AAEe,WAAR,cAAiB,MAAM,OAAO;AACnC,QAAIA,MAAK,KAAK;AAEd,YAAQ;AAER,QAAI,UAAU,SAAS,GAAG;AACxB,UAAI,QAAQE,KAAI,KAAK,KAAK,GAAGF,GAAE,EAAE;AACjC,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/C,aAAK,IAAI,MAAM,CAAC,GAAG,SAAS,MAAM;AAChC,iBAAO,EAAE;AAAA,QACX;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,KAAK,MAAM,SAAS,OAAO,cAAc,eAAeA,KAAI,MAAM,KAAK,CAAC;AAAA,EACjF;AAEO,WAAS,WAAWG,aAAY,MAAM,OAAO;AAClD,QAAIH,MAAKG,YAAW;AAEpB,IAAAA,YAAW,KAAK,WAAW;AACzB,UAAI,WAAWF,KAAI,MAAMD,GAAE;AAC3B,OAAC,SAAS,UAAU,SAAS,QAAQ,CAAC,IAAI,IAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AAAA,IAC/E,CAAC;AAED,WAAO,SAAS,MAAM;AACpB,aAAOE,KAAI,MAAMF,GAAE,EAAE,MAAM,IAAI;AAAA,IACjC;AAAA,EACF;;;AC7Ee,WAAR,oBAAiB,GAAG,GAAG;AAC5B,QAAI;AACJ,YAAQ,OAAO,MAAM,WAAW,iBAC1B,aAAa,QAAQ,eACpB,IAAI,MAAM,CAAC,MAAM,IAAI,GAAG,eACzB,gBAAmB,GAAG,CAAC;AAAA,EAC/B;;;ACJA,WAASI,YAAW,MAAM;AACxB,WAAO,WAAW;AAChB,WAAK,gBAAgB,IAAI;AAAA,IAC3B;AAAA,EACF;AAEA,WAASC,cAAa,UAAU;AAC9B,WAAO,WAAW;AAChB,WAAK,kBAAkB,SAAS,OAAO,SAAS,KAAK;AAAA,IACvD;AAAA,EACF;AAEA,WAASC,cAAa,MAAM,aAAa,QAAQ;AAC/C,QAAI,UACA,UAAU,SAAS,IACnB;AACJ,WAAO,WAAW;AAChB,UAAI,UAAU,KAAK,aAAa,IAAI;AACpC,aAAO,YAAY,UAAU,OACvB,YAAY,WAAW,eACvB,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAC7D;AAAA,EACF;AAEA,WAASC,gBAAe,UAAU,aAAa,QAAQ;AACrD,QAAI,UACA,UAAU,SAAS,IACnB;AACJ,WAAO,WAAW;AAChB,UAAI,UAAU,KAAK,eAAe,SAAS,OAAO,SAAS,KAAK;AAChE,aAAO,YAAY,UAAU,OACvB,YAAY,WAAW,eACvB,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAC7D;AAAA,EACF;AAEA,WAASC,cAAa,MAAM,aAAa,OAAO;AAC9C,QAAI,UACA,UACA;AACJ,WAAO,WAAW;AAChB,UAAI,SAAS,SAAS,MAAM,IAAI,GAAG;AACnC,UAAI,UAAU;AAAM,eAAO,KAAK,KAAK,gBAAgB,IAAI;AACzD,gBAAU,KAAK,aAAa,IAAI;AAChC,gBAAU,SAAS;AACnB,aAAO,YAAY,UAAU,OACvB,YAAY,YAAY,YAAY,WAAW,gBAC9C,WAAW,SAAS,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAClF;AAAA,EACF;AAEA,WAASC,gBAAe,UAAU,aAAa,OAAO;AACpD,QAAI,UACA,UACA;AACJ,WAAO,WAAW;AAChB,UAAI,SAAS,SAAS,MAAM,IAAI,GAAG;AACnC,UAAI,UAAU;AAAM,eAAO,KAAK,KAAK,kBAAkB,SAAS,OAAO,SAAS,KAAK;AACrF,gBAAU,KAAK,eAAe,SAAS,OAAO,SAAS,KAAK;AAC5D,gBAAU,SAAS;AACnB,aAAO,YAAY,UAAU,OACvB,YAAY,YAAY,YAAY,WAAW,gBAC9C,WAAW,SAAS,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAClF;AAAA,EACF;AAEe,WAARC,cAAiB,MAAM,OAAO;AACnC,QAAI,WAAW,kBAAU,IAAI,GAAG,IAAI,aAAa,cAAc,0BAAuB;AACtF,WAAO,KAAK,UAAU,MAAM,OAAO,UAAU,cACtC,SAAS,QAAQD,kBAAiBD,eAAc,UAAU,GAAG,WAAW,MAAM,UAAU,MAAM,KAAK,CAAC,IACrG,SAAS,QAAQ,SAAS,QAAQH,gBAAeD,aAAY,QAAQ,KACpE,SAAS,QAAQG,kBAAiBD,eAAc,UAAU,GAAG,KAAK,CAAC;AAAA,EAC5E;;;AC3EA,WAAS,gBAAgB,MAAM,GAAG;AAChC,WAAO,SAAS,GAAG;AACjB,WAAK,aAAa,MAAM,EAAE,KAAK,MAAM,CAAC,CAAC;AAAA,IACzC;AAAA,EACF;AAEA,WAAS,kBAAkB,UAAU,GAAG;AACtC,WAAO,SAAS,GAAG;AACjB,WAAK,eAAe,SAAS,OAAO,SAAS,OAAO,EAAE,KAAK,MAAM,CAAC,CAAC;AAAA,IACrE;AAAA,EACF;AAEA,WAAS,YAAY,UAAU,OAAO;AACpC,QAAI,IAAI;AACR,aAAS,QAAQ;AACf,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,MAAM;AAAI,cAAM,KAAK,MAAM,kBAAkB,UAAU,CAAC;AAC5D,aAAO;AAAA,IACT;AACA,UAAM,SAAS;AACf,WAAO;AAAA,EACT;AAEA,WAAS,UAAU,MAAM,OAAO;AAC9B,QAAI,IAAI;AACR,aAAS,QAAQ;AACf,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,MAAM;AAAI,cAAM,KAAK,MAAM,gBAAgB,MAAM,CAAC;AACtD,aAAO;AAAA,IACT;AACA,UAAM,SAAS;AACf,WAAO;AAAA,EACT;AAEe,WAAR,kBAAiB,MAAM,OAAO;AACnC,QAAI,MAAM,UAAU;AACpB,QAAI,UAAU,SAAS;AAAG,cAAQ,MAAM,KAAK,MAAM,GAAG,MAAM,IAAI;AAChE,QAAI,SAAS;AAAM,aAAO,KAAK,MAAM,KAAK,IAAI;AAC9C,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,QAAI,WAAW,kBAAU,IAAI;AAC7B,WAAO,KAAK,MAAM,MAAM,SAAS,QAAQ,cAAc,WAAW,UAAU,KAAK,CAAC;AAAA,EACpF;;;ACzCA,WAAS,cAAcK,KAAI,OAAO;AAChC,WAAO,WAAW;AAChB,WAAK,MAAMA,GAAE,EAAE,QAAQ,CAAC,MAAM,MAAM,MAAM,SAAS;AAAA,IACrD;AAAA,EACF;AAEA,WAAS,cAAcA,KAAI,OAAO;AAChC,WAAO,QAAQ,CAAC,OAAO,WAAW;AAChC,WAAK,MAAMA,GAAE,EAAE,QAAQ;AAAA,IACzB;AAAA,EACF;AAEe,WAAR,cAAiB,OAAO;AAC7B,QAAIA,MAAK,KAAK;AAEd,WAAO,UAAU,SACX,KAAK,MAAM,OAAO,UAAU,aACxB,gBACA,eAAeA,KAAI,KAAK,CAAC,IAC7BC,KAAI,KAAK,KAAK,GAAGD,GAAE,EAAE;AAAA,EAC7B;;;ACpBA,WAAS,iBAAiBE,KAAI,OAAO;AACnC,WAAO,WAAW;AAChB,MAAAC,KAAI,MAAMD,GAAE,EAAE,WAAW,CAAC,MAAM,MAAM,MAAM,SAAS;AAAA,IACvD;AAAA,EACF;AAEA,WAAS,iBAAiBA,KAAI,OAAO;AACnC,WAAO,QAAQ,CAAC,OAAO,WAAW;AAChC,MAAAC,KAAI,MAAMD,GAAE,EAAE,WAAW;AAAA,IAC3B;AAAA,EACF;AAEe,WAAR,iBAAiB,OAAO;AAC7B,QAAIA,MAAK,KAAK;AAEd,WAAO,UAAU,SACX,KAAK,MAAM,OAAO,UAAU,aACxB,mBACA,kBAAkBA,KAAI,KAAK,CAAC,IAChCE,KAAI,KAAK,KAAK,GAAGF,GAAE,EAAE;AAAA,EAC7B;;;ACpBA,WAAS,aAAaG,KAAI,OAAO;AAC/B,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,WAAO,WAAW;AAChB,MAAAC,KAAI,MAAMD,GAAE,EAAE,OAAO;AAAA,IACvB;AAAA,EACF;AAEe,WAAR,aAAiB,OAAO;AAC7B,QAAIA,MAAK,KAAK;AAEd,WAAO,UAAU,SACX,KAAK,KAAK,aAAaA,KAAI,KAAK,CAAC,IACjCE,KAAI,KAAK,KAAK,GAAGF,GAAE,EAAE;AAAA,EAC7B;;;ACbA,WAAS,YAAYG,KAAI,OAAO;AAC9B,WAAO,WAAW;AAChB,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,OAAO,MAAM;AAAY,cAAM,IAAI;AACvC,MAAAC,KAAI,MAAMD,GAAE,EAAE,OAAO;AAAA,IACvB;AAAA,EACF;AAEe,WAAR,oBAAiB,OAAO;AAC7B,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,WAAO,KAAK,KAAK,YAAY,KAAK,KAAK,KAAK,CAAC;AAAA,EAC/C;;;ACVe,WAARE,gBAAiB,OAAO;AAC7B,QAAI,OAAO,UAAU;AAAY,cAAQ,gBAAQ,KAAK;AAEtD,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC9F,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,WAAW,UAAU,CAAC,IAAI,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACnG,aAAK,OAAO,MAAM,CAAC,MAAM,MAAM,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,GAAG;AAClE,mBAAS,KAAK,IAAI;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,WAAW,WAAW,KAAK,UAAU,KAAK,OAAO,KAAK,GAAG;AAAA,EACtE;;;ACbe,WAARC,eAAiBC,aAAY;AAClC,QAAIA,YAAW,QAAQ,KAAK;AAAK,YAAM,IAAI;AAE3C,aAAS,UAAU,KAAK,SAAS,UAAUA,YAAW,SAAS,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE,GAAG,SAAS,IAAI,MAAM,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACxK,eAAS,SAAS,QAAQ,CAAC,GAAG,SAAS,QAAQ,CAAC,GAAG,IAAI,OAAO,QAAQ,QAAQ,OAAO,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC/H,YAAI,OAAO,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG;AACjC,gBAAM,CAAC,IAAI;AAAA,QACb;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,IAAI,EAAE,GAAG;AAClB,aAAO,CAAC,IAAI,QAAQ,CAAC;AAAA,IACvB;AAEA,WAAO,IAAI,WAAW,QAAQ,KAAK,UAAU,KAAK,OAAO,KAAK,GAAG;AAAA,EACnE;;;AChBA,WAAS,MAAM,MAAM;AACnB,YAAQ,OAAO,IAAI,KAAK,EAAE,MAAM,OAAO,EAAE,MAAM,SAAS,GAAG;AACzD,UAAI,IAAI,EAAE,QAAQ,GAAG;AACrB,UAAI,KAAK;AAAG,YAAI,EAAE,MAAM,GAAG,CAAC;AAC5B,aAAO,CAAC,KAAK,MAAM;AAAA,IACrB,CAAC;AAAA,EACH;AAEA,WAAS,WAAWC,KAAI,MAAM,UAAU;AACtC,QAAI,KAAK,KAAK,MAAM,MAAM,IAAI,IAAI,OAAOC;AACzC,WAAO,WAAW;AAChB,UAAI,WAAW,IAAI,MAAMD,GAAE,GACvB,KAAK,SAAS;AAKlB,UAAI,OAAO;AAAK,SAAC,OAAO,MAAM,IAAI,KAAK,GAAG,GAAG,MAAM,QAAQ;AAE3D,eAAS,KAAK;AAAA,IAChB;AAAA,EACF;AAEe,WAARE,YAAiB,MAAM,UAAU;AACtC,QAAIF,MAAK,KAAK;AAEd,WAAO,UAAU,SAAS,IACpBG,KAAI,KAAK,KAAK,GAAGH,GAAE,EAAE,GAAG,GAAG,IAAI,IAC/B,KAAK,KAAK,WAAWA,KAAI,MAAM,QAAQ,CAAC;AAAA,EAChD;;;AC/BA,WAAS,eAAeI,KAAI;AAC1B,WAAO,WAAW;AAChB,UAAI,SAAS,KAAK;AAClB,eAAS,KAAK,KAAK;AAAc,YAAI,CAAC,MAAMA;AAAI;AAChD,UAAI;AAAQ,eAAO,YAAY,IAAI;AAAA,IACrC;AAAA,EACF;AAEe,WAARC,kBAAmB;AACxB,WAAO,KAAK,GAAG,cAAc,eAAe,KAAK,GAAG,CAAC;AAAA,EACvD;;;ACNe,WAARC,gBAAiB,QAAQ;AAC9B,QAAI,OAAO,KAAK,OACZC,MAAK,KAAK;AAEd,QAAI,OAAO,WAAW;AAAY,eAAS,iBAAS,MAAM;AAE1D,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC9F,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,WAAW,UAAU,CAAC,IAAI,IAAI,MAAM,CAAC,GAAG,MAAM,SAAS,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACtH,aAAK,OAAO,MAAM,CAAC,OAAO,UAAU,OAAO,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,IAAI;AAC/E,cAAI,cAAc;AAAM,oBAAQ,WAAW,KAAK;AAChD,mBAAS,CAAC,IAAI;AACd,2BAAS,SAAS,CAAC,GAAG,MAAMA,KAAI,GAAG,UAAUC,KAAI,MAAMD,GAAE,CAAC;AAAA,QAC5D;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,WAAW,WAAW,KAAK,UAAU,MAAMA,GAAE;AAAA,EAC1D;;;ACjBe,WAARE,mBAAiB,QAAQ;AAC9B,QAAI,OAAO,KAAK,OACZC,MAAK,KAAK;AAEd,QAAI,OAAO,WAAW;AAAY,eAAS,oBAAY,MAAM;AAE7D,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,YAAY,CAAC,GAAG,UAAU,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAClG,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,mBAASC,YAAW,OAAO,KAAK,MAAM,KAAK,UAAU,GAAG,KAAK,GAAG,OAAOC,WAAUC,KAAI,MAAMH,GAAE,GAAG,IAAI,GAAG,IAAIC,UAAS,QAAQ,IAAI,GAAG,EAAE,GAAG;AACtI,gBAAI,QAAQA,UAAS,CAAC,GAAG;AACvB,+BAAS,OAAO,MAAMD,KAAI,GAAGC,WAAUC,QAAO;AAAA,YAChD;AAAA,UACF;AACA,oBAAU,KAAKD,SAAQ;AACvB,kBAAQ,KAAK,IAAI;AAAA,QACnB;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,WAAW,WAAW,SAAS,MAAMD,GAAE;AAAA,EACpD;;;ACvBA,MAAII,aAAY,kBAAU,UAAU;AAErB,WAARC,qBAAmB;AACxB,WAAO,IAAID,WAAU,KAAK,SAAS,KAAK,QAAQ;AAAA,EAClD;;;ACAA,WAAS,UAAU,MAAM,aAAa;AACpC,QAAI,UACA,UACA;AACJ,WAAO,WAAW;AAChB,UAAI,UAAU,WAAM,MAAM,IAAI,GAC1B,WAAW,KAAK,MAAM,eAAe,IAAI,GAAG,WAAM,MAAM,IAAI;AAChE,aAAO,YAAY,UAAU,OACvB,YAAY,YAAY,YAAY,WAAW,eAC/C,eAAe,YAAY,WAAW,SAAS,WAAW,OAAO;AAAA,IACzE;AAAA,EACF;AAEA,WAASE,aAAY,MAAM;AACzB,WAAO,WAAW;AAChB,WAAK,MAAM,eAAe,IAAI;AAAA,IAChC;AAAA,EACF;AAEA,WAASC,eAAc,MAAM,aAAa,QAAQ;AAChD,QAAI,UACA,UAAU,SAAS,IACnB;AACJ,WAAO,WAAW;AAChB,UAAI,UAAU,WAAM,MAAM,IAAI;AAC9B,aAAO,YAAY,UAAU,OACvB,YAAY,WAAW,eACvB,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAC7D;AAAA,EACF;AAEA,WAASC,eAAc,MAAM,aAAa,OAAO;AAC/C,QAAI,UACA,UACA;AACJ,WAAO,WAAW;AAChB,UAAI,UAAU,WAAM,MAAM,IAAI,GAC1B,SAAS,MAAM,IAAI,GACnB,UAAU,SAAS;AACvB,UAAI,UAAU;AAAM,kBAAU,UAAU,KAAK,MAAM,eAAe,IAAI,GAAG,WAAM,MAAM,IAAI;AACzF,aAAO,YAAY,UAAU,OACvB,YAAY,YAAY,YAAY,WAAW,gBAC9C,WAAW,SAAS,eAAe,YAAY,WAAW,SAAS,MAAM;AAAA,IAClF;AAAA,EACF;AAEA,WAAS,iBAAiBC,KAAI,MAAM;AAClC,QAAI,KAAK,KAAK,WAAW,MAAM,WAAW,MAAM,QAAQ,SAAS,KAAKC;AACtE,WAAO,WAAW;AAChB,UAAI,WAAWC,KAAI,MAAMF,GAAE,GACvB,KAAK,SAAS,IACd,WAAW,SAAS,MAAM,GAAG,KAAK,OAAOC,YAAWA,UAASJ,aAAY,IAAI,KAAK;AAKtF,UAAI,OAAO,OAAO,cAAc;AAAU,SAAC,OAAO,MAAM,IAAI,KAAK,GAAG,GAAG,OAAO,YAAY,QAAQ;AAElG,eAAS,KAAK;AAAA,IAChB;AAAA,EACF;AAEe,WAARM,eAAiB,MAAM,OAAO,UAAU;AAC7C,QAAI,KAAK,QAAQ,QAAQ,cAAc,0BAAuB;AAC9D,WAAO,SAAS,OAAO,KAClB,WAAW,MAAM,UAAU,MAAM,CAAC,CAAC,EACnC,GAAG,eAAe,MAAMN,aAAY,IAAI,CAAC,IAC1C,OAAO,UAAU,aAAa,KAC7B,WAAW,MAAME,eAAc,MAAM,GAAG,WAAW,MAAM,WAAW,MAAM,KAAK,CAAC,CAAC,EACjF,KAAK,iBAAiB,KAAK,KAAK,IAAI,CAAC,IACtC,KACC,WAAW,MAAMD,eAAc,MAAM,GAAG,KAAK,GAAG,QAAQ,EACxD,GAAG,eAAe,MAAM,IAAI;AAAA,EACnC;;;AC/EA,WAAS,iBAAiB,MAAM,GAAG,UAAU;AAC3C,WAAO,SAAS,GAAG;AACjB,WAAK,MAAM,YAAY,MAAM,EAAE,KAAK,MAAM,CAAC,GAAG,QAAQ;AAAA,IACxD;AAAA,EACF;AAEA,WAAS,WAAW,MAAM,OAAO,UAAU;AACzC,QAAI,GAAG;AACP,aAAS,QAAQ;AACf,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,MAAM;AAAI,aAAK,KAAK,MAAM,iBAAiB,MAAM,GAAG,QAAQ;AAChE,aAAO;AAAA,IACT;AACA,UAAM,SAAS;AACf,WAAO;AAAA,EACT;AAEe,WAAR,mBAAiB,MAAM,OAAO,UAAU;AAC7C,QAAI,MAAM,YAAY,QAAQ;AAC9B,QAAI,UAAU,SAAS;AAAG,cAAQ,MAAM,KAAK,MAAM,GAAG,MAAM,IAAI;AAChE,QAAI,SAAS;AAAM,aAAO,KAAK,MAAM,KAAK,IAAI;AAC9C,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,WAAO,KAAK,MAAM,KAAK,WAAW,MAAM,OAAO,YAAY,OAAO,KAAK,QAAQ,CAAC;AAAA,EAClF;;;ACrBA,WAASM,cAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AAEA,WAASC,cAAa,OAAO;AAC3B,WAAO,WAAW;AAChB,UAAI,SAAS,MAAM,IAAI;AACvB,WAAK,cAAc,UAAU,OAAO,KAAK;AAAA,IAC3C;AAAA,EACF;AAEe,WAARC,cAAiB,OAAO;AAC7B,WAAO,KAAK,MAAM,QAAQ,OAAO,UAAU,aACrCD,cAAa,WAAW,MAAM,QAAQ,KAAK,CAAC,IAC5CD,cAAa,SAAS,OAAO,KAAK,QAAQ,EAAE,CAAC;AAAA,EACrD;;;ACnBA,WAAS,gBAAgB,GAAG;AAC1B,WAAO,SAAS,GAAG;AACjB,WAAK,cAAc,EAAE,KAAK,MAAM,CAAC;AAAA,IACnC;AAAA,EACF;AAEA,WAAS,UAAU,OAAO;AACxB,QAAI,IAAI;AACR,aAAS,QAAQ;AACf,UAAI,IAAI,MAAM,MAAM,MAAM,SAAS;AACnC,UAAI,MAAM;AAAI,cAAM,KAAK,MAAM,gBAAgB,CAAC;AAChD,aAAO;AAAA,IACT;AACA,UAAM,SAAS;AACf,WAAO;AAAA,EACT;AAEe,WAAR,kBAAiB,OAAO;AAC7B,QAAI,MAAM;AACV,QAAI,UAAU,SAAS;AAAG,cAAQ,MAAM,KAAK,MAAM,GAAG,MAAM,IAAI;AAChE,QAAI,SAAS;AAAM,aAAO,KAAK,MAAM,KAAK,IAAI;AAC9C,QAAI,OAAO,UAAU;AAAY,YAAM,IAAI;AAC3C,WAAO,KAAK,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,EACzC;;;ACpBe,WAAR,qBAAmB;AACxB,QAAI,OAAO,KAAK,OACZ,MAAM,KAAK,KACX,MAAM,MAAM;AAEhB,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACpE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,cAAIG,WAAUC,KAAI,MAAM,GAAG;AAC3B,2BAAS,MAAM,MAAM,KAAK,GAAG,OAAO;AAAA,YAClC,MAAMD,SAAQ,OAAOA,SAAQ,QAAQA,SAAQ;AAAA,YAC7C,OAAO;AAAA,YACP,UAAUA,SAAQ;AAAA,YAClB,MAAMA,SAAQ;AAAA,UAChB,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,WAAW,QAAQ,KAAK,UAAU,MAAM,GAAG;AAAA,EACxD;;;ACrBe,WAAR,cAAmB;AACxB,QAAI,KAAK,KAAK,OAAO,MAAME,MAAK,KAAK,KAAK,OAAO,KAAK,KAAK;AAC3D,WAAO,IAAI,QAAQ,SAAS,SAAS,QAAQ;AAC3C,UAAI,SAAS,EAAC,OAAO,OAAM,GACvB,MAAM,EAAC,OAAO,WAAW;AAAE,YAAI,EAAE,SAAS;AAAG,kBAAQ;AAAA,MAAG,EAAC;AAE7D,WAAK,KAAK,WAAW;AACnB,YAAI,WAAWC,KAAI,MAAMD,GAAE,GACvB,KAAK,SAAS;AAKlB,YAAI,OAAO,KAAK;AACd,iBAAO,MAAM,IAAI,KAAK;AACtB,cAAI,EAAE,OAAO,KAAK,MAAM;AACxB,cAAI,EAAE,UAAU,KAAK,MAAM;AAC3B,cAAI,EAAE,IAAI,KAAK,GAAG;AAAA,QACpB;AAEA,iBAAS,KAAK;AAAA,MAChB,CAAC;AAGD,UAAI,SAAS;AAAG,gBAAQ;AAAA,IAC1B,CAAC;AAAA,EACH;;;ACNA,MAAI,KAAK;AAEF,WAAS,WAAW,QAAQ,SAAS,MAAME,KAAI;AACpD,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,QAAQ;AACb,SAAK,MAAMA;AAAA,EACb;AAEe,WAAR,WAA4B,MAAM;AACvC,WAAO,kBAAU,EAAE,WAAW,IAAI;AAAA,EACpC;AAEO,WAAS,QAAQ;AACtB,WAAO,EAAE;AAAA,EACX;AAEA,MAAI,sBAAsB,kBAAU;AAEpC,aAAW,YAAY,WAAW,YAAY;AAAA,IAC5C,aAAa;AAAA,IACb,QAAQC;AAAA,IACR,WAAWC;AAAA,IACX,aAAa,oBAAoB;AAAA,IACjC,gBAAgB,oBAAoB;AAAA,IACpC,QAAQC;AAAA,IACR,OAAOC;AAAA,IACP,WAAWC;AAAA,IACX,YAAY;AAAA,IACZ,MAAM,oBAAoB;AAAA,IAC1B,OAAO,oBAAoB;AAAA,IAC3B,MAAM,oBAAoB;AAAA,IAC1B,MAAM,oBAAoB;AAAA,IAC1B,OAAO,oBAAoB;AAAA,IAC3B,MAAM,oBAAoB;AAAA,IAC1B,IAAIC;AAAA,IACJ,MAAMC;AAAA,IACN,WAAW;AAAA,IACX,OAAOC;AAAA,IACP,YAAY;AAAA,IACZ,MAAMC;AAAA,IACN,WAAW;AAAA,IACX,QAAQC;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,UAAU;AAAA,IACV,MAAM;AAAA,IACN,aAAa;AAAA,IACb,KAAK;AAAA,IACL,CAAC,OAAO,QAAQ,GAAG,oBAAoB,OAAO,QAAQ;AAAA,EACxD;;;AChEO,WAAS,WAAW,GAAG;AAC5B,aAAS,KAAK,MAAM,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK;AAAA,EAC9D;;;ACLA,MAAI,gBAAgB;AAAA,IAClB,MAAM;AAAA;AAAA,IACN,OAAO;AAAA,IACP,UAAU;AAAA,IACV,MAAM;AAAA,EACR;AAEA,WAAS,QAAQ,MAAMC,KAAI;AACzB,QAAI;AACJ,WAAO,EAAE,SAAS,KAAK,iBAAiB,EAAE,SAAS,OAAOA,GAAE,IAAI;AAC9D,UAAI,EAAE,OAAO,KAAK,aAAa;AAC7B,cAAM,IAAI,MAAM,cAAcA,GAAE,YAAY;AAAA,MAC9C;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAEe,WAARC,oBAAiB,MAAM;AAC5B,QAAID,KACA;AAEJ,QAAI,gBAAgB,YAAY;AAC9B,MAAAA,MAAK,KAAK,KAAK,OAAO,KAAK;AAAA,IAC7B,OAAO;AACL,MAAAA,MAAK,MAAM,IAAI,SAAS,eAAe,OAAO,IAAI,GAAG,OAAO,QAAQ,OAAO,OAAO,OAAO;AAAA,IAC3F;AAEA,aAAS,SAAS,KAAK,SAAS,IAAI,OAAO,QAAQ,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACpE,eAAS,QAAQ,OAAO,CAAC,GAAG,IAAI,MAAM,QAAQ,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AACrE,YAAI,OAAO,MAAM,CAAC,GAAG;AACnB,2BAAS,MAAM,MAAMA,KAAI,GAAG,OAAO,UAAU,QAAQ,MAAMA,GAAE,CAAC;AAAA,QAChE;AAAA,MACF;AAAA,IACF;AAEA,WAAO,IAAI,WAAW,QAAQ,KAAK,UAAU,MAAMA,GAAE;AAAA,EACvD;;;ACrCA,oBAAU,UAAU,YAAYE;AAChC,oBAAU,UAAU,aAAaC;;;ACSjC,MAAM,EAAC,KAAK,KAAK,IAAG,IAAI;AAExB,WAAS,QAAQ,GAAG;AAClB,WAAO,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAAA,EACtB;AAEA,WAAS,QAAQ,GAAG;AAClB,WAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,GAAG,QAAQ,EAAE,CAAC,CAAC,CAAC;AAAA,EACtC;AAEA,MAAI,IAAI;AAAA,IACN,MAAM;AAAA,IACN,SAAS,CAAC,KAAK,GAAG,EAAE,IAAI,IAAI;AAAA,IAC5B,OAAO,SAASC,IAAG,GAAG;AAAE,aAAOA,MAAK,OAAO,OAAO,CAAC,CAAC,CAACA,GAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAACA,GAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAAA,IAAG;AAAA,IACxF,QAAQ,SAAS,IAAI;AAAE,aAAO,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;AAAA,IAAG;AAAA,EAC5D;AAEA,MAAI,IAAI;AAAA,IACN,MAAM;AAAA,IACN,SAAS,CAAC,KAAK,GAAG,EAAE,IAAI,IAAI;AAAA,IAC5B,OAAO,SAASC,IAAG,GAAG;AAAE,aAAOA,MAAK,OAAO,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAACA,GAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAACA,GAAE,CAAC,CAAC,CAAC;AAAA,IAAG;AAAA,IACxF,QAAQ,SAAS,IAAI;AAAE,aAAO,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;AAAA,IAAG;AAAA,EAC5D;AAEA,MAAI,KAAK;AAAA,IACP,MAAM;AAAA,IACN,SAAS,CAAC,KAAK,KAAK,KAAK,KAAK,MAAM,MAAM,MAAM,IAAI,EAAE,IAAI,IAAI;AAAA,IAC9D,OAAO,SAAS,IAAI;AAAE,aAAO,MAAM,OAAO,OAAO,QAAQ,EAAE;AAAA,IAAG;AAAA,IAC9D,QAAQ,SAAS,IAAI;AAAE,aAAO;AAAA,IAAI;AAAA,EACpC;AA2DA,WAAS,KAAK,GAAG;AACf,WAAO,EAAC,MAAM,EAAC;AAAA,EACjB;;;ACxGA,MAAM,KAAK,KAAK;AAAhB,MACI,MAAM,IAAI;AADd,MAEI,UAAU;AAFd,MAGI,aAAa,MAAM;AAEvB,WAAS,OAAO,SAAS;AACvB,SAAK,KAAK,QAAQ,CAAC;AACnB,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC9C,WAAK,KAAK,UAAU,CAAC,IAAI,QAAQ,CAAC;AAAA,IACpC;AAAA,EACF;AAEA,WAAS,YAAY,QAAQ;AAC3B,QAAI,IAAI,KAAK,MAAM,MAAM;AACzB,QAAI,EAAE,KAAK;AAAI,YAAM,IAAI,MAAM,mBAAmB,MAAM,EAAE;AAC1D,QAAI,IAAI;AAAI,aAAO;AACnB,UAAM,IAAI,MAAM;AAChB,WAAO,SAAS,SAAS;AACvB,WAAK,KAAK,QAAQ,CAAC;AACnB,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC9C,aAAK,KAAK,KAAK,MAAM,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC;AAAA,MACxD;AAAA,IACF;AAAA,EACF;AAEO,MAAM,OAAN,MAAW;AAAA,IAChB,YAAY,QAAQ;AAClB,WAAK,MAAM,KAAK;AAAA,MAChB,KAAK,MAAM,KAAK,MAAM;AACtB,WAAK,IAAI;AACT,WAAK,UAAU,UAAU,OAAO,SAAS,YAAY,MAAM;AAAA,IAC7D;AAAA,IACA,OAAOC,IAAGC,IAAG;AACX,WAAK,WAAW,KAAK,MAAM,KAAK,MAAM,CAACD,EAAC,IAAI,KAAK,MAAM,KAAK,MAAM,CAACC,EAAC;AAAA,IACtE;AAAA,IACA,YAAY;AACV,UAAI,KAAK,QAAQ,MAAM;AACrB,aAAK,MAAM,KAAK,KAAK,KAAK,MAAM,KAAK;AACrC,aAAK;AAAA,MACP;AAAA,IACF;AAAA,IACA,OAAOD,IAAGC,IAAG;AACX,WAAK,WAAW,KAAK,MAAM,CAACD,EAAC,IAAI,KAAK,MAAM,CAACC,EAAC;AAAA,IAChD;AAAA,IACA,iBAAiB,IAAI,IAAID,IAAGC,IAAG;AAC7B,WAAK,WAAW,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK,MAAM,CAACD,EAAC,IAAI,KAAK,MAAM,CAACC,EAAC;AAAA,IAC9D;AAAA,IACA,cAAc,IAAI,IAAI,IAAI,IAAID,IAAGC,IAAG;AAClC,WAAK,WAAW,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK,MAAM,CAACD,EAAC,IAAI,KAAK,MAAM,CAACC,EAAC;AAAA,IAC5E;AAAA,IACA,MAAM,IAAI,IAAI,IAAI,IAAI,GAAG;AACvB,WAAK,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC;AAG7C,UAAI,IAAI;AAAG,cAAM,IAAI,MAAM,oBAAoB,CAAC,EAAE;AAElD,UAAI,KAAK,KAAK,KACV,KAAK,KAAK,KACV,MAAM,KAAK,IACX,MAAM,KAAK,IACX,MAAM,KAAK,IACX,MAAM,KAAK,IACX,QAAQ,MAAM,MAAM,MAAM;AAG9B,UAAI,KAAK,QAAQ,MAAM;AACrB,aAAK,WAAW,KAAK,MAAM,EAAE,IAAI,KAAK,MAAM,EAAE;AAAA,MAChD,WAGS,EAAE,QAAQ;AAAS;AAAA,eAKnB,EAAE,KAAK,IAAI,MAAM,MAAM,MAAM,GAAG,IAAI,YAAY,CAAC,GAAG;AAC3D,aAAK,WAAW,KAAK,MAAM,EAAE,IAAI,KAAK,MAAM,EAAE;AAAA,MAChD,OAGK;AACH,YAAI,MAAM,KAAK,IACX,MAAM,KAAK,IACX,QAAQ,MAAM,MAAM,MAAM,KAC1B,QAAQ,MAAM,MAAM,MAAM,KAC1B,MAAM,KAAK,KAAK,KAAK,GACrB,MAAM,KAAK,KAAK,KAAK,GACrB,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,MAAM,QAAQ,QAAQ,UAAU,IAAI,MAAM,IAAI,KAAK,CAAC,GAChF,MAAM,IAAI,KACV,MAAM,IAAI;AAGd,YAAI,KAAK,IAAI,MAAM,CAAC,IAAI,SAAS;AAC/B,eAAK,WAAW,KAAK,MAAM,GAAG,IAAI,KAAK,MAAM,GAAG;AAAA,QAClD;AAEA,aAAK,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,MAAM,MAAM,IAAI,IAAI,KAAK,MAAM,KAAK,MAAM,GAAG,IAAI,KAAK,MAAM,KAAK,MAAM,GAAG;AAAA,MAClH;AAAA,IACF;AAAA,IACA,IAAID,IAAGC,IAAG,GAAG,IAAI,IAAI,KAAK;AACxB,MAAAD,KAAI,CAACA,IAAGC,KAAI,CAACA,IAAG,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC;AAGhC,UAAI,IAAI;AAAG,cAAM,IAAI,MAAM,oBAAoB,CAAC,EAAE;AAElD,UAAI,KAAK,IAAI,KAAK,IAAI,EAAE,GACpB,KAAK,IAAI,KAAK,IAAI,EAAE,GACpB,KAAKD,KAAI,IACT,KAAKC,KAAI,IACT,KAAK,IAAI,KACT,KAAK,MAAM,KAAK,KAAK,KAAK;AAG9B,UAAI,KAAK,QAAQ,MAAM;AACrB,aAAK,WAAW,EAAE,IAAI,EAAE;AAAA,MAC1B,WAGS,KAAK,IAAI,KAAK,MAAM,EAAE,IAAI,WAAW,KAAK,IAAI,KAAK,MAAM,EAAE,IAAI,SAAS;AAC/E,aAAK,WAAW,EAAE,IAAI,EAAE;AAAA,MAC1B;AAGA,UAAI,CAAC;AAAG;AAGR,UAAI,KAAK;AAAG,aAAK,KAAK,MAAM;AAG5B,UAAI,KAAK,YAAY;AACnB,aAAK,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAID,KAAI,EAAE,IAAIC,KAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,KAAK,MAAM,EAAE,IAAI,KAAK,MAAM,EAAE;AAAA,MAC5G,WAGS,KAAK,SAAS;AACrB,aAAK,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,GAAG,IAAI,EAAE,IAAI,KAAK,MAAMD,KAAI,IAAI,KAAK,IAAI,EAAE,CAAC,IAAI,KAAK,MAAMC,KAAI,IAAI,KAAK,IAAI,EAAE,CAAC;AAAA,MACrH;AAAA,IACF;AAAA,IACA,KAAKD,IAAGC,IAAG,GAAG,GAAG;AACf,WAAK,WAAW,KAAK,MAAM,KAAK,MAAM,CAACD,EAAC,IAAI,KAAK,MAAM,KAAK,MAAM,CAACC,EAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AAAA,IAC5F;AAAA,IACA,WAAW;AACT,aAAO,KAAK;AAAA,IACd;AAAA,EACF;AAEO,WAAS,OAAO;AACrB,WAAO,IAAI;AAAA,EACb;AAGA,OAAK,YAAY,KAAK;;;ACvJtB,WAAS,MAAM,MAAM;AACnB,QAAI,MAAM,GACNC,YAAW,KAAK,UAChB,IAAIA,aAAYA,UAAS;AAC7B,QAAI,CAAC;AAAG,YAAM;AAAA;AACT,aAAO,EAAE,KAAK;AAAG,eAAOA,UAAS,CAAC,EAAE;AACzC,SAAK,QAAQ;AAAA,EACf;AAEe,WAAR,gBAAmB;AACxB,WAAO,KAAK,UAAU,KAAK;AAAA,EAC7B;;;ACXe,WAARC,cAAiB,UAAU,MAAM;AACtC,QAAI,QAAQ;AACZ,eAAW,QAAQ,MAAM;AACvB,eAAS,KAAK,MAAM,MAAM,EAAE,OAAO,IAAI;AAAA,IACzC;AACA,WAAO;AAAA,EACT;;;ACNe,WAAR,mBAAiB,UAAU,MAAM;AACtC,QAAI,OAAO,MAAM,QAAQ,CAAC,IAAI,GAAGC,WAAU,GAAG,QAAQ;AACtD,WAAO,OAAO,MAAM,IAAI,GAAG;AACzB,eAAS,KAAK,MAAM,MAAM,EAAE,OAAO,IAAI;AACvC,UAAIA,YAAW,KAAK,UAAU;AAC5B,aAAK,IAAIA,UAAS,SAAS,GAAG,KAAK,GAAG,EAAE,GAAG;AACzC,gBAAM,KAAKA,UAAS,CAAC,CAAC;AAAA,QACxB;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,EACT;;;ACXe,WAAR,kBAAiB,UAAU,MAAM;AACtC,QAAI,OAAO,MAAM,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC,GAAGC,WAAU,GAAG,GAAG,QAAQ;AACpE,WAAO,OAAO,MAAM,IAAI,GAAG;AACzB,WAAK,KAAK,IAAI;AACd,UAAIA,YAAW,KAAK,UAAU;AAC5B,aAAK,IAAI,GAAG,IAAIA,UAAS,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC3C,gBAAM,KAAKA,UAAS,CAAC,CAAC;AAAA,QACxB;AAAA,MACF;AAAA,IACF;AACA,WAAO,OAAO,KAAK,IAAI,GAAG;AACxB,eAAS,KAAK,MAAM,MAAM,EAAE,OAAO,IAAI;AAAA,IACzC;AACA,WAAO;AAAA,EACT;;;ACde,WAAR,aAAiB,UAAU,MAAM;AACtC,QAAI,QAAQ;AACZ,eAAW,QAAQ,MAAM;AACvB,UAAI,SAAS,KAAK,MAAM,MAAM,EAAE,OAAO,IAAI,GAAG;AAC5C,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;;;ACPe,WAAR,YAAiB,OAAO;AAC7B,WAAO,KAAK,UAAU,SAAS,MAAM;AACnC,UAAI,MAAM,CAAC,MAAM,KAAK,IAAI,KAAK,GAC3BC,YAAW,KAAK,UAChB,IAAIA,aAAYA,UAAS;AAC7B,aAAO,EAAE,KAAK;AAAG,eAAOA,UAAS,CAAC,EAAE;AACpC,WAAK,QAAQ;AAAA,IACf,CAAC;AAAA,EACH;;;ACRe,WAARC,cAAiB,SAAS;AAC/B,WAAO,KAAK,WAAW,SAAS,MAAM;AACpC,UAAI,KAAK,UAAU;AACjB,aAAK,SAAS,KAAK,OAAO;AAAA,MAC5B;AAAA,IACF,CAAC;AAAA,EACH;;;ACNe,WAAR,aAAiB,KAAK;AAC3B,QAAIC,SAAQ,MACR,WAAW,oBAAoBA,QAAO,GAAG,GACzC,QAAQ,CAACA,MAAK;AAClB,WAAOA,WAAU,UAAU;AACzB,MAAAA,SAAQA,OAAM;AACd,YAAM,KAAKA,MAAK;AAAA,IAClB;AACA,QAAI,IAAI,MAAM;AACd,WAAO,QAAQ,UAAU;AACvB,YAAM,OAAO,GAAG,GAAG,GAAG;AACtB,YAAM,IAAI;AAAA,IACZ;AACA,WAAO;AAAA,EACT;AAEA,WAAS,oBAAoB,GAAG,GAAG;AACjC,QAAI,MAAM;AAAG,aAAO;AACpB,QAAI,SAAS,EAAE,UAAU,GACrB,SAAS,EAAE,UAAU,GACrB,IAAI;AACR,QAAI,OAAO,IAAI;AACf,QAAI,OAAO,IAAI;AACf,WAAO,MAAM,GAAG;AACd,UAAI;AACJ,UAAI,OAAO,IAAI;AACf,UAAI,OAAO,IAAI;AAAA,IACjB;AACA,WAAO;AAAA,EACT;;;AC7Be,WAAR,oBAAmB;AACxB,QAAI,OAAO,MAAM,QAAQ,CAAC,IAAI;AAC9B,WAAO,OAAO,KAAK,QAAQ;AACzB,YAAM,KAAK,IAAI;AAAA,IACjB;AACA,WAAO;AAAA,EACT;;;ACNe,WAAR,sBAAmB;AACxB,WAAO,MAAM,KAAK,IAAI;AAAA,EACxB;;;ACFe,WAAR,iBAAmB;AACxB,QAAI,SAAS,CAAC;AACd,SAAK,WAAW,SAAS,MAAM;AAC7B,UAAI,CAAC,KAAK,UAAU;AAClB,eAAO,KAAK,IAAI;AAAA,MAClB;AAAA,IACF,CAAC;AACD,WAAO;AAAA,EACT;;;ACRe,WAAR,gBAAmB;AACxB,QAAIC,QAAO,MAAM,QAAQ,CAAC;AAC1B,IAAAA,MAAK,KAAK,SAAS,MAAM;AACvB,UAAI,SAASA,OAAM;AACjB,cAAM,KAAK,EAAC,QAAQ,KAAK,QAAQ,QAAQ,KAAI,CAAC;AAAA,MAChD;AAAA,IACF,CAAC;AACD,WAAO;AAAA,EACT;;;ACRe,YAARC,oBAAoB;AACzB,QAAI,OAAO,MAAM,SAAS,OAAO,CAAC,IAAI,GAAGC,WAAU,GAAG;AACtD,OAAG;AACD,gBAAU,KAAK,QAAQ,GAAG,OAAO,CAAC;AAClC,aAAO,OAAO,QAAQ,IAAI,GAAG;AAC3B,cAAM;AACN,YAAIA,YAAW,KAAK,UAAU;AAC5B,eAAK,IAAI,GAAG,IAAIA,UAAS,QAAQ,IAAI,GAAG,EAAE,GAAG;AAC3C,iBAAK,KAAKA,UAAS,CAAC,CAAC;AAAA,UACvB;AAAA,QACF;AAAA,MACF;AAAA,IACF,SAAS,KAAK;AAAA,EAChB;;;ACCe,WAAR,UAA2B,MAAMC,WAAU;AAChD,QAAI,gBAAgB,KAAK;AACvB,aAAO,CAAC,QAAW,IAAI;AACvB,UAAIA,cAAa;AAAW,QAAAA,YAAW;AAAA,IACzC,WAAWA,cAAa,QAAW;AACjC,MAAAA,YAAW;AAAA,IACb;AAEA,QAAIC,QAAO,IAAIC,MAAK,IAAI,GACpB,MACA,QAAQ,CAACD,KAAI,GACb,OACA,QACA,GACA;AAEJ,WAAO,OAAO,MAAM,IAAI,GAAG;AACzB,WAAK,SAASD,UAAS,KAAK,IAAI,OAAO,KAAK,SAAS,MAAM,KAAK,MAAM,GAAG,SAAS;AAChF,aAAK,WAAW;AAChB,aAAK,IAAI,IAAI,GAAG,KAAK,GAAG,EAAE,GAAG;AAC3B,gBAAM,KAAK,QAAQ,OAAO,CAAC,IAAI,IAAIE,MAAK,OAAO,CAAC,CAAC,CAAC;AAClD,gBAAM,SAAS;AACf,gBAAM,QAAQ,KAAK,QAAQ;AAAA,QAC7B;AAAA,MACF;AAAA,IACF;AAEA,WAAOD,MAAK,WAAW,aAAa;AAAA,EACtC;AAEA,WAAS,YAAY;AACnB,WAAO,UAAU,IAAI,EAAE,WAAW,QAAQ;AAAA,EAC5C;AAEA,WAAS,eAAe,GAAG;AACzB,WAAO,EAAE;AAAA,EACX;AAEA,WAAS,YAAY,GAAG;AACtB,WAAO,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI;AAAA,EACnC;AAEA,WAAS,SAAS,MAAM;AACtB,QAAI,KAAK,KAAK,UAAU;AAAW,WAAK,QAAQ,KAAK,KAAK;AAC1D,SAAK,OAAO,KAAK,KAAK;AAAA,EACxB;AAEO,WAAS,cAAc,MAAM;AAClC,QAAI,SAAS;AACb;AAAG,WAAK,SAAS;AAAA,YACT,OAAO,KAAK,WAAY,KAAK,SAAS,EAAE;AAAA,EAClD;AAEO,WAASC,MAAK,MAAM;AACzB,SAAK,OAAO;AACZ,SAAK,QACL,KAAK,SAAS;AACd,SAAK,SAAS;AAAA,EAChB;AAEA,EAAAA,MAAK,YAAY,UAAU,YAAY;AAAA,IACrC,aAAaA;AAAA,IACb,OAAO;AAAA,IACP,MAAMC;AAAA,IACN,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAMC;AAAA,IACN,MAAM;AAAA,IACN,WAAW;AAAA,IACX,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,MAAM;AAAA,IACN,CAAC,OAAO,QAAQ,GAAGC;AAAA,EACrB;;;ACxFA,WAAS,kBAAkB,GAAG,GAAG;AAC/B,WAAO,EAAE,WAAW,EAAE,SAAS,IAAI;AAAA,EACrC;AAUA,WAAS,SAAS,GAAG;AACnB,QAAIC,YAAW,EAAE;AACjB,WAAOA,YAAWA,UAAS,CAAC,IAAI,EAAE;AAAA,EACpC;AAGA,WAAS,UAAU,GAAG;AACpB,QAAIA,YAAW,EAAE;AACjB,WAAOA,YAAWA,UAASA,UAAS,SAAS,CAAC,IAAI,EAAE;AAAA,EACtD;AAIA,WAAS,YAAY,IAAI,IAAI,OAAO;AAClC,QAAI,SAAS,SAAS,GAAG,IAAI,GAAG;AAChC,OAAG,KAAK;AACR,OAAG,KAAK;AACR,OAAG,KAAK;AACR,OAAG,KAAK;AACR,OAAG,KAAK;AAAA,EACV;AAKA,WAAS,cAAc,GAAG;AACxB,QAAI,QAAQ,GACR,SAAS,GACTA,YAAW,EAAE,UACb,IAAIA,UAAS,QACb;AACJ,WAAO,EAAE,KAAK,GAAG;AACf,UAAIA,UAAS,CAAC;AACd,QAAE,KAAK;AACP,QAAE,KAAK;AACP,eAAS,EAAE,KAAK,UAAU,EAAE;AAAA,IAC9B;AAAA,EACF;AAIA,WAAS,aAAa,KAAK,GAAG,UAAU;AACtC,WAAO,IAAI,EAAE,WAAW,EAAE,SAAS,IAAI,IAAI;AAAA,EAC7C;AAEA,WAAS,SAAS,MAAM,GAAG;AACzB,SAAK,IAAI;AACT,SAAK,SAAS;AACd,SAAK,WAAW;AAChB,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AAAA,EACX;AAEA,WAAS,YAAY,OAAO,OAAOC,MAAK,SAAS;AAEjD,WAAS,SAASC,OAAM;AACtB,QAAI,OAAO,IAAI,SAASA,OAAM,CAAC,GAC3B,MACA,QAAQ,CAAC,IAAI,GACb,OACAF,WACA,GACA;AAEJ,WAAO,OAAO,MAAM,IAAI,GAAG;AACzB,UAAIA,YAAW,KAAK,EAAE,UAAU;AAC9B,aAAK,WAAW,IAAI,MAAM,IAAIA,UAAS,MAAM;AAC7C,aAAK,IAAI,IAAI,GAAG,KAAK,GAAG,EAAE,GAAG;AAC3B,gBAAM,KAAK,QAAQ,KAAK,SAAS,CAAC,IAAI,IAAI,SAASA,UAAS,CAAC,GAAG,CAAC,CAAC;AAClE,gBAAM,SAAS;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAEA,KAAC,KAAK,SAAS,IAAI,SAAS,MAAM,CAAC,GAAG,WAAW,CAAC,IAAI;AACtD,WAAO;AAAA,EACT;AAGe,WAAR,eAAmB;AACxB,QAAI,aAAa,mBACb,KAAK,GACL,KAAK,GACL,WAAW;AAEf,aAAS,KAAKE,OAAM;AAClB,UAAI,IAAI,SAASA,KAAI;AAGrB,QAAE,UAAU,SAAS,GAAG,EAAE,OAAO,IAAI,CAAC,EAAE;AACxC,QAAE,WAAW,UAAU;AAGvB,UAAI;AAAU,QAAAA,MAAK,WAAW,QAAQ;AAAA,WAIjC;AACH,YAAI,OAAOA,OACP,QAAQA,OACR,SAASA;AACb,QAAAA,MAAK,WAAW,SAAS,MAAM;AAC7B,cAAI,KAAK,IAAI,KAAK;AAAG,mBAAO;AAC5B,cAAI,KAAK,IAAI,MAAM;AAAG,oBAAQ;AAC9B,cAAI,KAAK,QAAQ,OAAO;AAAO,qBAAS;AAAA,QAC1C,CAAC;AACD,YAAI,IAAI,SAAS,QAAQ,IAAI,WAAW,MAAM,KAAK,IAAI,GACnD,KAAK,IAAI,KAAK,GACd,KAAK,MAAM,MAAM,IAAI,IAAI,KACzB,KAAK,MAAM,OAAO,SAAS;AAC/B,QAAAA,MAAK,WAAW,SAAS,MAAM;AAC7B,eAAK,KAAK,KAAK,IAAI,MAAM;AACzB,eAAK,IAAI,KAAK,QAAQ;AAAA,QACxB,CAAC;AAAA,MACH;AAEA,aAAOA;AAAA,IACT;AAMA,aAAS,UAAU,GAAG;AACpB,UAAIF,YAAW,EAAE,UACb,WAAW,EAAE,OAAO,UACpB,IAAI,EAAE,IAAI,SAAS,EAAE,IAAI,CAAC,IAAI;AAClC,UAAIA,WAAU;AACZ,sBAAc,CAAC;AACf,YAAI,YAAYA,UAAS,CAAC,EAAE,IAAIA,UAASA,UAAS,SAAS,CAAC,EAAE,KAAK;AACnE,YAAI,GAAG;AACL,YAAE,IAAI,EAAE,IAAI,WAAW,EAAE,GAAG,EAAE,CAAC;AAC/B,YAAE,IAAI,EAAE,IAAI;AAAA,QACd,OAAO;AACL,YAAE,IAAI;AAAA,QACR;AAAA,MACF,WAAW,GAAG;AACZ,UAAE,IAAI,EAAE,IAAI,WAAW,EAAE,GAAG,EAAE,CAAC;AAAA,MACjC;AACA,QAAE,OAAO,IAAI,UAAU,GAAG,GAAG,EAAE,OAAO,KAAK,SAAS,CAAC,CAAC;AAAA,IACxD;AAGA,aAAS,WAAW,GAAG;AACrB,QAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO;AACvB,QAAE,KAAK,EAAE,OAAO;AAAA,IAClB;AAaA,aAAS,UAAU,GAAG,GAAG,UAAU;AACjC,UAAI,GAAG;AACL,YAAI,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,IAAI,OAAO,SAAS,CAAC,GAC3B,MAAM,IAAI,GACV,MAAM,IAAI,GACV,MAAM,IAAI,GACV,MAAM,IAAI,GACV;AACJ,eAAO,MAAM,UAAU,GAAG,GAAG,MAAM,SAAS,GAAG,GAAG,OAAO,KAAK;AAC5D,gBAAM,SAAS,GAAG;AAClB,gBAAM,UAAU,GAAG;AACnB,cAAI,IAAI;AACR,kBAAQ,IAAI,IAAI,MAAM,IAAI,IAAI,MAAM,WAAW,IAAI,GAAG,IAAI,CAAC;AAC3D,cAAI,QAAQ,GAAG;AACb,wBAAY,aAAa,KAAK,GAAG,QAAQ,GAAG,GAAG,KAAK;AACpD,mBAAO;AACP,mBAAO;AAAA,UACT;AACA,iBAAO,IAAI;AACX,iBAAO,IAAI;AACX,iBAAO,IAAI;AACX,iBAAO,IAAI;AAAA,QACb;AACA,YAAI,OAAO,CAAC,UAAU,GAAG,GAAG;AAC1B,cAAI,IAAI;AACR,cAAI,KAAK,MAAM;AAAA,QACjB;AACA,YAAI,OAAO,CAAC,SAAS,GAAG,GAAG;AACzB,cAAI,IAAI;AACR,cAAI,KAAK,MAAM;AACf,qBAAW;AAAA,QACb;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,aAAS,SAAS,MAAM;AACtB,WAAK,KAAK;AACV,WAAK,IAAI,KAAK,QAAQ;AAAA,IACxB;AAEA,SAAK,aAAa,SAASG,IAAG;AAC5B,aAAO,UAAU,UAAU,aAAaA,IAAG,QAAQ;AAAA,IACrD;AAEA,SAAK,OAAO,SAASA,IAAG;AACtB,aAAO,UAAU,UAAU,WAAW,OAAO,KAAK,CAACA,GAAE,CAAC,GAAG,KAAK,CAACA,GAAE,CAAC,GAAG,QAAS,WAAW,OAAO,CAAC,IAAI,EAAE;AAAA,IACzG;AAEA,SAAK,WAAW,SAASA,IAAG;AAC1B,aAAO,UAAU,UAAU,WAAW,MAAM,KAAK,CAACA,GAAE,CAAC,GAAG,KAAK,CAACA,GAAE,CAAC,GAAG,QAAS,WAAW,CAAC,IAAI,EAAE,IAAI;AAAA,IACrG;AAEA,WAAO;AAAA,EACT;;;AC5Oe,WAARC,kBAAiBC,IAAG;AACzB,WAAO,SAAS,WAAW;AACzB,aAAOA;AAAA,IACT;AAAA,EACF;;;ACFO,WAAS,SAAS,OAAO;AAC9B,QAAI,SAAS;AAEb,UAAM,SAAS,SAAS,GAAG;AACzB,UAAI,CAAC,UAAU;AAAQ,eAAO;AAC9B,UAAI,KAAK,MAAM;AACb,iBAAS;AAAA,MACX,OAAO;AACL,cAAM,IAAI,KAAK,MAAM,CAAC;AACtB,YAAI,EAAE,KAAK;AAAI,gBAAM,IAAI,WAAW,mBAAmB,CAAC,EAAE;AAC1D,iBAAS;AAAA,MACX;AACA,aAAO;AAAA,IACT;AAEA,WAAO,MAAM,IAAI,KAAK,MAAM;AAAA,EAC9B;;;AClBO,MAAI,QAAQ,MAAM,UAAU;;;ACA5B,WAAS,EAAE,GAAG;AACnB,WAAO,EAAE,CAAC;AAAA,EACZ;AAEO,WAAS,EAAE,GAAG;AACnB,WAAO,EAAE,CAAC;AAAA,EACZ;;;ACJA,MAAM,OAAN,MAAW;AAAA,IACT,YAAY,SAASC,IAAG;AACtB,WAAK,WAAW;AAChB,WAAK,KAAKA;AAAA,IACZ;AAAA,IACA,YAAY;AACV,WAAK,QAAQ;AAAA,IACf;AAAA,IACA,UAAU;AACR,WAAK,QAAQ;AAAA,IACf;AAAA,IACA,YAAY;AACV,WAAK,SAAS;AAAA,IAChB;AAAA,IACA,UAAU;AACR,UAAI,KAAK,SAAU,KAAK,UAAU,KAAK,KAAK,WAAW;AAAI,aAAK,SAAS,UAAU;AACnF,WAAK,QAAQ,IAAI,KAAK;AAAA,IACxB;AAAA,IACA,MAAMA,IAAGC,IAAG;AACV,MAAAD,KAAI,CAACA,IAAGC,KAAI,CAACA;AACb,cAAQ,KAAK,QAAQ;AAAA,QACnB,KAAK,GAAG;AACN,eAAK,SAAS;AACd,cAAI,KAAK;AAAO,iBAAK,SAAS,OAAOD,IAAGC,EAAC;AAAA;AACpC,iBAAK,SAAS,OAAOD,IAAGC,EAAC;AAC9B;AAAA,QACF;AAAA,QACA,KAAK;AAAG,eAAK,SAAS;AAAA,QACtB,SAAS;AACP,cAAI,KAAK;AAAI,iBAAK,SAAS,cAAc,KAAK,OAAO,KAAK,MAAMD,MAAK,GAAG,KAAK,KAAK,KAAK,KAAKC,IAAGD,IAAGC,EAAC;AAAA;AAC9F,iBAAK,SAAS,cAAc,KAAK,KAAK,KAAK,OAAO,KAAK,MAAMA,MAAK,GAAGD,IAAG,KAAK,KAAKA,IAAGC,EAAC;AAC3F;AAAA,QACF;AAAA,MACF;AACA,WAAK,MAAMD,IAAG,KAAK,MAAMC;AAAA,IAC3B;AAAA,EACF;AA0BO,WAAS,MAAM,SAAS;AAC7B,WAAO,IAAI,KAAK,SAAS,IAAI;AAAA,EAC/B;;;AC5DA,WAAS,WAAW,GAAG;AACrB,WAAO,EAAE;AAAA,EACX;AAEA,WAAS,WAAW,GAAG;AACrB,WAAO,EAAE;AAAA,EACX;AAEO,WAAS,KAAK,OAAO;AAC1B,QAAI,SAAS,YACT,SAAS,YACTC,KAAI,GACJC,KAAI,GACJ,UAAU,MACV,SAAS,MACTC,QAAO,SAASC,KAAI;AAExB,aAASA,QAAO;AACd,UAAI;AACJ,YAAM,OAAO,MAAM,KAAK,SAAS;AACjC,YAAM,IAAI,OAAO,MAAM,MAAM,IAAI;AACjC,YAAM,IAAI,OAAO,MAAM,MAAM,IAAI;AACjC,UAAI,WAAW;AAAM,iBAAS,MAAM,SAASD,MAAK,CAAC;AACnD,aAAO,UAAU;AACjB,WAAK,CAAC,IAAI,GAAG,OAAO,MAAM,CAACF,GAAE,MAAM,MAAM,IAAI,GAAG,CAACC,GAAE,MAAM,MAAM,IAAI,CAAC;AACpE,WAAK,CAAC,IAAI,GAAG,OAAO,MAAM,CAACD,GAAE,MAAM,MAAM,IAAI,GAAG,CAACC,GAAE,MAAM,MAAM,IAAI,CAAC;AACpE,aAAO,QAAQ;AACf,UAAI;AAAQ,eAAO,SAAS,MAAM,SAAS,MAAM;AAAA,IACnD;AAEA,IAAAE,MAAK,SAAS,SAAS,GAAG;AACxB,aAAO,UAAU,UAAU,SAAS,GAAGA,SAAQ;AAAA,IACjD;AAEA,IAAAA,MAAK,SAAS,SAAS,GAAG;AACxB,aAAO,UAAU,UAAU,SAAS,GAAGA,SAAQ;AAAA,IACjD;AAEA,IAAAA,MAAK,IAAI,SAAS,GAAG;AACnB,aAAO,UAAU,UAAUH,KAAI,OAAO,MAAM,aAAa,IAAII,kBAAS,CAAC,CAAC,GAAGD,SAAQH;AAAA,IACrF;AAEA,IAAAG,MAAK,IAAI,SAAS,GAAG;AACnB,aAAO,UAAU,UAAUF,KAAI,OAAO,MAAM,aAAa,IAAIG,kBAAS,CAAC,CAAC,GAAGD,SAAQF;AAAA,IACrF;AAEA,IAAAE,MAAK,UAAU,SAAS,GAAG;AACzB,aAAO,UAAU,UAAU,KAAK,OAAO,UAAU,SAAS,OAAO,SAAS,MAAM,UAAU,CAAC,GAAGA,SAAQ;AAAA,IACxG;AAEA,WAAOA;AAAA,EACT;AAEO,WAAS,iBAAiB;AAC/B,WAAO,KAAK,KAAK;AAAA,EACnB;;;AC7DO,WAAS,UAAU,GAAGE,IAAGC,IAAG;AACjC,SAAK,IAAI;AACT,SAAK,IAAID;AACT,SAAK,IAAIC;AAAA,EACX;AAEA,YAAU,YAAY;AAAA,IACpB,aAAa;AAAA,IACb,OAAO,SAAS,GAAG;AACjB,aAAO,MAAM,IAAI,OAAO,IAAI,UAAU,KAAK,IAAI,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,IAClE;AAAA,IACA,WAAW,SAASD,IAAGC,IAAG;AACxB,aAAOD,OAAM,IAAIC,OAAM,IAAI,OAAO,IAAI,UAAU,KAAK,GAAG,KAAK,IAAI,KAAK,IAAID,IAAG,KAAK,IAAI,KAAK,IAAIC,EAAC;AAAA,IAClG;AAAA,IACA,OAAO,SAAS,OAAO;AACrB,aAAO,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC;AAAA,IAChE;AAAA,IACA,QAAQ,SAASD,IAAG;AAClB,aAAOA,KAAI,KAAK,IAAI,KAAK;AAAA,IAC3B;AAAA,IACA,QAAQ,SAASC,IAAG;AAClB,aAAOA,KAAI,KAAK,IAAI,KAAK;AAAA,IAC3B;AAAA,IACA,QAAQ,SAAS,UAAU;AACzB,aAAO,EAAE,SAAS,CAAC,IAAI,KAAK,KAAK,KAAK,IAAI,SAAS,CAAC,IAAI,KAAK,KAAK,KAAK,CAAC;AAAA,IAC1E;AAAA,IACA,SAAS,SAASD,IAAG;AACnB,cAAQA,KAAI,KAAK,KAAK,KAAK;AAAA,IAC7B;AAAA,IACA,SAAS,SAASC,IAAG;AACnB,cAAQA,KAAI,KAAK,KAAK,KAAK;AAAA,IAC7B;AAAA,IACA,UAAU,SAASD,IAAG;AACpB,aAAOA,GAAE,KAAK,EAAE,OAAOA,GAAE,MAAM,EAAE,IAAI,KAAK,SAAS,IAAI,EAAE,IAAIA,GAAE,QAAQA,EAAC,CAAC;AAAA,IAC3E;AAAA,IACA,UAAU,SAASC,IAAG;AACpB,aAAOA,GAAE,KAAK,EAAE,OAAOA,GAAE,MAAM,EAAE,IAAI,KAAK,SAAS,IAAI,EAAE,IAAIA,GAAE,QAAQA,EAAC,CAAC;AAAA,IAC3E;AAAA,IACA,UAAU,WAAW;AACnB,aAAO,eAAe,KAAK,IAAI,MAAM,KAAK,IAAI,aAAa,KAAK,IAAI;AAAA,IACtE;AAAA,EACF;AAEO,MAAIC,YAAW,IAAI,UAAU,GAAG,GAAG,CAAC;AAE3C,YAAU,YAAY,UAAU;AAEjB,WAAR,UAA2B,MAAM;AACtC,WAAO,CAAC,KAAK;AAAQ,UAAI,EAAE,OAAO,KAAK;AAAa,eAAOA;AAC3D,WAAO,KAAK;AAAA,EACd;;;ACvCO,WAAS,gBACd,MACAC,aACA,WAAmB,GACP;AACZ,UAAM,SAAqB;AAAA,MACzB,MAAM,KAAK,SAAS,OAAO,SAASA,YAAW,KAAK,IAAI;AAAA,MACxD,QAAQ,KAAK;AAAA,MACb,SAAS,KAAK;AAAA,IAChB;AAEA,QAAI,WAAW,KAAK,KAAK,SAAS,SAAS,GAAG;AAE5C,YAAM,iBAAiB,CAAC,GAAG,KAAK,QAAQ,EACrC,KAAK,CAAC,GAAG,MAAM,EAAE,SAAS,EAAE,MAAM,EAClC,MAAM,GAAG,CAAC;AAEb,aAAO,WAAW,eAAe;AAAA,QAAI,CAAC,UACpC,gBAAgB,OAAOA,aAAY,WAAW,CAAC;AAAA,MACjD;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAGA,WAAS,iBAAiB,QAAgB,WAA2B;AACnE,QAAI,cAAc;AAAG,aAAO;AAC5B,UAAM,QAAQ,SAAS;AAGvB,QAAI,QAAQ,KAAK;AAEf,YAAM,aAAa,QAAQ,OAAO;AAClC,aAAU,YAAe,WAAW,SAAS,EAAE,SAAS;AAAA,IAC1D,WAAW,QAAQ,KAAK;AAEtB,YAAM,aAAa,QAAQ,OAAO;AAClC,aAAU,YAAe,WAAW,SAAS,EAAE,SAAS;AAAA,IAC1D,OAAO;AAEL,YAAM,YAAY,QAAQ;AAC1B,aAAU,YAAe,WAAW,SAAS,EAAE,SAAS;AAAA,IAC1D;AAAA,EACF;AAGA,WAAS,cAAc,MAA0B;AAC/C,QAAIC,OAAM,KAAK;AACf,QAAI,KAAK,UAAU;AACjB,iBAAW,SAAS,KAAK,UAAU;AACjC,QAAAA,OAAM,KAAK,IAAIA,MAAK,cAAc,KAAK,CAAC;AAAA,MAC1C;AAAA,IACF;AACA,WAAOA;AAAA,EACT;AAGO,WAAS,aACd,WACA,UACM;AAEN,cAAU,YAAY;AAEtB,QAAI,SAAS,WAAW,GAAG;AACzB,gBAAU,YACR;AACF;AAAA,IACF;AAEA,UAAM,YAAY,cAAc,QAAQ;AAGxC,UAAM,gBAAgB,UAAU,sBAAsB;AACtD,UAAM,QAAQ,KAAK,IAAI,cAAc,QAAQ,IAAI,GAAG;AACpD,UAAM,SAAS,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,QAAQ,GAAG,CAAC;AACvD,UAAM,SAAS,EAAE,KAAK,IAAI,OAAO,KAAK,QAAQ,IAAI,MAAM,GAAG;AAG3D,UAAM,MACHC,gBAAO,SAAS,EAChB,OAAO,KAAK,EACZ,KAAK,SAAS,KAAK,EACnB,KAAK,UAAU,MAAM,EACrB,KAAK,WAAW,OAAO,KAAK,IAAI,MAAM,EAAE,EACxC,KAAK,SAAS,gCAAgC;AAEjD,UAAM,IAAI,IACP,OAAO,GAAG,EACV,KAAK,aAAa,aAAa,OAAO,IAAI,IAAI,OAAO,GAAG,GAAG;AAG9D,UAAM,aACH,aAAiB,EACjB,KAAK,CAAC,SAAS,OAAO,MAAM,OAAO,QAAQ,QAAQ,OAAO,OAAO,OAAO,KAAK,CAAC;AAGjF,UAAMC,QAAU,UAAU,QAAQ;AAClC,UAAM,YAAY,WAAWA,KAAI;AAGjC,MAAE,UAAU,OAAO,EAChB,KAAK,UAAU,MAAM,CAAC,EACtB,MAAM,EACN,OAAO,MAAM,EACb,KAAK,SAAS,MAAM,EACpB,KAAK,QAAQ,MAAM,EACnB,KAAK,UAAU,SAAS,EACxB,KAAK,gBAAgB,CAAC,MAAM;AAC3B,YAAM,eAAgB,EAAE,OAAO,KAAoB;AACnD,aAAO,KAAK,IAAI,GAAG,KAAK,IAAI,GAAI,eAAe,YAAa,CAAC,CAAC;AAAA,IAChE,CAAC,EACA,KAAK,kBAAkB,GAAG,EAC1B;AAAA,MACC;AAAA,MAEG,eAAqF,EACrF,EAAE,CAAC,MAAM,EAAE,CAAC,EACZ,EAAE,CAAC,MAAM,EAAE,CAAC;AAAA,IACjB;AAGF,UAAM,OAAO,EACV,UAAU,OAAO,EACjB,KAAK,UAAU,YAAY,CAAC,EAC5B,MAAM,EACN,OAAO,GAAG,EACV,KAAK,SAAS,MAAM,EACpB,KAAK,aAAa,CAAC,MAAM,aAAa,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG;AAGtD,SACG,OAAO,QAAQ,EACf,KAAK,KAAK,CAAC,MAAM;AAChB,YAAM,SAAU,EAAE,KAAoB;AACtC,aAAO,KAAK,IAAI,GAAG,KAAK,IAAI,IAAI,IAAK,SAAS,YAAa,EAAE,CAAC;AAAA,IAChE,CAAC,EACA,KAAK,QAAQ,CAAC,MAAM,iBAAkB,EAAE,KAAoB,QAAQ,SAAS,CAAC,EAC9E,KAAK,UAAU,SAAS,EACxB,KAAK,gBAAgB,CAAC,EACtB,MAAM,UAAU,wCAAwC;AAG3D,SACG,OAAO,MAAM,EACb,KAAK,MAAM,GAAG,EACd,KAAK,eAAe,QAAQ,EAC5B,KAAK,QAAQ,SAAS,EACtB,KAAK,aAAa,MAAM,EACxB,KAAK,eAAe,KAAK,EACzB,KAAK,CAAC,MAAO,EAAE,KAAoB,IAAI;AAG1C,SACG,OAAO,MAAM,EACb,KAAK,MAAM,CAAC,EACZ,KAAK,eAAe,QAAQ,EAC5B,KAAK,QAAQ,SAAS,EACtB,KAAK,aAAa,KAAK,EACvB,KAAK,eAAe,MAAM,EAC1B,KAAK,CAAC,MAAM;AACX,YAAM,SAAU,EAAE,KAAoB;AACtC,UAAI,UAAU,KAAM;AAClB,eAAO,IAAI,SAAS,KAAM,QAAQ,CAAC,CAAC;AAAA,MACtC;AACA,aAAO,OAAO,MAAM;AAAA,IACtB,CAAC;AAGH,UAAM,SAAS,IACZ,OAAO,GAAG,EACV,KAAK,aAAa,aAAa,QAAQ,GAAG,OAAO;AAEpD,WACG,OAAO,MAAM,EACb,KAAK,KAAK,CAAC,EACX,KAAK,KAAK,CAAC,EACX,KAAK,QAAQ,SAAS,EACtB,KAAK,aAAa,MAAM,EACxB,KAAK,SAAS;AAEjB,UAAM,eAAe;AAAA,MACnB,EAAE,OAAO,QAAQ,OAAO,UAAU;AAAA,MAClC,EAAE,OAAO,OAAO,OAAO,UAAU;AAAA,MACjC,EAAE,OAAO,OAAO,OAAO,UAAU;AAAA,IACnC;AAEA,iBAAa,QAAQ,CAAC,MAAM,MAAM;AAChC,aACG,OAAO,QAAQ,EACf,KAAK,MAAM,IAAI,IAAI,EAAE,EACrB,KAAK,MAAM,EAAE,EACb,KAAK,KAAK,CAAC,EACX,KAAK,QAAQ,KAAK,KAAK;AAE1B,aACG,OAAO,MAAM,EACb,KAAK,KAAK,KAAK,IAAI,EAAE,EACrB,KAAK,KAAK,EAAE,EACZ,KAAK,QAAQ,SAAS,EACtB,KAAK,aAAa,KAAK,EACvB,KAAK,KAAK,KAAK;AAAA,IACpB,CAAC;AAAA,EACH;;;AClNA,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AAGJ,MAAI;AACJ,MAAI,eAAe;AACnB,MAAI,WAAW;AAGf,WAAS,UAAgB;AACvB,cAAU,SAAS,eAAe,OAAO;AACzC,yBAAqB,SAAS,eAAe,mBAAmB;AAChE,eAAW,SAAS,eAAe,QAAQ;AAC3C,mBAAe,SAAS,eAAe,aAAa;AACpD,sBAAkB,SAAS,eAAe,gBAAgB;AAC1D,iBAAa,SAAS,eAAe,UAAU;AAC/C,wBAAoB,SAAS,eAAe,aAAa;AACzD,yBAAqB,SAAS,eAAe,eAAe;AAE5D,eAAW,iBAAiB,SAAS,YAAY;AAAA,EACnD;AAGA,WAAS,cAAoB;AAE3B,uBAAmB,YAAY;AAC/B,aAAS,MAAM,GAAG,MAAM,aAAa,MAAM,OAAO;AAChD,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,YAAY;AACtB,gBAAU,QAAQ,MAAM,OAAO,GAAG;AAClC,yBAAmB,YAAY,SAAS;AAAA,IAC1C;AAGA,YAAQ,YAAY;AACpB,aAAS,MAAM,aAAa,OAAO,GAAG,OAAO,GAAG,OAAO;AACrD,eAAS,MAAM,GAAG,MAAM,aAAa,MAAM,OAAO;AAChD,cAAM,OAAO,SAAS,cAAc,KAAK;AACzC,aAAK,YAAY;AACjB,aAAK,QAAQ,MAAM,OAAO,GAAG;AAC7B,aAAK,QAAQ,MAAM,OAAO,GAAG;AAC7B,aAAK,iBAAiB,SAAS,MAAM,gBAAgB,GAAG,CAAC;AACzD,gBAAQ,YAAY,IAAI;AAAA,MAC1B;AAAA,IACF;AACA,uBAAmB;AAAA,EACrB;AAGA,WAAS,qBAA2B;AAClC,UAAM,QAAQ,QAAQ,iBAAiB,gBAAgB;AACvD,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,SAAS;AACf,YAAM,MAAM,SAAS,OAAO,QAAQ,KAAM,EAAE;AAC5C,YAAM,MAAM,SAAS,OAAO,QAAQ,KAAM,EAAE;AAC5C,YAAM,QAAQ,KAAK,MAAM,GAAG,IAAI,GAAG;AAGnC,aAAO,UAAU,OAAO,OAAO,UAAU,YAAY,YAAY,UAAU,UAAU;AAErF,UAAI,OAAO;AACT,eAAO,UAAU,IAAI,OAAO,UAAU;AAAA,MACxC;AAEA,UAAI,YAAY,CAAC,cAAc;AAC7B,eAAO,UAAU,IAAI,UAAU;AAAA,MACjC;AAAA,IACF,CAAC;AAGD,QAAI,UAAU;AACZ,YAAM,eAAe,KAAK,gBAAgB;AAC1C,UAAI,cAAc;AAChB,mBAAW,EAAE,KAAK,IAAI,KAAK,cAAc;AACvC,gBAAM,OAAO,QAAQ,cAAc,cAAc,GAAG,gBAAgB,GAAG,IAAI;AAC3E,cAAI,MAAM;AACR,iBAAK,UAAU,IAAI,QAAQ;AAAA,UAC7B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAGA,WAAS,gBAAgB,KAAmB;AAC1C,QAAI,CAAC,gBAAgB,UAAU;AAC7B;AAAA,IACF;AAEA,UAAM,gBAAgB,KAAK,iBAAiB;AAC5C,QAAI,CAAC,cAAc,SAAS,GAAmB,GAAG;AAChD;AAAA,IACF;AAGA,UAAM,YAAY,YAAY,GAAG;AACjC,SAAK,YAAY,GAAmB;AAGpC,QAAI,cAAc,MAAM;AACtB,YAAM,OAAO,QAAQ,cAAc,cAAc,SAAS,gBAAgB,GAAG,IAAI;AACjF,UAAI,MAAM;AACR,aAAK,UAAU,IAAI,UAAU;AAC7B,mBAAW,MAAM,KAAK,UAAU,OAAO,UAAU,GAAG,GAAG;AAAA,MACzD;AAAA,IACF;AAEA,uBAAmB;AAGnB,UAAM,SAAS,KAAK,UAAU;AAC9B,QAAI,QAAQ;AACV,iBAAW;AACX,gBAAU,uBAAuB,OAAO,YAAY,CAAC,KAAK,MAAM,eAAe;AAC/E,yBAAmB;AACnB;AAAA,IACF;AAEA,QAAI,KAAK,YAAY,GAAG;AACtB,iBAAW;AACX,gBAAU,cAAc;AACxB;AAAA,IACF;AAGA,mBAAe;AACf,cAAU,qBAAqB,IAAI;AAGnC,eAAW,UAAU,EAAE;AAAA,EACzB;AAGA,WAAS,YAAY,KAA4B;AAC/C,aAAS,MAAM,GAAG,MAAM,aAAa,MAAM,OAAO;AAChD,UAAI,KAAK,MAAM,GAAG,IAAI,GAAG,MAAM,MAAM;AACnC,eAAO;AAAA,MACT;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAGA,WAAS,WAAW,MAAmC;AACrD,QAAI,SAAS,MAAM;AACjB,aAAO;AAAA,IACT;AACA,WAAO,OAAO,OAAO,CAAC;AAAA,EACxB;AAGA,iBAAe,WAA0B;AACvC,UAAM,cAAc,SAAS,kBAAkB,OAAO,EAAE;AACxD,UAAM,eAAe,mBAAmB,UAAU;AAElD,UAAM,OAAO,IAAI,KAAK,MAAM,WAAW;AAEvC,QAAI,cAAc;AAEhB,YAAM,YAAY,KAAK,IAAI,KAAK,KAAK,KAAK,cAAc,EAAE,CAAC;AAC3D,UAAI,YAAY;AAEhB,aAAO,YAAY,aAAa;AAC9B,cAAM,YAAY,cAAc;AAChC,cAAM,QAAQ,KAAK,IAAI,WAAW,SAAS;AAC3C,aAAK,eAAe,KAAK;AACzB,qBAAa;AAGb,yBAAiB,WAAW,WAAW;AACvC,yBAAiB,KAAK,aAAa,CAAC;AACpC,gCAAwB,KAAK,YAAY,CAAC,CAAC;AAG3C,cAAM,IAAI,QAAQ,CAAC,YAAY,WAAW,SAAS,EAAE,CAAC;AAAA,MACxD;AAAA,IACF,OAAO;AAEL,WAAK,eAAe,WAAW;AAC/B,uBAAiB,aAAa,WAAW;AAAA,IAC3C;AAGA,UAAM,WAAW,KAAK,YAAY;AAClC,QAAI,aAAa,MAAM;AACrB,iBAAW;AACX,gBAAU,cAAc;AACxB;AAAA,IACF;AAGA,oBAAgB;AAGhB,UAAM,YAAY,YAAY,QAAQ;AACtC,SAAK,YAAY,QAAQ;AAGzB,QAAI,cAAc,MAAM;AACtB,YAAM,OAAO,QAAQ,cAAc,cAAc,SAAS,gBAAgB,QAAQ,IAAI;AACtF,UAAI,MAAM;AACR,aAAK,UAAU,IAAI,UAAU;AAC7B,mBAAW,MAAM,KAAK,UAAU,OAAO,UAAU,GAAG,GAAG;AAAA,MACzD;AAAA,IACF;AAEA,uBAAmB;AAGnB,UAAM,SAAS,KAAK,UAAU;AAC9B,QAAI,QAAQ;AACV,iBAAW;AACX,gBAAU,uBAAuB,OAAO,YAAY,CAAC,KAAK,MAAM,eAAe;AAC/E,yBAAmB;AACnB;AAAA,IACF;AAEA,QAAI,KAAK,YAAY,GAAG;AACtB,iBAAW;AACX,gBAAU,cAAc;AACxB;AAAA,IACF;AAGA,mBAAe;AACf,cAAU,4CAA4C;AACtD,iBAAa,cAAc;AAAA,EAC7B;AAGA,WAAS,iBAAiB,OAAwE;AAChG,QAAI,MAAM,WAAW,GAAG;AACtB;AAAA,IACF;AAEA,UAAM,YAAY,KAAK,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;AAGxD,UAAM,aAAa,mBAAmB,iBAAiB,mBAAmB;AAC1E,eAAW,QAAQ,CAAC,QAAQ;AAC1B,UAAI,UAAU,OAAO,oBAAoB,oBAAoB,gBAAgB;AAAA,IAC/E,CAAC;AAED,eAAW,QAAQ,OAAO;AACxB,YAAM,YAAY,mBAAmB,cAAc,cAAc,KAAK,IAAI,IAAI;AAC9E,UAAI,CAAC,WAAW;AACd;AAAA,MACF;AAEA,YAAM,QAAQ,KAAK,SAAS;AAC5B,UAAI,QAAQ,KAAK;AACf,kBAAU,UAAU,IAAI,kBAAkB;AAAA,MAC5C,WAAW,QAAQ,KAAK;AACtB,kBAAU,UAAU,IAAI,kBAAkB;AAAA,MAC5C,OAAO;AACL,kBAAU,UAAU,IAAI,gBAAgB;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AAGA,WAAS,kBAAwB;AAC/B,UAAM,aAAa,mBAAmB,iBAAiB,mBAAmB;AAC1E,eAAW,QAAQ,CAAC,QAAQ;AAC1B,UAAI,UAAU,OAAO,oBAAoB,oBAAoB,gBAAgB;AAAA,IAC/E,CAAC;AAAA,EACH;AAGA,WAAS,wBAAwB,MAAwC;AACvE,UAAM,SAAS,gBAAgB,MAAM,YAAY,CAAC;AAClD,iBAAa,iBAAiB,MAAM;AAAA,EACtC;AAGA,WAAS,iBAAiB,SAAiB,OAAqB;AAC9D,iBAAa,cAAc,gBAAgB,OAAO,MAAM,KAAK;AAAA,EAC/D;AAGA,WAAS,UAAU,SAAiB,WAAW,OAAa;AAC1D,aAAS,YAAY;AACrB,aAAS,UAAU,OAAO,YAAY,QAAQ;AAAA,EAChD;AAGA,WAAS,eAAqB;AAC5B,WAAO,IAAI,aAAa;AACxB,mBAAe;AACf,eAAW;AACX,cAAU,4CAA4C;AACtD,iBAAa,cAAc;AAC3B,oBAAgB,YACd;AACF,gBAAY;AAAA,EACd;AAGA,WAAS,iBAAiB,oBAAoB,MAAM;AAClD,YAAQ;AACR,iBAAa;AAAA,EACf,CAAC;",
  "names": ["array", "game", "children", "count", "path", "type", "document", "x", "datum", "x", "selection", "create", "create", "parseTypenames", "type", "window", "dispatch_default", "dispatch_default", "select_default", "min", "max", "constant_default", "x", "y", "y", "constant_default", "y", "color", "rgb", "start", "i", "now", "id", "get", "set", "start", "empty", "interrupt_default", "id", "set", "get", "transition", "attrRemove", "attrRemoveNS", "attrConstant", "attrConstantNS", "attrFunction", "attrFunctionNS", "attr_default", "id", "get", "id", "set", "get", "id", "set", "get", "id", "set", "filter_default", "merge_default", "transition", "id", "set", "on_default", "get", "id", "remove_default", "select_default", "id", "get", "selectAll_default", "id", "children", "inherit", "get", "Selection", "selection_default", "styleRemove", "styleConstant", "styleFunction", "id", "remove", "set", "style_default", "textConstant", "textFunction", "text_default", "inherit", "get", "id", "set", "id", "select_default", "selectAll_default", "filter_default", "merge_default", "selection_default", "on_default", "attr_default", "style_default", "text_default", "remove_default", "id", "transition_default", "interrupt_default", "transition_default", "x", "y", "x", "y", "children", "each_default", "children", "children", "children", "sort_default", "start", "root", "iterator_default", "children", "children", "root", "Node", "each_default", "sort_default", "iterator_default", "children", "Node", "root", "x", "constant_default", "x", "x", "y", "x", "y", "path", "link", "constant_default", "x", "y", "identity", "formatMove", "max", "select_default", "root"]
}
